{"version":3,"file":"range-slider.js","sources":["../src/range-slider.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO range-slider.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin, isRTL } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'range-slider'\nconst DATA_KEY = 'coreui.range-slider'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_CHANGE = `change${EVENT_KEY}`\nconst EVENT_INPUT = 'input'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_MOUSEDOWN = `mousedown${EVENT_KEY}`\nconst EVENT_MOUSEMOVE = `mousemove${EVENT_KEY}`\nconst EVENT_MOUSEUP = `mouseup${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\n\nconst CLASS_NAME_CLICKABLE = 'clickable'\nconst CLASS_NAME_DISABLED = 'disabled'\nconst CLASS_NAME_RANGE_SLIDER = 'range-slider'\nconst CLASS_NAME_RANGE_SLIDER_INPUT = 'range-slider-input'\nconst CLASS_NAME_RANGE_SLIDER_INPUTS_CONTAINER = 'range-slider-inputs-container'\nconst CLASS_NAME_RANGE_SLIDER_LABEL = 'range-slider-label'\nconst CLASS_NAME_RANGE_SLIDER_LABELS_CONTAINER = 'range-slider-labels-container'\nconst CLASS_NAME_RANGE_SLIDER_TOOLTIP = 'range-slider-tooltip'\nconst CLASS_NAME_RANGE_SLIDER_TOOLTIP_ARROW = 'range-slider-tooltip-arrow'\nconst CLASS_NAME_RANGE_SLIDER_TOOLTIP_INNER = 'range-slider-tooltip-inner'\nconst CLASS_NAME_RANGE_SLIDER_TRACK = 'range-slider-track'\nconst CLASS_NAME_RANGE_SLIDER_VERTICAL = 'range-slider-vertical'\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"range-slider\"]'\nconst SELECTOR_RANGE_SLIDER_INPUT = '.range-slider-input'\nconst SELECTOR_RANGE_SLIDER_INPUTS_CONTAINER = '.range-slider-inputs-container'\nconst SELECTOR_RANGE_SLIDER_LABEL = '.range-slider-label'\nconst SELECTOR_RANGE_SLIDER_LABELS_CONTAINER = '.range-slider-labels-container'\n\nconst Default = {\n  clickableLabels: true,\n  disabled: false,\n  distance: 0,\n  labels: false,\n  max: 100,\n  min: 0,\n  name: null,\n  step: 1,\n  tooltips: true,\n  tooltipsFormat: null,\n  track: 'fill',\n  value: 0,\n  vertical: false\n}\n\nconst DefaultType = {\n  clickableLabels: 'boolean',\n  disabled: 'boolean',\n  distance: 'number',\n  labels: '(array|boolean|string)',\n  max: 'number',\n  min: 'number',\n  name: '(array|string|null)',\n  step: '(number|string)',\n  tooltips: 'boolean',\n  tooltipsFormat: '(function|null)',\n  track: '(boolean|string)',\n  value: '(array|number)',\n  vertical: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass RangeSlider extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n\n    this._currentValue = this._config.value\n    this._dragIndex = 0\n    this._inputs = []\n    this._isDragging = false\n    this._sliderTrack = null\n    this._thumbSize = null\n    this._tooltips = []\n\n    this._initializeRangeSlider()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  update(config) {\n    this._config = this._getConfig(config)\n    this._currentValue = this._config.value\n    this._element.innerHTML = ''\n    this._initializeRangeSlider()\n  }\n\n  // Private\n  _addEventListeners() {\n    if (this._config.disabled) {\n      return\n    }\n\n    EventHandler.on(this._element, EVENT_INPUT, SELECTOR_RANGE_SLIDER_INPUT, event => {\n      const { target } = event\n      this._isDragging = false\n      const children = SelectorEngine.children(target.parentElement, SELECTOR_RANGE_SLIDER_INPUT)\n      const index = Array.from(children).indexOf(target)\n      this._updateValue(target.value, index)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN, SELECTOR_RANGE_SLIDER_LABEL, event => {\n      if (!this._config.clickableLabels || event.button !== 0) {\n        return\n      }\n\n      const value = Manipulator.getDataAttribute(event.target, 'value')\n      this._updateNearestValue(value)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN, SELECTOR_RANGE_SLIDER_INPUTS_CONTAINER, event => {\n      if (event.button !== 0) {\n        return\n      }\n\n      this._isDragging = true\n      const clickValue = this._calculateClickValue(event)\n      this._dragIndex = this._getNearestValueIndex(clickValue)\n      this._updateNearestValue(clickValue)\n    })\n\n    EventHandler.on(document.documentElement, EVENT_MOUSEUP, () => {\n      this._isDragging = false\n    })\n\n    EventHandler.on(document.documentElement, EVENT_MOUSEMOVE, event => {\n      if (!this._isDragging) {\n        return\n      }\n\n      const moveValue = this._calculateMoveValue(event)\n\n      this._updateValue(moveValue, this._dragIndex)\n    })\n\n    EventHandler.on(window, EVENT_RESIZE, () => {\n      this._updateLabelsContainerSize()\n    })\n  }\n\n  _initializeRangeSlider() {\n    this._element.classList.add(CLASS_NAME_RANGE_SLIDER)\n\n    if (this._config.vertical) {\n      this._element.classList.add(CLASS_NAME_RANGE_SLIDER_VERTICAL)\n    }\n\n    if (this._config.disabled) {\n      this._element.classList.add(CLASS_NAME_DISABLED)\n    }\n\n    this._sliderTrack = this._createSliderTrack()\n    this._createInputs()\n    this._createLabels()\n    this._updateLabelsContainerSize()\n    this._createTooltips()\n    this._updateGradient()\n    this._addEventListeners()\n  }\n\n  _createSliderTrack() {\n    const sliderTrackElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TRACK)\n\n    return sliderTrackElement\n  }\n\n  _createInputs() {\n    const container = this._createElement('div', CLASS_NAME_RANGE_SLIDER_INPUTS_CONTAINER)\n\n    for (const [index, value] of this._currentValue.entries()) {\n      const inputElement = this._createInput(index, value)\n      container.append(inputElement)\n\n      this._inputs[index] = inputElement\n    }\n\n    container.append(this._sliderTrack)\n    this._element.append(container)\n  }\n\n  _createInput(index, value) {\n    const inputElement = this._createElement('input', CLASS_NAME_RANGE_SLIDER_INPUT)\n    inputElement.type = 'range'\n    inputElement.min = this._config.min\n    inputElement.max = this._config.max\n    inputElement.step = this._config.step\n    inputElement.value = value\n    inputElement.name = Array.isArray(this._config.name) ?\n      `${this._config.name[index]}` :\n      `${this._config.name || ''}-${index}`\n    inputElement.disabled = this._config.disabled\n\n    // Accessibility attributes\n    inputElement.setAttribute('role', 'slider')\n    inputElement.setAttribute('aria-valuemin', this._config.min)\n    inputElement.setAttribute('aria-valuemax', this._config.max)\n    inputElement.setAttribute('aria-valuenow', value)\n    inputElement.setAttribute('aria-orientation', this._config.vertical ? 'vertical' : 'horizontal')\n\n    return inputElement\n  }\n\n  _createLabels() {\n    const { clickableLabels, disabled, labels, min, max, vertical } = this._config\n\n    if (!labels || !Array.isArray(labels) || labels.length === 0) {\n      return\n    }\n\n    const labelsContainer = this._createElement('div', CLASS_NAME_RANGE_SLIDER_LABELS_CONTAINER)\n\n    for (const [index, label] of this._config.labels.entries()) {\n      const labelElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_LABEL)\n\n      if (clickableLabels && !disabled) {\n        labelElement.classList.add(CLASS_NAME_CLICKABLE)\n      }\n\n      if (label.class) {\n        const classNames = Array.isArray(label.class) ? label.class : [label.class]\n        labelElement.classList.add(...classNames)\n      }\n\n      if (label.style && typeof label.style === 'object') {\n        Object.assign(labelElement.style, label.style)\n      }\n\n      // Calculate percentage based on index\n      const percentage = labels.length === 1 ? 0 : (index / (labels.length - 1)) * 100\n\n      // Determine label value\n      const labelValue = typeof label === 'object' ? label.value : min + ((percentage / 100) * (max - min))\n\n      // Set data-coreui-value attribute\n      Manipulator.setDataAttribute(labelElement, 'value', labelValue)\n\n      // Set label content\n      labelElement.textContent = typeof label === 'object' ? label.label : label\n\n      // Calculate and set position\n      const position = this._calculateLabelPosition(label, index, percentage)\n      if (vertical) {\n        labelElement.style.bottom = position\n      } else {\n        labelElement.style[isRTL() ? 'right' : 'left'] = position\n      }\n\n      labelsContainer.append(labelElement)\n    }\n\n    this._element.append(labelsContainer)\n  }\n\n  _calculateLabelPosition(label, index) {\n    // Check if label is an object with a specific value\n    if (typeof label === 'object' && label.value !== undefined) {\n      return `${((label.value - this._config.min) / (this._config.max - this._config.min)) * 100}%`\n    }\n\n    // Calculate position based on index when label is not an object\n    return `${(index / (this._config.labels.length - 1)) * 100}%`\n  }\n\n  _updateLabelsContainerSize() {\n    const labelsContainer = SelectorEngine.findOne(SELECTOR_RANGE_SLIDER_LABELS_CONTAINER, this._element)\n\n    if (!this._config.labels || !labelsContainer) {\n      return\n    }\n\n    const labels = SelectorEngine.find(SELECTOR_RANGE_SLIDER_LABEL, this._element)\n    if (labels.length === 0) {\n      return\n    }\n\n    const maxSize = Math.max(...labels.map(label => (this._config.vertical ? label.offsetWidth : label.offsetHeight)))\n\n    labelsContainer.style[this._config.vertical ? 'width' : 'height'] = `${maxSize}px`\n  }\n\n  _createTooltips() {\n    if (!this._config.tooltips) {\n      return\n    }\n\n    const inputs = SelectorEngine.find(SELECTOR_RANGE_SLIDER_INPUT, this._element)\n    this._thumbSize = this._getThumbSize()\n\n    for (const input of inputs) {\n      const tooltipElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TOOLTIP)\n      const tooltipInnerElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TOOLTIP_INNER)\n      const tooltipArrowElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TOOLTIP_ARROW)\n\n      tooltipInnerElement.innerHTML = this._config.tooltipsFormat ? this._config.tooltipsFormat(input.value) : input.value\n      tooltipElement.append(tooltipInnerElement, tooltipArrowElement)\n\n      input.parentNode.insertBefore(tooltipElement, input.nextSibling)\n      this._positionTooltip(tooltipElement, input)\n      this._tooltips.push(tooltipElement)\n    }\n  }\n\n  _getThumbSize() {\n    const value = window\n    .getComputedStyle(this._element, null)\n    .getPropertyValue(\n      this._config.vertical ? '--cui-range-slider-thumb-height' : '--cui-range-slider-thumb-width'\n    )\n\n    const regex = /^(\\d+\\.?\\d*)([%a-z]*)$/i\n    const match = value.match(regex)\n\n    if (match) {\n      return {\n        value: Number.parseFloat(match[1]),\n        unit: match[2] || null\n      }\n    }\n\n    return null\n  }\n\n  _positionTooltip(tooltip, input) {\n    const thumbSize = this._thumbSize\n    const percent = (input.value - this._config.min) / (this._config.max - this._config.min)\n    const margin = percent > 0.5 ?\n      `-${(percent - 0.5) * thumbSize.value}${thumbSize.unit}` :\n      `${(0.5 - percent) * thumbSize.value}${thumbSize.unit}`\n\n    if (this._config.vertical) {\n      Object.assign(tooltip.style, {\n        bottom: `${percent * 100}%`,\n        marginBottom: margin\n      })\n\n      return\n    }\n\n    Object.assign(tooltip.style,\n      isRTL() ?\n        { right: `${percent * 100}%`, marginRight: margin } :\n        { left: `${percent * 100}%`, marginLeft: margin }\n    )\n  }\n\n  _updateTooltip(index, value) {\n    if (!this._config.tooltips) {\n      return\n    }\n\n    if (this._tooltips[index]) {\n      this._tooltips[index].children[0].innerHTML = this._config.tooltipsFormat ? this._config.tooltipsFormat(value) : value\n      const input = SelectorEngine.find(SELECTOR_RANGE_SLIDER_INPUT, this._element)[index]\n      this._positionTooltip(this._tooltips[index], input)\n    }\n  }\n\n  _calculateClickValue(event) {\n    const clickPosition = this._getClickPosition(event)\n    const value = this._config.min + (clickPosition * (this._config.max - this._config.min))\n    return this._roundToStep(value, this._config.step)\n  }\n\n  _calculateMoveValue(event) {\n    const trackRect = this._sliderTrack.getBoundingClientRect()\n    const position = this._config.vertical ?\n      this._calculateVerticalPosition(event.clientY, trackRect) :\n      this._calculateHorizontalPosition(event.clientX, trackRect)\n\n    if (typeof position === 'string') {\n      return position === 'max' ? this._config.max : this._config.min\n    }\n\n    const value = this._config.min + (position * (this._config.max - this._config.min))\n\n    return this._roundToStep(value, this._config.step)\n  }\n\n  _calculateVerticalPosition(mouseY, rect) {\n    if (mouseY < rect.top) {\n      return 'max'\n    }\n\n    if (mouseY > rect.bottom) {\n      return 'min'\n    }\n\n    return Math.min(Math.max((rect.bottom - mouseY) / rect.height, 0), 1)\n  }\n\n  _calculateHorizontalPosition(mouseX, rect) {\n    if (mouseX < rect.left) {\n      return isRTL() ? 'max' : 'min'\n    }\n\n    if (mouseX > rect.right) {\n      return isRTL() ? 'min' : 'max'\n    }\n\n    const relativeX = isRTL() ? rect.right - mouseX : mouseX - rect.left\n    return Math.min(Math.max(relativeX / rect.width, 0), 1)\n  }\n\n  _createElement(tag, className) {\n    const element = document.createElement(tag)\n    element.classList.add(className)\n    return element\n  }\n\n  _getClickPosition(event) {\n    const { offsetX, offsetY } = event\n    const { offsetWidth, offsetHeight } = this._sliderTrack\n\n    if (this._config.vertical) {\n      return 1 - (offsetY / offsetHeight)\n    }\n\n    return isRTL() ? 1 - (offsetX / offsetWidth) : offsetX / offsetWidth\n  }\n\n  _getNearestValueIndex(value) {\n    const values = this._currentValue\n    const valuesLength = values.length\n\n    if (value < values[0]) {\n      return 0\n    }\n\n    if (value > values[valuesLength - 1]) {\n      return valuesLength - 1\n    }\n\n    const distances = values.map(v => Math.abs(v - value))\n    const min = Math.min(...distances)\n    const firstIndex = distances.indexOf(min)\n\n    return value < values[firstIndex] ? firstIndex : distances.lastIndexOf(min)\n  }\n\n  _updateGradient() {\n    if (!this._config.track) {\n      return\n    }\n\n    const [min, max] = [Math.min(...this._currentValue), Math.max(...this._currentValue)]\n    const from = ((min - this._config.min) / (this._config.max - this._config.min)) * 100\n    const to = ((max - this._config.min) / (this._config.max - this._config.min)) * 100\n    const direction = this._config.vertical ? 'to top' : (isRTL() ? 'to left' : 'to right')\n\n    if (this._currentValue.length === 1) {\n      this._sliderTrack.style.backgroundImage = `linear-gradient(\n        ${direction},\n        var(--cui-range-slider-track-in-range-bg) 0%,\n        var(--cui-range-slider-track-in-range-bg) ${to}%,\n        transparent ${to}%,\n        transparent 100%\n      )`\n      return\n    }\n\n    this._sliderTrack.style.backgroundImage = `linear-gradient(\n      ${direction},\n      transparent 0%,\n      transparent ${from}%,\n      var(--cui-range-slider-track-in-range-bg) ${from}%,\n      var(--cui-range-slider-track-in-range-bg) ${to}%,\n      transparent ${to}%,\n      transparent 100%\n    )`\n  }\n\n  _updateNearestValue(value) {\n    const nearestIndex = this._getNearestValueIndex(value)\n    this._updateValue(value, nearestIndex)\n  }\n\n  _updateValue(value, index) {\n    const _value = this._validateValue(value, index)\n    this._currentValue[index] = _value\n    this._updateInput(index, _value)\n    this._updateGradient()\n    this._updateTooltip(index, _value)\n    EventHandler.trigger(this._element, EVENT_CHANGE, { value: this._currentValue })\n  }\n\n  _updateInput(index, value) {\n    const input = this._inputs[index]\n\n    input.value = value\n    input.setAttribute('aria-valuenow', value)\n    setTimeout(() => {\n      input.focus()\n    })\n  }\n\n  _validateValue(value, index) {\n    const { distance } = this._config\n    const { length } = this._currentValue\n\n    if (length === 1) {\n      return value\n    }\n\n    const prevValue = index > 0 ? this._currentValue[index - 1] : undefined\n    const nextValue = index < length - 1 ? this._currentValue[index + 1] : undefined\n\n    if (index === 0 && nextValue !== undefined) {\n      return Math.min(value, nextValue - distance)\n    }\n\n    if (index === length - 1 && prevValue !== undefined) {\n      return Math.max(value, prevValue + distance)\n    }\n\n    if (prevValue !== undefined && nextValue !== undefined) {\n      const minVal = prevValue + distance\n      const maxVal = nextValue - distance\n      return Math.min(Math.max(value, minVal), maxVal)\n    }\n\n    return value\n  }\n\n  _roundToStep(number, step) {\n    const _step = step === 0 ? 1 : step\n    return Math.round(number / _step) * _step\n  }\n\n  _configAfterMerge(config) {\n    if (typeof config.labels === 'string') {\n      config.labels = config.labels.split(/,\\s*/)\n    }\n\n    if (typeof config.name === 'string') {\n      config.name = config.name.split(/,\\s*/)\n    }\n\n    if (typeof config.value === 'number') {\n      config.value = [config.value]\n    }\n\n    if (typeof config.value === 'string') {\n      config.value = config.value.split(/,\\s*/).map(Number)\n    }\n\n    return config\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static rangeSliderInterface(element, config) {\n    const data = RangeSlider.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = RangeSlider.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const ratings = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = ratings.length; i < len; i++) {\n    RangeSlider.rangeSliderInterface(ratings[i])\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(RangeSlider)\n\nexport default RangeSlider\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_CHANGE","EVENT_INPUT","EVENT_LOAD_DATA_API","EVENT_MOUSEDOWN","EVENT_MOUSEMOVE","EVENT_MOUSEUP","EVENT_RESIZE","CLASS_NAME_CLICKABLE","CLASS_NAME_DISABLED","CLASS_NAME_RANGE_SLIDER","CLASS_NAME_RANGE_SLIDER_INPUT","CLASS_NAME_RANGE_SLIDER_INPUTS_CONTAINER","CLASS_NAME_RANGE_SLIDER_LABEL","CLASS_NAME_RANGE_SLIDER_LABELS_CONTAINER","CLASS_NAME_RANGE_SLIDER_TOOLTIP","CLASS_NAME_RANGE_SLIDER_TOOLTIP_ARROW","CLASS_NAME_RANGE_SLIDER_TOOLTIP_INNER","CLASS_NAME_RANGE_SLIDER_TRACK","CLASS_NAME_RANGE_SLIDER_VERTICAL","SELECTOR_DATA_TOGGLE","SELECTOR_RANGE_SLIDER_INPUT","SELECTOR_RANGE_SLIDER_INPUTS_CONTAINER","SELECTOR_RANGE_SLIDER_LABEL","SELECTOR_RANGE_SLIDER_LABELS_CONTAINER","Default","clickableLabels","disabled","distance","labels","max","min","name","step","tooltips","tooltipsFormat","track","value","vertical","DefaultType","RangeSlider","BaseComponent","constructor","element","config","_config","_getConfig","_currentValue","_dragIndex","_inputs","_isDragging","_sliderTrack","_thumbSize","_tooltips","_initializeRangeSlider","update","_element","innerHTML","_addEventListeners","EventHandler","on","event","target","children","SelectorEngine","parentElement","index","Array","from","indexOf","_updateValue","button","Manipulator","getDataAttribute","_updateNearestValue","clickValue","_calculateClickValue","_getNearestValueIndex","document","documentElement","moveValue","_calculateMoveValue","window","_updateLabelsContainerSize","classList","add","_createSliderTrack","_createInputs","_createLabels","_createTooltips","_updateGradient","sliderTrackElement","_createElement","container","entries","inputElement","_createInput","append","type","isArray","setAttribute","length","labelsContainer","label","labelElement","class","classNames","style","Object","assign","percentage","labelValue","setDataAttribute","textContent","position","_calculateLabelPosition","bottom","isRTL","undefined","findOne","find","maxSize","Math","map","offsetWidth","offsetHeight","inputs","_getThumbSize","input","tooltipElement","tooltipInnerElement","tooltipArrowElement","parentNode","insertBefore","nextSibling","_positionTooltip","push","getComputedStyle","getPropertyValue","regex","match","Number","parseFloat","unit","tooltip","thumbSize","percent","margin","marginBottom","right","marginRight","left","marginLeft","_updateTooltip","clickPosition","_getClickPosition","_roundToStep","trackRect","getBoundingClientRect","_calculateVerticalPosition","clientY","_calculateHorizontalPosition","clientX","mouseY","rect","top","height","mouseX","relativeX","width","tag","className","createElement","offsetX","offsetY","values","valuesLength","distances","v","abs","firstIndex","lastIndexOf","to","direction","backgroundImage","nearestIndex","_value","_validateValue","_updateInput","trigger","setTimeout","focus","prevValue","nextValue","minVal","maxVal","number","_step","round","_configAfterMerge","split","dataAttributes","getDataAttributes","_mergeConfigObj","_typeCheckConfig","rangeSliderInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","startsWith","ratings","i","len","defineJQueryPlugin"],"mappings":"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"}