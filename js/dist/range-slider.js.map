{"version":3,"file":"range-slider.js","sources":["../src/range-slider.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO range-slider.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin, isRTL } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'range-slider'\nconst DATA_KEY = 'coreui.range-slider'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_CHANGE = `change${EVENT_KEY}`\nconst EVENT_INPUT = 'input'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_MOUSEDOWN = `mousedown${EVENT_KEY}`\nconst EVENT_MOUSEMOVE = `mousemove${EVENT_KEY}`\nconst EVENT_MOUSEUP = `mouseup${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\n\nconst CLASS_NAME_CLICKABLE = 'clickable'\nconst CLASS_NAME_DISABLED = 'disabled'\nconst CLASS_NAME_RANGE_SLIDER = 'range-slider'\nconst CLASS_NAME_RANGE_SLIDER_INPUT = 'range-slider-input'\nconst CLASS_NAME_RANGE_SLIDER_INPUTS_CONTAINER = 'range-slider-inputs-container'\nconst CLASS_NAME_RANGE_SLIDER_LABEL = 'range-slider-label'\nconst CLASS_NAME_RANGE_SLIDER_LABELS_CONTAINER = 'range-slider-labels-container'\nconst CLASS_NAME_RANGE_SLIDER_TOOLTIP = 'range-slider-tooltip'\nconst CLASS_NAME_RANGE_SLIDER_TOOLTIP_ARROW = 'range-slider-tooltip-arrow'\nconst CLASS_NAME_RANGE_SLIDER_TOOLTIP_INNER = 'range-slider-tooltip-inner'\nconst CLASS_NAME_RANGE_SLIDER_TRACK = 'range-slider-track'\nconst CLASS_NAME_RANGE_SLIDER_VERTICAL = 'range-slider-vertical'\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"range-slider\"]'\nconst SELECTOR_RANGE_SLIDER_INPUT = '.range-slider-input'\nconst SELECTOR_RANGE_SLIDER_INPUTS_CONTAINER = '.range-slider-inputs-container'\nconst SELECTOR_RANGE_SLIDER_LABEL = '.range-slider-label'\nconst SELECTOR_RANGE_SLIDER_LABELS_CONTAINER = '.range-slider-labels-container'\n\nconst Default = {\n  clickableLabels: true,\n  disabled: false,\n  distance: 0,\n  labels: false,\n  max: 100,\n  min: 0,\n  name: null,\n  step: 1,\n  tooltips: true,\n  tooltipsFormat: null,\n  track: 'fill',\n  value: 0,\n  vertical: false\n}\n\nconst DefaultType = {\n  clickableLabels: 'boolean',\n  disabled: 'boolean',\n  distance: 'number',\n  labels: '(array|boolean|string)',\n  max: 'number',\n  min: 'number',\n  name: '(array|string|null)',\n  step: '(number|string)',\n  tooltips: 'boolean',\n  tooltipsFormat: '(function|null)',\n  track: '(boolean|string)',\n  value: '(array|number)',\n  vertical: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass RangeSlider extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n\n    this._currentValue = this._config.value\n    this._dragIndex = 0\n    this._inputs = []\n    this._isDragging = false\n    this._sliderTrack = null\n    this._thumbSize = null\n    this._tooltips = []\n\n    this._initializeRangeSlider()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  update(config) {\n    this._config = this._getConfig(config)\n    this._currentValue = this._config.value\n    this._element.innerHTML = ''\n    this._initializeRangeSlider()\n  }\n\n  // Private\n  _addEventListeners() {\n    if (this._config.disabled) {\n      return\n    }\n\n    EventHandler.on(this._element, EVENT_INPUT, SELECTOR_RANGE_SLIDER_INPUT, event => {\n      const { target } = event\n      this._isDragging = false\n      const children = SelectorEngine.children(target.parentElement, SELECTOR_RANGE_SLIDER_INPUT)\n      const index = Array.from(children).indexOf(target)\n      this._updateValue(target.value, index)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN, SELECTOR_RANGE_SLIDER_LABEL, event => {\n      if (!this._config.clickableLabels || event.button !== 0) {\n        return\n      }\n\n      const value = Manipulator.getDataAttribute(event.target, 'value')\n      this._updateNearestValue(value)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEDOWN, SELECTOR_RANGE_SLIDER_INPUTS_CONTAINER, event => {\n      if (event.button !== 0) {\n        return\n      }\n\n      if (!(event.target instanceof HTMLInputElement) && !event.target.className.includes(CLASS_NAME_RANGE_SLIDER_TRACK)) {\n        return\n      }\n\n      this._isDragging = true\n      const clickValue = this._calculateClickValue(event)\n      this._dragIndex = this._getNearestValueIndex(clickValue)\n      this._updateNearestValue(clickValue)\n    })\n\n    EventHandler.on(document.documentElement, EVENT_MOUSEUP, () => {\n      this._isDragging = false\n    })\n\n    EventHandler.on(document.documentElement, EVENT_MOUSEMOVE, event => {\n      if (!this._isDragging) {\n        return\n      }\n\n      const moveValue = this._calculateMoveValue(event)\n\n      this._updateValue(moveValue, this._dragIndex)\n    })\n\n    EventHandler.on(window, EVENT_RESIZE, () => {\n      this._updateLabelsContainerSize()\n    })\n  }\n\n  _initializeRangeSlider() {\n    this._element.classList.add(CLASS_NAME_RANGE_SLIDER)\n\n    if (this._config.vertical) {\n      this._element.classList.add(CLASS_NAME_RANGE_SLIDER_VERTICAL)\n    }\n\n    if (this._config.disabled) {\n      this._element.classList.add(CLASS_NAME_DISABLED)\n    }\n\n    this._sliderTrack = this._createSliderTrack()\n    this._createInputs()\n    this._createLabels()\n    this._updateLabelsContainerSize()\n    this._createTooltips()\n    this._updateGradient()\n    this._addEventListeners()\n  }\n\n  _createSliderTrack() {\n    const sliderTrackElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TRACK)\n\n    return sliderTrackElement\n  }\n\n  _createInputs() {\n    const container = this._createElement('div', CLASS_NAME_RANGE_SLIDER_INPUTS_CONTAINER)\n\n    for (const [index, value] of this._currentValue.entries()) {\n      const inputElement = this._createInput(index, value)\n      container.append(inputElement)\n\n      this._inputs[index] = inputElement\n    }\n\n    container.append(this._sliderTrack)\n    this._element.append(container)\n  }\n\n  _createInput(index, value) {\n    const inputElement = this._createElement('input', CLASS_NAME_RANGE_SLIDER_INPUT)\n    inputElement.type = 'range'\n    inputElement.min = this._config.min\n    inputElement.max = this._config.max\n    inputElement.step = this._config.step\n    inputElement.value = value\n    inputElement.name = Array.isArray(this._config.name) ?\n      `${this._config.name[index]}` :\n      `${this._config.name || ''}-${index}`\n    inputElement.disabled = this._config.disabled\n\n    // Accessibility attributes\n    inputElement.setAttribute('role', 'slider')\n    inputElement.setAttribute('aria-valuemin', this._config.min)\n    inputElement.setAttribute('aria-valuemax', this._config.max)\n    inputElement.setAttribute('aria-valuenow', value)\n    inputElement.setAttribute('aria-orientation', this._config.vertical ? 'vertical' : 'horizontal')\n\n    return inputElement\n  }\n\n  _createLabels() {\n    const { clickableLabels, disabled, labels, min, max, vertical } = this._config\n\n    if (!labels || !Array.isArray(labels) || labels.length === 0) {\n      return\n    }\n\n    const labelsContainer = this._createElement('div', CLASS_NAME_RANGE_SLIDER_LABELS_CONTAINER)\n\n    for (const [index, label] of this._config.labels.entries()) {\n      const labelElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_LABEL)\n\n      if (clickableLabels && !disabled) {\n        labelElement.classList.add(CLASS_NAME_CLICKABLE)\n      }\n\n      if (label.class) {\n        const classNames = Array.isArray(label.class) ? label.class : [label.class]\n        labelElement.classList.add(...classNames)\n      }\n\n      if (label.style && typeof label.style === 'object') {\n        Object.assign(labelElement.style, label.style)\n      }\n\n      // Calculate percentage based on index\n      const percentage = labels.length === 1 ? 0 : (index / (labels.length - 1)) * 100\n\n      // Determine label value\n      const labelValue = typeof label === 'object' ? label.value : min + ((percentage / 100) * (max - min))\n\n      // Set data-coreui-value attribute\n      Manipulator.setDataAttribute(labelElement, 'value', labelValue)\n\n      // Set label content\n      labelElement.textContent = typeof label === 'object' ? label.label : label\n\n      // Calculate and set position\n      const position = this._calculateLabelPosition(label, index, percentage)\n      if (vertical) {\n        labelElement.style.bottom = position\n      } else {\n        labelElement.style[isRTL() ? 'right' : 'left'] = position\n      }\n\n      labelsContainer.append(labelElement)\n    }\n\n    this._element.append(labelsContainer)\n  }\n\n  _calculateLabelPosition(label, index) {\n    // Check if label is an object with a specific value\n    if (typeof label === 'object' && label.value !== undefined) {\n      return `${((label.value - this._config.min) / (this._config.max - this._config.min)) * 100}%`\n    }\n\n    // Calculate position based on index when label is not an object\n    return `${(index / (this._config.labels.length - 1)) * 100}%`\n  }\n\n  _updateLabelsContainerSize() {\n    const labelsContainer = SelectorEngine.findOne(SELECTOR_RANGE_SLIDER_LABELS_CONTAINER, this._element)\n\n    if (!this._config.labels || !labelsContainer) {\n      return\n    }\n\n    const labels = SelectorEngine.find(SELECTOR_RANGE_SLIDER_LABEL, this._element)\n    if (labels.length === 0) {\n      return\n    }\n\n    const maxSize = Math.max(...labels.map(label => (this._config.vertical ? label.offsetWidth : label.offsetHeight)))\n\n    labelsContainer.style[this._config.vertical ? 'width' : 'height'] = `${maxSize}px`\n  }\n\n  _createTooltips() {\n    if (!this._config.tooltips) {\n      return\n    }\n\n    const inputs = SelectorEngine.find(SELECTOR_RANGE_SLIDER_INPUT, this._element)\n    this._thumbSize = this._getThumbSize()\n\n    for (const input of inputs) {\n      const tooltipElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TOOLTIP)\n      const tooltipInnerElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TOOLTIP_INNER)\n      const tooltipArrowElement = this._createElement('div', CLASS_NAME_RANGE_SLIDER_TOOLTIP_ARROW)\n\n      tooltipInnerElement.innerHTML = this._config.tooltipsFormat ? this._config.tooltipsFormat(input.value) : input.value\n      tooltipElement.append(tooltipInnerElement, tooltipArrowElement)\n\n      input.parentNode.insertBefore(tooltipElement, input.nextSibling)\n      this._positionTooltip(tooltipElement, input)\n      this._tooltips.push(tooltipElement)\n    }\n  }\n\n  _getThumbSize() {\n    const value = window\n    .getComputedStyle(this._element, null)\n    .getPropertyValue(\n      this._config.vertical ? '--cui-range-slider-thumb-height' : '--cui-range-slider-thumb-width'\n    )\n\n    const regex = /^(\\d+\\.?\\d*)([%a-z]*)$/i\n    const match = value.match(regex)\n\n    if (match) {\n      return {\n        value: Number.parseFloat(match[1]),\n        unit: match[2] || null\n      }\n    }\n\n    return '1rem'\n  }\n\n  _positionTooltip(tooltip, input) {\n    const thumbSize = this._thumbSize\n    const percent = (input.value - this._config.min) / (this._config.max - this._config.min)\n    const margin = percent > 0.5 ?\n      `-${(percent - 0.5) * thumbSize.value}${thumbSize.unit}` :\n      `${(0.5 - percent) * thumbSize.value}${thumbSize.unit}`\n\n    if (this._config.vertical) {\n      Object.assign(tooltip.style, {\n        bottom: `${percent * 100}%`,\n        marginBottom: margin\n      })\n\n      return\n    }\n\n    Object.assign(tooltip.style, { insetInlineStart: `${percent * 100}%`, marginInlineStart: margin })\n  }\n\n  _updateTooltip(index, value) {\n    if (!this._config.tooltips) {\n      return\n    }\n\n    if (this._tooltips[index]) {\n      this._tooltips[index].children[0].innerHTML = this._config.tooltipsFormat ? this._config.tooltipsFormat(value) : value\n      const input = SelectorEngine.find(SELECTOR_RANGE_SLIDER_INPUT, this._element)[index]\n      this._positionTooltip(this._tooltips[index], input)\n    }\n  }\n\n  _calculateClickValue(event) {\n    const clickPosition = this._getClickPosition(event)\n    const value = this._config.min + (clickPosition * (this._config.max - this._config.min))\n    return this._roundToStep(value, this._config.step)\n  }\n\n  _calculateMoveValue(event) {\n    const trackRect = this._sliderTrack.getBoundingClientRect()\n    const position = this._config.vertical ?\n      this._calculateVerticalPosition(event.clientY, trackRect) :\n      this._calculateHorizontalPosition(event.clientX, trackRect)\n\n    if (typeof position === 'string') {\n      return position === 'max' ? this._config.max : this._config.min\n    }\n\n    const value = this._config.min + (position * (this._config.max - this._config.min))\n\n    return this._roundToStep(value, this._config.step)\n  }\n\n  _calculateVerticalPosition(mouseY, rect) {\n    if (mouseY < rect.top) {\n      return 'max'\n    }\n\n    if (mouseY > rect.bottom) {\n      return 'min'\n    }\n\n    return Math.min(Math.max((rect.bottom - mouseY) / rect.height, 0), 1)\n  }\n\n  _calculateHorizontalPosition(mouseX, rect) {\n    if (mouseX < rect.left) {\n      return isRTL() ? 'max' : 'min'\n    }\n\n    if (mouseX > rect.right) {\n      return isRTL() ? 'min' : 'max'\n    }\n\n    const relativeX = isRTL() ? rect.right - mouseX : mouseX - rect.left\n    return Math.min(Math.max(relativeX / rect.width, 0), 1)\n  }\n\n  _createElement(tag, className) {\n    const element = document.createElement(tag)\n    element.classList.add(className)\n    return element\n  }\n\n  _getClickPosition(event) {\n    const { offsetX, offsetY } = event\n    const { offsetWidth, offsetHeight } = this._sliderTrack\n\n    if (this._config.vertical) {\n      return 1 - (offsetY / offsetHeight)\n    }\n\n    return isRTL() ? 1 - (offsetX / offsetWidth) : offsetX / offsetWidth\n  }\n\n  _getNearestValueIndex(value) {\n    const values = this._currentValue\n    const valuesLength = values.length\n\n    if (value < values[0]) {\n      return 0\n    }\n\n    if (value > values[valuesLength - 1]) {\n      return valuesLength - 1\n    }\n\n    const distances = values.map(v => Math.abs(v - value))\n    const min = Math.min(...distances)\n    const firstIndex = distances.indexOf(min)\n\n    return value < values[firstIndex] ? firstIndex : distances.lastIndexOf(min)\n  }\n\n  _updateGradient() {\n    if (!this._config.track) {\n      return\n    }\n\n    const [min, max] = [Math.min(...this._currentValue), Math.max(...this._currentValue)]\n    const from = ((min - this._config.min) / (this._config.max - this._config.min)) * 100\n    const to = ((max - this._config.min) / (this._config.max - this._config.min)) * 100\n    const direction = this._config.vertical ? 'to top' : (isRTL() ? 'to left' : 'to right')\n\n    if (this._currentValue.length === 1) {\n      this._sliderTrack.style.backgroundImage = `linear-gradient(\n        ${direction},\n        var(--cui-range-slider-track-in-range-bg) 0%,\n        var(--cui-range-slider-track-in-range-bg) ${to}%,\n        transparent ${to}%,\n        transparent 100%\n      )`\n      return\n    }\n\n    this._sliderTrack.style.backgroundImage = `linear-gradient(\n      ${direction},\n      transparent 0%,\n      transparent ${from}%,\n      var(--cui-range-slider-track-in-range-bg) ${from}%,\n      var(--cui-range-slider-track-in-range-bg) ${to}%,\n      transparent ${to}%,\n      transparent 100%\n    )`\n  }\n\n  _updateNearestValue(value) {\n    const nearestIndex = this._getNearestValueIndex(value)\n    this._updateValue(value, nearestIndex)\n  }\n\n  _updateValue(value, index) {\n    const _value = this._validateValue(value, index)\n    this._currentValue[index] = _value\n    this._updateInput(index, _value)\n    this._updateGradient()\n    this._updateTooltip(index, _value)\n    EventHandler.trigger(this._element, EVENT_CHANGE, { value: this._currentValue })\n  }\n\n  _updateInput(index, value) {\n    const input = this._inputs[index]\n\n    input.value = value\n    input.setAttribute('aria-valuenow', value)\n    setTimeout(() => {\n      input.focus()\n    })\n  }\n\n  _validateValue(value, index) {\n    const { distance } = this._config\n    const { length } = this._currentValue\n\n    if (length === 1) {\n      return value\n    }\n\n    const prevValue = index > 0 ? this._currentValue[index - 1] : undefined\n    const nextValue = index < length - 1 ? this._currentValue[index + 1] : undefined\n\n    if (index === 0 && nextValue !== undefined) {\n      return Math.min(value, nextValue - distance)\n    }\n\n    if (index === length - 1 && prevValue !== undefined) {\n      return Math.max(value, prevValue + distance)\n    }\n\n    if (prevValue !== undefined && nextValue !== undefined) {\n      const minVal = prevValue + distance\n      const maxVal = nextValue - distance\n      return Math.min(Math.max(value, minVal), maxVal)\n    }\n\n    return value\n  }\n\n  _roundToStep(number, step) {\n    const _step = step === 0 ? 1 : step\n    return Math.round(number / _step) * _step\n  }\n\n  _configAfterMerge(config) {\n    if (typeof config.labels === 'string') {\n      config.labels = config.labels.split(/,\\s*/)\n    }\n\n    if (typeof config.name === 'string') {\n      config.name = config.name.split(/,\\s*/)\n    }\n\n    if (typeof config.value === 'number') {\n      config.value = [config.value]\n    }\n\n    if (typeof config.value === 'string') {\n      config.value = config.value.split(/,\\s*/).map(Number)\n    }\n\n    return config\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static rangeSliderInterface(element, config) {\n    const data = RangeSlider.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = RangeSlider.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const ratings = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = ratings.length; i < len; i++) {\n    RangeSlider.rangeSliderInterface(ratings[i])\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(RangeSlider)\n\nexport default RangeSlider\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_CHANGE","EVENT_INPUT","EVENT_LOAD_DATA_API","EVENT_MOUSEDOWN","EVENT_MOUSEMOVE","EVENT_MOUSEUP","EVENT_RESIZE","CLASS_NAME_CLICKABLE","CLASS_NAME_DISABLED","CLASS_NAME_RANGE_SLIDER","CLASS_NAME_RANGE_SLIDER_INPUT","CLASS_NAME_RANGE_SLIDER_INPUTS_CONTAINER","CLASS_NAME_RANGE_SLIDER_LABEL","CLASS_NAME_RANGE_SLIDER_LABELS_CONTAINER","CLASS_NAME_RANGE_SLIDER_TOOLTIP","CLASS_NAME_RANGE_SLIDER_TOOLTIP_ARROW","CLASS_NAME_RANGE_SLIDER_TOOLTIP_INNER","CLASS_NAME_RANGE_SLIDER_TRACK","CLASS_NAME_RANGE_SLIDER_VERTICAL","SELECTOR_DATA_TOGGLE","SELECTOR_RANGE_SLIDER_INPUT","SELECTOR_RANGE_SLIDER_INPUTS_CONTAINER","SELECTOR_RANGE_SLIDER_LABEL","SELECTOR_RANGE_SLIDER_LABELS_CONTAINER","Default","clickableLabels","disabled","distance","labels","max","min","name","step","tooltips","tooltipsFormat","track","value","vertical","DefaultType","RangeSlider","BaseComponent","constructor","element","config","_config","_getConfig","_currentValue","_dragIndex","_inputs","_isDragging","_sliderTrack","_thumbSize","_tooltips","_initializeRangeSlider","update","_element","innerHTML","_addEventListeners","EventHandler","on","event","target","children","SelectorEngine","parentElement","index","Array","from","indexOf","_updateValue","button","Manipulator","getDataAttribute","_updateNearestValue","HTMLInputElement","className","includes","clickValue","_calculateClickValue","_getNearestValueIndex","document","documentElement","moveValue","_calculateMoveValue","window","_updateLabelsContainerSize","classList","add","_createSliderTrack","_createInputs","_createLabels","_createTooltips","_updateGradient","sliderTrackElement","_createElement","container","entries","inputElement","_createInput","append","type","isArray","setAttribute","length","labelsContainer","label","labelElement","class","classNames","style","Object","assign","percentage","labelValue","setDataAttribute","textContent","position","_calculateLabelPosition","bottom","isRTL","undefined","findOne","find","maxSize","Math","map","offsetWidth","offsetHeight","inputs","_getThumbSize","input","tooltipElement","tooltipInnerElement","tooltipArrowElement","parentNode","insertBefore","nextSibling","_positionTooltip","push","getComputedStyle","getPropertyValue","regex","match","Number","parseFloat","unit","tooltip","thumbSize","percent","margin","marginBottom","insetInlineStart","marginInlineStart","_updateTooltip","clickPosition","_getClickPosition","_roundToStep","trackRect","getBoundingClientRect","_calculateVerticalPosition","clientY","_calculateHorizontalPosition","clientX","mouseY","rect","top","height","mouseX","left","right","relativeX","width","tag","createElement","offsetX","offsetY","values","valuesLength","distances","v","abs","firstIndex","lastIndexOf","to","direction","backgroundImage","nearestIndex","_value","_validateValue","_updateInput","trigger","setTimeout","focus","prevValue","nextValue","minVal","maxVal","number","_step","round","_configAfterMerge","split","dataAttributes","getDataAttributes","_mergeConfigObj","_typeCheckConfig","rangeSliderInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","startsWith","ratings","i","len","defineJQueryPlugin"],"mappings":"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"}