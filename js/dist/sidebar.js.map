{"version":3,"sources":["../src/sidebar.js"],"names":["Sidebar","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","Default","transition","ClassName","ACTIVE","BRAND_MINIMIZED","NAV_DROPDOWN_TOGGLE","OPEN","SIDEBAR_FIXED","SIDEBAR_MINIMIZED","SIDEBAR_OFF_CANVAS","Event","CLICK","DESTROY","INIT","LOAD_DATA_API","TOGGLE","UPDATE","Selector","BODY","BRAND_MINIMIZER","NAV_DROPDOWN_ITEMS","NAV_ITEM","NAV_LINK","NAVIGATION_CONTAINER","NAVIGATION","SIDEBAR","SIDEBAR_MINIMIZER","SIDEBAR_TOGGLER","ShowClassNames","element","_element","ps","perfectScrollbar","setActiveLink","_addEventListeners","event","PerfectScrollbar","document","body","classList","contains","makeScrollbar","destroyScrollbar","isRtl","setTimeout","container","querySelector","suppressScrollX","destroy","find","each","key","value","link","cUrl","String","window","location","split","substr","length","slice","href","addClass","parents","add","parent","on","preventDefault","stopPropagation","toggleClass","dropdown","target","toggle","currentTarget","dataset","toggleClasses","remove","_jQueryInterface","$element","data","sidebar","call","Constructor","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery'\nimport PerfectScrollbar from 'perfect-scrollbar'\nimport toggleClasses from './toggle-classes'\n\n/**\n * --------------------------------------------------------------------------\n * CoreUI (v2.0.12): sidebar.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\nconst Sidebar = (($) => {\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME                = 'sidebar'\n  const VERSION             = '2.0.12'\n  const DATA_KEY            = 'coreui.sidebar'\n  const EVENT_KEY           = `.${DATA_KEY}`\n  const DATA_API_KEY        = '.data-api'\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n\n  const Default = {\n    transition : 400\n  }\n\n  const ClassName = {\n    ACTIVE              : 'active',\n    BRAND_MINIMIZED     : 'brand-minimized',\n    NAV_DROPDOWN_TOGGLE : 'nav-dropdown-toggle',\n    OPEN                : 'open',\n    SIDEBAR_FIXED       : 'sidebar-fixed',\n    SIDEBAR_MINIMIZED   : 'sidebar-minimized',\n    SIDEBAR_OFF_CANVAS  : 'sidebar-off-canvas'\n  }\n\n  const Event = {\n    CLICK         : 'click',\n    DESTROY       : 'destroy',\n    INIT          : 'init',\n    LOAD_DATA_API : `load${EVENT_KEY}${DATA_API_KEY}`,\n    TOGGLE        : 'toggle',\n    UPDATE        : 'update'\n  }\n\n  const Selector = {\n    BODY                 : 'body',\n    BRAND_MINIMIZER      : '.brand-minimizer',\n    NAV_DROPDOWN_TOGGLE  : '.nav-dropdown-toggle',\n    NAV_DROPDOWN_ITEMS   : '.nav-dropdown-items',\n    NAV_ITEM             : '.nav-item',\n    NAV_LINK             : '.nav-link',\n    NAVIGATION_CONTAINER : '.sidebar-nav',\n    NAVIGATION           : '.sidebar-nav > .nav',\n    SIDEBAR              : '.sidebar',\n    SIDEBAR_MINIMIZER    : '.sidebar-minimizer',\n    SIDEBAR_TOGGLER      : '.sidebar-toggler'\n  }\n\n  const ShowClassNames = [\n    'sidebar-show',\n    'sidebar-sm-show',\n    'sidebar-md-show',\n    'sidebar-lg-show',\n    'sidebar-xl-show'\n  ]\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Sidebar {\n    constructor(element) {\n      this._element = element\n      this.ps = null\n      this.perfectScrollbar(Event.INIT)\n      this.setActiveLink()\n      this._addEventListeners()\n    }\n\n    // Getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    // Public\n\n    perfectScrollbar(event) {\n      if (typeof PerfectScrollbar !== 'undefined') {\n        if (event === Event.INIT && !document.body.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n          this.ps = this.makeScrollbar()\n        }\n\n        if (event === Event.DESTROY) {\n          this.destroyScrollbar()\n        }\n\n        if (event === Event.TOGGLE) {\n          if (document.body.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n            this.destroyScrollbar()\n          } else {\n            this.ps = this.makeScrollbar()\n            // ToDo: find real fix for ps rtl\n            this.ps.isRtl = false\n          }\n        }\n\n        if (event === Event.UPDATE && !document.body.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n          // ToDo: Add smooth transition\n          setTimeout(() => {\n            this.destroyScrollbar()\n            this.ps = this.makeScrollbar()\n            // ToDo: find real fix for ps rtl\n            this.ps.isRtl = false\n          }, Default.transition)\n        }\n      }\n    }\n\n    makeScrollbar(container = Selector.NAVIGATION_CONTAINER) {\n      return new PerfectScrollbar(document.querySelector(container), {\n        suppressScrollX: true\n      })\n    }\n\n    destroyScrollbar() {\n      if (this.ps) {\n        this.ps.destroy()\n        this.ps = null\n      }\n    }\n\n    setActiveLink() {\n      $(Selector.NAVIGATION).find(Selector.NAV_LINK).each((key, value) => {\n        let link = value\n        let cUrl = String(window.location).split('?')[0]\n\n        if (cUrl.substr(cUrl.length - 1) === '#') {\n          cUrl = cUrl.slice(0, -1)\n        }\n\n        if ($($(link))[0].href === cUrl) {\n          $(link).addClass(ClassName.ACTIVE).parents(Selector.NAV_DROPDOWN_ITEMS).add(link).each((key, value) => {\n            link = value\n            $(link).parent().addClass(ClassName.OPEN)\n          })\n        }\n      })\n    }\n\n    // Private\n\n    _addEventListeners() {\n      $(Selector.BRAND_MINIMIZER).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        $(Selector.BODY).toggleClass(ClassName.BRAND_MINIMIZED)\n      })\n\n      $(Selector.NAV_DROPDOWN_TOGGLE).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        const dropdown = event.target\n        $(dropdown).parent().toggleClass(ClassName.OPEN)\n        this.perfectScrollbar(Event.UPDATE)\n      })\n\n      $(Selector.SIDEBAR_MINIMIZER).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        $(Selector.BODY).toggleClass(ClassName.SIDEBAR_MINIMIZED)\n        this.perfectScrollbar(Event.TOGGLE)\n      })\n\n      $(Selector.SIDEBAR_TOGGLER).on(Event.CLICK, (event) => {\n        event.preventDefault()\n        event.stopPropagation()\n        const toggle = event.currentTarget.dataset.toggle\n        toggleClasses(toggle, ShowClassNames)\n      })\n\n      $(`${Selector.NAVIGATION} > ${Selector.NAV_ITEM} ${Selector.NAV_LINK}:not(${Selector.NAV_DROPDOWN_TOGGLE})`).on(Event.CLICK, () => {\n        document.body.classList.remove('sidebar-show')\n      })\n    }\n\n    // Static\n\n    static _jQueryInterface() {\n      return this.each(function () {\n        const $element = $(this)\n        let data = $element.data(DATA_KEY)\n\n        if (!data) {\n          data = new Sidebar(this)\n          $element.data(DATA_KEY, data)\n        }\n      })\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n  $(window).on(Event.LOAD_DATA_API, () => {\n    const sidebar = $(Selector.SIDEBAR)\n    Sidebar._jQueryInterface.call(sidebar)\n  })\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME] = Sidebar._jQueryInterface\n  $.fn[NAME].Constructor = Sidebar\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Sidebar._jQueryInterface\n  }\n\n  return Sidebar\n})($)\n\nexport default Sidebar\n"],"file":"sidebar.js"}