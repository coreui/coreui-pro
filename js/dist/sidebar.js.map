{"version":3,"sources":["../src/sidebar.js"],"names":["jQuery","$","reflow","Data","EventHandler","PerfectScrollbar","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","DefaultType","dropdownAccordion","Default","transition","ClassName","ACTIVE","BACKDROP","FADE","NAV_DROPDOWN","NAV_DROPDOWN_TOGGLE","SHOW","SIDEBAR_MINIMIZED","SIDEBAR_OVERLAID","SIDEBAR_SHOW","Event","CLASS_TOGGLE","CLICK","CLICK_DATA_API","DESTROY","INIT","LOAD_DATA_API","TOGGLE","UPDATE","Selector","NAV_LINK","NAVIGATION_CONTAINER","SIDEBAR","Sidebar","element","_element","mobile","_isMobile","bind","ps","_backdrop","_perfectScrollbar","_setActiveLink","_toggleClickOut","_clickOutListener","_addEventListeners","_getAllSiblings","filter","siblings","parentNode","firstChild","nodeType","push","nextSibling","_toggleDropdown","event","toggler","target","classList","contains","closest","dataAttributes","dataset","drodpownAccordion","parentElement","forEach","remove","toggle","_closeSidebar","link","_removeClickOut","_makeScrollbar","_destroyScrollbar","setTimeout","container","querySelector","suppressScrollX","destroy","_getParents","selector","parents","document","matches","Array","from","querySelectorAll","currentUrl","urlHasParams","RegExp","urlHasQueryString","urlHasHash","test","String","window","location","split","substr","length","slice","href","add","Boolean","getComputedStyle","getPropertyValue","preventDefault","stopPropagation","_addClickOut","addEventListener","removeEventListener","_removeBackdrop","_showBackdrop","removeChild","createElement","className","body","appendChild","on","detail","_sidebarInterface","config","data","getData","_config","TypeError","_jQueryInterface","each","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":"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","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI (v3.0.0-beta.2): sidebar.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  jQuery as $,\n  // TRANSITION_END,\n  // emulateTransitionEnd,\n  // getTransitionDurationFromElement,\n  reflow\n} from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport PerfectScrollbar from 'perfect-scrollbar'\n// import getStyle from './utilities/get-style'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'sidebar'\nconst VERSION = '3.0.0-beta.2'\nconst DATA_KEY = 'coreui.sidebar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst DefaultType = {\n  dropdownAccordion: 'boolean'\n}\n\nconst Default = {\n  transition: 400\n}\n\nconst ClassName = {\n  ACTIVE: 'c-active',\n  BACKDROP: 'c-sidebar-backdrop',\n  FADE: 'c-fade',\n  NAV_DROPDOWN: 'c-sidebar-nav-dropdown',\n  NAV_DROPDOWN_TOGGLE: 'c-sidebar-nav-dropdown-toggle',\n  SHOW: 'c-show',\n  SIDEBAR_MINIMIZED: 'c-sidebar-minimized',\n  SIDEBAR_OVERLAID: 'c-sidebar-overlaid',\n  SIDEBAR_SHOW: 'c-sidebar-show'\n}\n\nconst Event = {\n  CLASS_TOGGLE: 'classtoggle',\n  CLICK: 'click',\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n  DESTROY: 'destroy',\n  INIT: 'init',\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`,\n  TOGGLE: 'toggle',\n  UPDATE: 'update'\n}\n\nconst Selector = {\n  NAV_DROPDOWN_TOGGLE: '.c-sidebar-nav-dropdown-toggle',\n  NAV_DROPDOWN: '.c-sidebar-nav-dropdown',\n  NAV_LINK: '.c-sidebar-nav-link',\n  // NAV_LINK_QUERIED: `.c-sidebar-nav-link-queried`,\n  NAVIGATION_CONTAINER: '.c-sidebar-nav',\n  SIDEBAR: '.c-sidebar'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Sidebar {\n  constructor(element) {\n    this._element = element\n    this.mobile = this._isMobile.bind(this)\n    this.ps = null\n    this._backdrop = null\n    this._perfectScrollbar(Event.INIT)\n    this._setActiveLink()\n    this._toggleClickOut()\n    this._clickOutListener = this._clickOutListener.bind(this)\n    this._addEventListeners()\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Private\n\n  _getAllSiblings(element, filter) {\n    const siblings = []\n    element = element.parentNode.firstChild\n    do {\n      if (element.nodeType === 3) {\n        continue // text node\n      }\n\n      if (!filter || filter(element)) {\n        siblings.push(element)\n      }\n\n    // eslint-disable-next-line no-cond-assign\n    } while (element = element.nextSibling)\n\n    return siblings\n  }\n\n  _toggleDropdown(event) {\n    let toggler = event.target\n    if (!toggler.classList.contains(ClassName.NAV_DROPDOWN_TOGGLE)) {\n      toggler = toggler.closest(Selector.NAV_DROPDOWN_TOGGLE)\n    }\n\n    const dataAttributes = toggler.closest(Selector.NAVIGATION_CONTAINER).dataset\n\n    // TODO: find better solution\n    if (dataAttributes.drodpownAccordion) {\n      this._getAllSiblings(toggler.parentElement).forEach(element => {\n        if (element !== toggler.parentNode) {\n          if (element.classList.contains(ClassName.NAV_DROPDOWN)) {\n            element.classList.remove(ClassName.SHOW)\n          }\n        }\n      })\n    }\n\n    toggler.parentNode.classList.toggle(ClassName.SHOW)\n    // TODO: Set the toggler's position near to cursor after the click.\n\n    this._perfectScrollbar(Event.UPDATE)\n  }\n\n  _closeSidebar(event) {\n    let link = event.target\n    if (!link.classList.contains(ClassName.NAV_LINK)) {\n      link = link.closest(Selector.NAV_LINK)\n    }\n\n    if (this.mobile && !link.classList.contains(ClassName.NAV_DROPDOWN_TOGGLE)) {\n      this._removeClickOut()\n      this._element.classList.remove(ClassName.SIDEBAR_SHOW)\n    }\n  }\n\n  _perfectScrollbar(event) {\n    if (typeof PerfectScrollbar !== 'undefined') {\n      if (event === Event.INIT && !this._element.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n        this.ps = this._makeScrollbar()\n      }\n\n      if (event === Event.DESTROY) {\n        this._destroyScrollbar()\n      }\n\n      if (event === Event.TOGGLE) {\n        if (this._element.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n          this._destroyScrollbar()\n        } else {\n          this._destroyScrollbar()\n          this.ps = this._makeScrollbar()\n        }\n      }\n\n      if (event === Event.UPDATE && !this._element.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n        // TODO: Add smooth transition\n        setTimeout(() => {\n          this._destroyScrollbar()\n          this.ps = this._makeScrollbar()\n        }, Default.transition)\n      }\n    }\n  }\n\n  _makeScrollbar(container = Selector.NAVIGATION_CONTAINER) {\n    if (this._element.querySelector(container)) {\n      const ps = new PerfectScrollbar(this._element.querySelector(container), {\n        suppressScrollX: true\n      })\n      return ps\n    }\n  }\n\n  _destroyScrollbar() {\n    if (this.ps) {\n      this.ps.destroy()\n      this.ps = null\n    }\n  }\n\n  _getParents(element, selector) {\n    // Setup parents array\n    const parents = []\n\n    // Get matching parent elements\n    for (; element && element !== document; element = element.parentNode) {\n      // Add matching parents to array\n      if (selector) {\n        if (element.matches(selector)) {\n          parents.push(element)\n        }\n      } else {\n        parents.push(element)\n      }\n    }\n\n    return parents\n  }\n\n  _setActiveLink() {\n    // eslint-disable-next-line unicorn/prefer-spread\n    Array.from(this._element.querySelectorAll(Selector.NAV_LINK)).forEach(element => {\n      let currentUrl\n\n      // eslint-disable-next-line prefer-regex-literals\n      const urlHasParams = new RegExp('\\\\?.*=')\n      // eslint-disable-next-line prefer-regex-literals\n      const urlHasQueryString = new RegExp('\\\\?.')\n      // eslint-disable-next-line prefer-regex-literals\n      const urlHasHash = new RegExp('#.')\n\n      if (urlHasParams.test(String(window.location)) || urlHasQueryString.test(String(window.location))) {\n        currentUrl = String(window.location).split('?')[0]\n      } else if (urlHasHash.test(String(window.location))) {\n        currentUrl = String(window.location).split('#')[0]\n      } else {\n        currentUrl = String(window.location)\n      }\n\n      // eslint-disable-next-line unicorn/prefer-string-slice\n      if (currentUrl.substr(currentUrl.length - 1) === '#') {\n        currentUrl = currentUrl.slice(0, -1)\n      }\n\n      if (element.href === currentUrl) {\n        element.classList.add(ClassName.ACTIVE)\n        // eslint-disable-next-line unicorn/prefer-spread\n        Array.from(this._getParents(element, Selector.NAV_DROPDOWN)).forEach(element => {\n          element.classList.add(ClassName.SHOW)\n        })\n      }\n    })\n  }\n\n  _isMobile(event) {\n    return Boolean(window.getComputedStyle(event.target, null).getPropertyValue('--is-mobile'))\n  }\n\n  _clickOutListener(event) {\n    if (!this._element.contains(event.target)) { // or use: event.target.closest(Selector.SIDEBAR) === null\n      event.preventDefault()\n      event.stopPropagation()\n      this._removeClickOut()\n      this._element.classList.remove(ClassName.SIDEBAR_SHOW)\n    }\n  }\n\n  _addClickOut() {\n    document.addEventListener(Event.CLICK, this._clickOutListener, true)\n  }\n\n  _removeClickOut() {\n    document.removeEventListener(Event.CLICK, this._clickOutListener, true)\n    this._removeBackdrop()\n  }\n\n  _toggleClickOut() {\n    if (this.mobile && this._element.classList.contains(ClassName.SIDEBAR_SHOW)) {\n      this._addClickOut()\n      this._showBackdrop()\n    } else if (this._element.classList.contains(ClassName.SIDEBAR_OVERLAID) && this._element.classList.contains(ClassName.SIDEBAR_SHOW)) {\n      this._addClickOut()\n    } else {\n      this._removeClickOut()\n    }\n  }\n\n  _removeBackdrop() {\n    if (this._backdrop) {\n      this._backdrop.parentNode.removeChild(this._backdrop)\n      this._backdrop = null\n    }\n  }\n\n  _showBackdrop() {\n    if (!this._backdrop) {\n      this._backdrop = document.createElement('div')\n      this._backdrop.className = ClassName.BACKDROP\n      this._backdrop.classList.add(ClassName.FADE)\n      document.body.appendChild(this._backdrop)\n      reflow(this._backdrop)\n      this._backdrop.classList.add(ClassName.SHOW)\n    }\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, Event.CLASS_TOGGLE, event => {\n      if (event.detail.className === ClassName.SIDEBAR_MINIMIZED) {\n        this._perfectScrollbar(Event.TOGGLE)\n      }\n\n      if (event.detail.className === ClassName.SIDEBAR_SHOW) {\n        this._toggleClickOut()\n      }\n    })\n\n    EventHandler.on(this._element, Event.CLICK_DATA_API, Selector.NAV_DROPDOWN_TOGGLE, event => {\n      event.preventDefault()\n      this._toggleDropdown(event)\n    })\n\n    EventHandler.on(this._element, Event.CLICK_DATA_API, Selector.NAV_LINK, event => {\n      this._closeSidebar(event)\n    })\n  }\n\n  // Static\n\n  static _sidebarInterface(element, config) {\n    let data = Data.getData(element, DATA_KEY)\n    const _config = typeof config === 'object' && config\n\n    if (!data) {\n      data = new Sidebar(element, _config)\n    }\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      Sidebar._sidebarInterface(this, config)\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(window, Event.LOAD_DATA_API, () => {\n  // eslint-disable-next-line unicorn/prefer-spread\n  Array.from(document.querySelectorAll(Selector.SIDEBAR)).forEach(element => {\n    Sidebar._sidebarInterface(element)\n  })\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n* add .asyncLoad to jQuery only if jQuery is present\n */\n\nif (typeof $ !== 'undefined') {\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  $.fn[NAME] = Sidebar._jQueryInterface\n  $.fn[NAME].Constructor = Sidebar\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Sidebar._jQueryInterface\n  }\n}\n\nexport default Sidebar\n"],"file":"sidebar.js"}