{"version":3,"sources":["../src/sidebar.js"],"names":["jQuery","$","Data","EventHandler","PerfectScrollbar","getStyle","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","PREFIX","window","CoreUIDefaults","prefix","Default","transition","ClassName","ACTIVE","NAV_DROPDOWN_TOGGLE","OPEN","SIDEBAR_MINIMIZED","SIDEBAR_SHOW","Event","CLASS_TOGGLE","CLICK","CLICK_DATA_API","DESTROY","INIT","LOAD_DATA_API","TOGGLE","UPDATE","Selector","NAV_DROPDOWN","NAV_LINK","NAV_LINK_QUERIED","NAVIGATION_CONTAINER","SIDEBAR","Sidebar","element","_element","mobile","ps","_perfectScrollbar","_setActiveLink","_breakpointTest","bind","_clickOutListener","_addEventListeners","_addMediaQuery","_toggleDropdown","event","toggler","target","classList","contains","closest","parentNode","toggle","_closeSidebar","link","_removeClickOut","remove","_makeScrollbar","_destroyScrollbar","setTimeout","container","document","querySelector","suppressScrollX","isRtl","destroy","_getParents","selector","parents","matches","push","Array","from","querySelectorAll","forEach","currentUrl","String","location","split","substr","length","slice","href","add","sm","smValue","parseInt","mediaQueryList","matchMedia","addListener","Boolean","_toggleClickOut","preventDefault","stopPropagation","_addClickOut","addEventListener","removeEventListener","on","detail","className","_sidebarInterface","config","data","getData","_config","TypeError","_jQueryInterface","each","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":";;;;AAAA;;;;;;AAOA,SACEA,MAAM,IAAIC,CADZ,QAEO,cAFP;AAGA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAOC,gBAAP,MAA6B,mBAA7B;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEA;;;;;;AAMA,IAAMC,IAAI,GAAG,SAAb;AACA,IAAMC,OAAO,GAAG,gBAAhB;AACA,IAAMC,QAAQ,GAAG,gBAAjB;AACA,IAAMC,SAAS,SAAOD,QAAtB;AACA,IAAME,YAAY,GAAG,WAArB;AACA,IAAMC,MAAM,GAAGC,MAAM,CAACC,cAAP,GAAwBD,MAAM,CAACC,cAAP,CAAsBC,MAAtB,GAA+BF,MAAM,CAACC,cAAP,CAAsBC,MAArD,GAA8D,IAAtF,GAA6F,IAA5G;AAEA,IAAMC,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAE;AADE,CAAhB;AAIA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,MAAM,EAAKP,MAAL,WADU;AAEhBQ,EAAAA,mBAAmB,EAAKR,MAAL,wBAFH;AAGhBS,EAAAA,IAAI,EAAKT,MAAL,SAHY;AAIhBU,EAAAA,iBAAiB,EAAKV,MAAL,sBAJD;AAKhBW,EAAAA,YAAY,EAAKX,MAAL;AALI,CAAlB;AAQA,IAAMY,KAAK,GAAG;AACZC,EAAAA,YAAY,EAAE,aADF;AAEZC,EAAAA,KAAK,EAAE,OAFK;AAGZC,EAAAA,cAAc,YAAUjB,SAAV,GAAsBC,YAHxB;AAIZiB,EAAAA,OAAO,EAAE,SAJG;AAKZC,EAAAA,IAAI,EAAE,MALM;AAMZC,EAAAA,aAAa,WAASpB,SAAT,GAAqBC,YANtB;AAOZoB,EAAAA,MAAM,EAAE,QAPI;AAQZC,EAAAA,MAAM,EAAE;AARI,CAAd;AAWA,IAAMC,QAAQ,GAAG;AACfb,EAAAA,mBAAmB,QAAMR,MAAN,wBADJ;AAEfsB,EAAAA,YAAY,QAAMtB,MAAN,iBAFG;AAGfuB,EAAAA,QAAQ,QAAMvB,MAAN,aAHO;AAIfwB,EAAAA,gBAAgB,QAAMxB,MAAN,qBAJD;AAKfyB,EAAAA,oBAAoB,QAAMzB,MAAN,gBALL;AAMf0B,EAAAA,OAAO,QAAM1B,MAAN;AAGT;;;;;;AATiB,CAAjB;;IAeM2B,O;;;AACJ,mBAAYC,OAAZ,EAAqB;AACnB,SAAKC,QAAL,GAAgBD,OAAhB;AACA,SAAKE,MAAL,GAAc,KAAd;AACA,SAAKC,EAAL,GAAU,IAAV;;AACA,SAAKC,iBAAL,CAAuBpB,KAAK,CAACK,IAA7B;;AACA,SAAKgB,cAAL;;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;;AACA,SAAKE,kBAAL;;AACA,SAAKC,cAAL;AACD,G,CAED;;;;;AAMA;SAEAC,e,GAAA,yBAAgBC,KAAhB,EAAuB;AACrB,QAAIC,OAAO,GAAGD,KAAK,CAACE,MAApB;;AACA,QAAI,CAACD,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA2BtC,SAAS,CAACE,mBAArC,CAAL,EAAgE;AAC9DiC,MAAAA,OAAO,GAAGA,OAAO,CAACI,OAAR,CAAgBxB,QAAQ,CAACb,mBAAzB,CAAV;AACD;;AAEDiC,IAAAA,OAAO,CAACK,UAAR,CAAmBH,SAAnB,CAA6BI,MAA7B,CAAoCzC,SAAS,CAACG,IAA9C;;AACA,SAAKuB,iBAAL,CAAuBpB,KAAK,CAACQ,MAA7B;AACD,G;;SAED4B,a,GAAA,uBAAcR,KAAd,EAAqB;AACnB,QAAIS,IAAI,GAAGT,KAAK,CAACE,MAAjB;;AACA,QAAI,CAACO,IAAI,CAACN,SAAL,CAAeC,QAAf,CAAwBtC,SAAS,CAACiB,QAAlC,CAAL,EAAkD;AAChD0B,MAAAA,IAAI,GAAGA,IAAI,CAACJ,OAAL,CAAaxB,QAAQ,CAACE,QAAtB,CAAP;AACD;;AAED,QAAI,KAAKO,MAAL,IAAe,CAACmB,IAAI,CAACN,SAAL,CAAeC,QAAf,CAAwBtC,SAAS,CAACE,mBAAlC,CAApB,EAA4E;AAC1E,WAAK0C,eAAL;;AACA,WAAKrB,QAAL,CAAcc,SAAd,CAAwBQ,MAAxB,CAA+B7C,SAAS,CAACK,YAAzC;AACD;AACF,G;;SAEDqB,iB,GAAA,2BAAkBQ,KAAlB,EAAyB;AAAA;;AACvB,QAAI,OAAO/C,gBAAP,KAA4B,WAAhC,EAA6C;AAC3C,UAAI+C,KAAK,KAAK5B,KAAK,CAACK,IAAhB,IAAwB,CAAC,KAAKY,QAAL,CAAcc,SAAd,CAAwBC,QAAxB,CAAiCtC,SAAS,CAACI,iBAA3C,CAA7B,EAA4F;AAC1F,aAAKqB,EAAL,GAAU,KAAKqB,cAAL,EAAV;AACD;;AAED,UAAIZ,KAAK,KAAK5B,KAAK,CAACI,OAApB,EAA6B;AAC3B,aAAKqC,iBAAL;AACD;;AAED,UAAIb,KAAK,KAAK5B,KAAK,CAACO,MAApB,EAA4B;AAC1B,YAAI,KAAKU,QAAL,CAAcc,SAAd,CAAwBC,QAAxB,CAAiCtC,SAAS,CAACI,iBAA3C,CAAJ,EAAmE;AACjE,eAAK2C,iBAAL;AACD,SAFD,MAEO;AACL,eAAKA,iBAAL;;AACA,eAAKtB,EAAL,GAAU,KAAKqB,cAAL,EAAV;AACD;AACF;;AAED,UAAIZ,KAAK,KAAK5B,KAAK,CAACQ,MAAhB,IAA0B,CAAC,KAAKS,QAAL,CAAcc,SAAd,CAAwBC,QAAxB,CAAiCtC,SAAS,CAACI,iBAA3C,CAA/B,EAA8F;AAC5F;AACA4C,QAAAA,UAAU,CAAC,YAAM;AACf,UAAA,KAAI,CAACD,iBAAL;;AACA,UAAA,KAAI,CAACtB,EAAL,GAAU,KAAI,CAACqB,cAAL,EAAV;AACD,SAHS,EAGPhD,OAAO,CAACC,UAHD,CAAV;AAID;AACF;AACF,G;;SAED+C,c,GAAA,wBAAeG,SAAf,EAA0D;AAAA,QAA3CA,SAA2C;AAA3CA,MAAAA,SAA2C,GAA/BlC,QAAQ,CAACI,oBAAsB;AAAA;;AACxD,QAAMM,EAAE,GAAG,IAAItC,gBAAJ,CAAqB+D,QAAQ,CAACC,aAAT,CAAuBF,SAAvB,CAArB,EAAwD;AACjEG,MAAAA,eAAe,EAAE;AADgD,KAAxD,CAAX,CADwD,CAIxD;;AACA3B,IAAAA,EAAE,CAAC4B,KAAH,GAAW,KAAX;AACA,WAAO5B,EAAP;AACD,G;;SAEDsB,iB,GAAA,6BAAoB;AAClB,QAAI,KAAKtB,EAAT,EAAa;AACX,WAAKA,EAAL,CAAQ6B,OAAR;AACA,WAAK7B,EAAL,GAAU,IAAV;AACD;AACF,G;;SAED8B,W,GAAA,qBAAYjC,OAAZ,EAAqBkC,QAArB,EAA+B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,QAAMC,OAAO,GAAG,EAAhB,CAlB6B,CAoB7B;;AACA,WAAOnC,OAAO,IAAIA,OAAO,KAAK4B,QAA9B,EAAwC5B,OAAO,GAAGA,OAAO,CAACkB,UAA1D,EAAsE;AACpE;AACA,UAAIgB,QAAJ,EAAc;AACZ,YAAIlC,OAAO,CAACoC,OAAR,CAAgBF,QAAhB,CAAJ,EAA+B;AAC7BC,UAAAA,OAAO,CAACE,IAAR,CAAarC,OAAb;AACD;AACF,OAJD,MAIO;AACLmC,QAAAA,OAAO,CAACE,IAAR,CAAarC,OAAb;AACD;AACF;;AAED,WAAOmC,OAAP;AACD,G;;SAED9B,c,GAAA,0BAAiB;AAAA;;AACf;AACAiC,IAAAA,KAAK,CAACC,IAAN,CAAW,KAAKtC,QAAL,CAAcuC,gBAAd,CAA+B/C,QAAQ,CAACE,QAAxC,CAAX,EAA8D8C,OAA9D,CAAsE,UAAAzC,OAAO,EAAI;AAC/E,UAAI0C,UAAJ;;AACA,UAAI1C,OAAO,CAACe,SAAR,CAAkBC,QAAlB,CAA2BvB,QAAQ,CAACG,gBAApC,CAAJ,EAA2D;AACzD8C,QAAAA,UAAU,GAAGC,MAAM,CAACtE,MAAM,CAACuE,QAAR,CAAnB;AACD,OAFD,MAEO;AACLF,QAAAA,UAAU,GAAGC,MAAM,CAACtE,MAAM,CAACuE,QAAR,CAAN,CAAwBC,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAAb;AACD;;AAED,UAAIH,UAAU,CAACI,MAAX,CAAkBJ,UAAU,CAACK,MAAX,GAAoB,CAAtC,MAA6C,GAAjD,EAAsD;AACpDL,QAAAA,UAAU,GAAGA,UAAU,CAACM,KAAX,CAAiB,CAAjB,EAAoB,CAAC,CAArB,CAAb;AACD;;AAED,UAAIhD,OAAO,CAACiD,IAAR,KAAiBP,UAArB,EAAiC;AAC/B1C,QAAAA,OAAO,CAACe,SAAR,CAAkBmC,GAAlB,CAAsBxE,SAAS,CAACC,MAAhC,EAD+B,CAE/B;;AACA2D,QAAAA,KAAK,CAACC,IAAN,CAAW,MAAI,CAACN,WAAL,CAAiBjC,OAAjB,EAA0BP,QAAQ,CAACC,YAAnC,CAAX,EAA6D+C,OAA7D,CAAqE,UAAAzC,OAAO,EAAI;AAC9EA,UAAAA,OAAO,CAACe,SAAR,CAAkBmC,GAAlB,CAAsBxE,SAAS,CAACG,IAAhC;AACD,SAFD;AAGD;AACF,KAnBD;AAoBD,G;;SAED6B,c,GAAA,0BAAiB;AACf,QAAMyC,EAAE,GAAGrF,QAAQ,CAAC,iBAAD,CAAnB;;AACA,QAAI,CAACqF,EAAL,EAAS;AACP;AACD;;AAED,QAAMC,OAAO,GAAGC,QAAQ,CAACF,EAAD,EAAK,EAAL,CAAR,GAAmB,CAAnC;AACA,QAAMG,cAAc,GAAGjF,MAAM,CAACkF,UAAP,kBAAiCH,OAAjC,SAAvB;;AAEA,SAAK9C,eAAL,CAAqBgD,cAArB;;AAEAA,IAAAA,cAAc,CAACE,WAAf,CAA2B,KAAKlD,eAAhC;AACD,G;;SAEDA,e,GAAA,yBAAgBM,KAAhB,EAAuB;AACrB,SAAKV,MAAL,GAAcuD,OAAO,CAAC7C,KAAK,CAACwB,OAAP,CAArB;;AACA,SAAKsB,eAAL;AACD,G;;SAEDlD,iB,GAAA,2BAAkBI,KAAlB,EAAyB;AACvB,QAAI,CAAC,KAAKX,QAAL,CAAce,QAAd,CAAuBJ,KAAK,CAACE,MAA7B,CAAL,EAA2C;AAAE;AAC3CF,MAAAA,KAAK,CAAC+C,cAAN;AACA/C,MAAAA,KAAK,CAACgD,eAAN;;AACA,WAAKtC,eAAL;;AACA,WAAKrB,QAAL,CAAcc,SAAd,CAAwBQ,MAAxB,CAA+B7C,SAAS,CAACK,YAAzC;AACD;AACF,G;;SAED8E,Y,GAAA,wBAAe;AACbjC,IAAAA,QAAQ,CAACkC,gBAAT,CAA0B9E,KAAK,CAACE,KAAhC,EAAuC,KAAKsB,iBAA5C,EAA+D,IAA/D;AACD,G;;SAEDc,e,GAAA,2BAAkB;AAChBM,IAAAA,QAAQ,CAACmC,mBAAT,CAA6B/E,KAAK,CAACE,KAAnC,EAA0C,KAAKsB,iBAA/C,EAAkE,IAAlE;AACD,G;;SAEDkD,e,GAAA,2BAAkB;AAChB,QAAI,KAAKxD,MAAL,IAAe,KAAKD,QAAL,CAAcc,SAAd,CAAwBC,QAAxB,CAAiCtC,SAAS,CAACK,YAA3C,CAAnB,EAA6E;AAC3E,WAAK8E,YAAL;AACD,KAFD,MAEO;AACL,WAAKvC,eAAL;AACD;AACF,G;;SAEDb,kB,GAAA,8BAAqB;AAAA;;AACnB7C,IAAAA,YAAY,CAACoG,EAAb,CAAgB,KAAK/D,QAArB,EAA+BjB,KAAK,CAACC,YAArC,EAAmD,UAAA2B,KAAK,EAAI;AAC1D,UAAIA,KAAK,CAACqD,MAAN,CAAaC,SAAb,KAA2BxF,SAAS,CAACI,iBAAzC,EAA4D;AAC1D,QAAA,MAAI,CAACsB,iBAAL,CAAuBpB,KAAK,CAACO,MAA7B;AACD;;AAED,UAAIqB,KAAK,CAACqD,MAAN,CAAaC,SAAb,KAA2BxF,SAAS,CAACK,YAAzC,EAAuD;AACrD,QAAA,MAAI,CAAC2E,eAAL;AACD;AACF,KARD;AAUA9F,IAAAA,YAAY,CAACoG,EAAb,CAAgB,KAAK/D,QAArB,EAA+BjB,KAAK,CAACG,cAArC,EAAqDM,QAAQ,CAACb,mBAA9D,EAAmF,UAAAgC,KAAK,EAAI;AAC1FA,MAAAA,KAAK,CAAC+C,cAAN;;AACA,MAAA,MAAI,CAAChD,eAAL,CAAqBC,KAArB;AACD,KAHD;AAKAhD,IAAAA,YAAY,CAACoG,EAAb,CAAgB,KAAK/D,QAArB,EAA+BjB,KAAK,CAACG,cAArC,EAAqDM,QAAQ,CAACE,QAA9D,EAAwE,UAAAiB,KAAK,EAAI;AAC/E,MAAA,MAAI,CAACQ,aAAL,CAAmBR,KAAnB;AACD,KAFD;AAGD,G,CAED;;;UAEOuD,iB,GAAP,2BAAyBnE,OAAzB,EAAkCoE,MAAlC,EAA0C;AACxC,QAAIC,IAAI,GAAG1G,IAAI,CAAC2G,OAAL,CAAatE,OAAb,EAAsB/B,QAAtB,CAAX;;AACA,QAAMsG,OAAO,GAAG,OAAOH,MAAP,KAAkB,QAAlB,IAA8BA,MAA9C;;AAEA,QAAI,CAACC,IAAL,EAAW;AACTA,MAAAA,IAAI,GAAG,IAAItE,OAAJ,CAAYC,OAAZ,EAAqBuE,OAArB,CAAP;AACD;;AAED,QAAI,OAAOH,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,UAAI,OAAOC,IAAI,CAACD,MAAD,CAAX,KAAwB,WAA5B,EAAyC;AACvC,cAAM,IAAII,SAAJ,wBAAkCJ,MAAlC,QAAN;AACD;;AAEDC,MAAAA,IAAI,CAACD,MAAD,CAAJ;AACD;AACF,G;;UAEMK,gB,GAAP,0BAAwBL,MAAxB,EAAgC;AAC9B,WAAO,KAAKM,IAAL,CAAU,YAAY;AAC3B3E,MAAAA,OAAO,CAACoE,iBAAR,CAA0B,IAA1B,EAAgCC,MAAhC;AACD,KAFM,CAAP;AAGD,G;;;;wBA5NoB;AACnB,aAAOpG,OAAP;AACD;;;;;AA6NH;;;;;;;AAMAJ,YAAY,CAACoG,EAAb,CAAgB3F,MAAhB,EAAwBW,KAAK,CAACM,aAA9B,EAA6C,YAAM;AACjD;AACAgD,EAAAA,KAAK,CAACC,IAAN,CAAWX,QAAQ,CAACY,gBAAT,CAA0B/C,QAAQ,CAACK,OAAnC,CAAX,EAAwD2C,OAAxD,CAAgE,UAAAzC,OAAO,EAAI;AACzED,IAAAA,OAAO,CAACoE,iBAAR,CAA0BnE,OAA1B;AACD,GAFD;AAGD,CALD;AAOA;;;;;;;AAOA,IAAI,OAAOtC,CAAP,KAAa,WAAjB,EAA8B;AAC5B,MAAMiH,kBAAkB,GAAGjH,CAAC,CAACkH,EAAF,CAAK7G,IAAL,CAA3B;AACAL,EAAAA,CAAC,CAACkH,EAAF,CAAK7G,IAAL,IAAagC,OAAO,CAAC0E,gBAArB;AACA/G,EAAAA,CAAC,CAACkH,EAAF,CAAK7G,IAAL,EAAW8G,WAAX,GAAyB9E,OAAzB;;AACArC,EAAAA,CAAC,CAACkH,EAAF,CAAK7G,IAAL,EAAW+G,UAAX,GAAwB,YAAM;AAC5BpH,IAAAA,CAAC,CAACkH,EAAF,CAAK7G,IAAL,IAAa4G,kBAAb;AACA,WAAO5E,OAAO,CAAC0E,gBAAf;AACD,GAHD;AAID;;AAED,eAAe1E,OAAf","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI (v3.0.0-alpha.12): sidebar.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  jQuery as $\n} from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport PerfectScrollbar from 'perfect-scrollbar'\nimport getStyle from './utilities/get-style'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'sidebar'\nconst VERSION = '3.0.0-alpha.12'\nconst DATA_KEY = 'coreui.sidebar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst PREFIX = window.CoreUIDefaults ? window.CoreUIDefaults.prefix ? window.CoreUIDefaults.prefix : 'c-' : 'c-'\n\nconst Default = {\n  transition: 400\n}\n\nconst ClassName = {\n  ACTIVE: `${PREFIX}active`,\n  NAV_DROPDOWN_TOGGLE: `${PREFIX}nav-dropdown-toggle`,\n  OPEN: `${PREFIX}open`,\n  SIDEBAR_MINIMIZED: `${PREFIX}sidebar-minimized`,\n  SIDEBAR_SHOW: `${PREFIX}sidebar-show`\n}\n\nconst Event = {\n  CLASS_TOGGLE: 'classtoggle',\n  CLICK: 'click',\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n  DESTROY: 'destroy',\n  INIT: 'init',\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`,\n  TOGGLE: 'toggle',\n  UPDATE: 'update'\n}\n\nconst Selector = {\n  NAV_DROPDOWN_TOGGLE: `.${PREFIX}nav-dropdown-toggle`,\n  NAV_DROPDOWN: `.${PREFIX}nav-dropdown`,\n  NAV_LINK: `.${PREFIX}nav-link`,\n  NAV_LINK_QUERIED: `.${PREFIX}nav-link-queried`,\n  NAVIGATION_CONTAINER: `.${PREFIX}sidebar-nav`,\n  SIDEBAR: `.${PREFIX}sidebar`\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Sidebar {\n  constructor(element) {\n    this._element = element\n    this.mobile = false\n    this.ps = null\n    this._perfectScrollbar(Event.INIT)\n    this._setActiveLink()\n    this._breakpointTest = this._breakpointTest.bind(this)\n    this._clickOutListener = this._clickOutListener.bind(this)\n    this._addEventListeners()\n    this._addMediaQuery()\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Private\n\n  _toggleDropdown(event) {\n    let toggler = event.target\n    if (!toggler.classList.contains(ClassName.NAV_DROPDOWN_TOGGLE)) {\n      toggler = toggler.closest(Selector.NAV_DROPDOWN_TOGGLE)\n    }\n\n    toggler.parentNode.classList.toggle(ClassName.OPEN)\n    this._perfectScrollbar(Event.UPDATE)\n  }\n\n  _closeSidebar(event) {\n    let link = event.target\n    if (!link.classList.contains(ClassName.NAV_LINK)) {\n      link = link.closest(Selector.NAV_LINK)\n    }\n\n    if (this.mobile && !link.classList.contains(ClassName.NAV_DROPDOWN_TOGGLE)) {\n      this._removeClickOut()\n      this._element.classList.remove(ClassName.SIDEBAR_SHOW)\n    }\n  }\n\n  _perfectScrollbar(event) {\n    if (typeof PerfectScrollbar !== 'undefined') {\n      if (event === Event.INIT && !this._element.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n        this.ps = this._makeScrollbar()\n      }\n\n      if (event === Event.DESTROY) {\n        this._destroyScrollbar()\n      }\n\n      if (event === Event.TOGGLE) {\n        if (this._element.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n          this._destroyScrollbar()\n        } else {\n          this._destroyScrollbar()\n          this.ps = this._makeScrollbar()\n        }\n      }\n\n      if (event === Event.UPDATE && !this._element.classList.contains(ClassName.SIDEBAR_MINIMIZED)) {\n        // TODO: Add smooth transition\n        setTimeout(() => {\n          this._destroyScrollbar()\n          this.ps = this._makeScrollbar()\n        }, Default.transition)\n      }\n    }\n  }\n\n  _makeScrollbar(container = Selector.NAVIGATION_CONTAINER) {\n    const ps = new PerfectScrollbar(document.querySelector(container), {\n      suppressScrollX: true\n    })\n    // TODO: find real fix for ps rtl\n    ps.isRtl = false\n    return ps\n  }\n\n  _destroyScrollbar() {\n    if (this.ps) {\n      this.ps.destroy()\n      this.ps = null\n    }\n  }\n\n  _getParents(element, selector) {\n    // Element.matches() polyfill\n    // if (!Element.prototype.matches) {\n    //   Element.prototype.matches =\n    //     Element.prototype.matchesSelector ||\n    //     Element.prototype.mozMatchesSelector ||\n    //     Element.prototype.msMatchesSelector ||\n    //     Element.prototype.oMatchesSelector ||\n    //     Element.prototype.webkitMatchesSelector ||\n    //     function(s) {\n    //       var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n    //         i = matches.length;\n    //       while (--i >= 0 && matches.item(i) !== this) {}\n    //       return i > -1;\n    //     };\n    // }\n\n    // Setup parents array\n    const parents = []\n\n    // Get matching parent elements\n    for (; element && element !== document; element = element.parentNode) {\n      // Add matching parents to array\n      if (selector) {\n        if (element.matches(selector)) {\n          parents.push(element)\n        }\n      } else {\n        parents.push(element)\n      }\n    }\n\n    return parents\n  }\n\n  _setActiveLink() {\n    // eslint-disable-next-line unicorn/prefer-spread\n    Array.from(this._element.querySelectorAll(Selector.NAV_LINK)).forEach(element => {\n      let currentUrl\n      if (element.classList.contains(Selector.NAV_LINK_QUERIED)) {\n        currentUrl = String(window.location)\n      } else {\n        currentUrl = String(window.location).split('?')[0]\n      }\n\n      if (currentUrl.substr(currentUrl.length - 1) === '#') {\n        currentUrl = currentUrl.slice(0, -1)\n      }\n\n      if (element.href === currentUrl) {\n        element.classList.add(ClassName.ACTIVE)\n        // eslint-disable-next-line unicorn/prefer-spread\n        Array.from(this._getParents(element, Selector.NAV_DROPDOWN)).forEach(element => {\n          element.classList.add(ClassName.OPEN)\n        })\n      }\n    })\n  }\n\n  _addMediaQuery() {\n    const sm = getStyle('--breakpoint-sm')\n    if (!sm) {\n      return\n    }\n\n    const smValue = parseInt(sm, 10) - 1\n    const mediaQueryList = window.matchMedia(`(max-width: ${smValue}px)`)\n\n    this._breakpointTest(mediaQueryList)\n\n    mediaQueryList.addListener(this._breakpointTest)\n  }\n\n  _breakpointTest(event) {\n    this.mobile = Boolean(event.matches)\n    this._toggleClickOut()\n  }\n\n  _clickOutListener(event) {\n    if (!this._element.contains(event.target)) { // or use: event.target.closest(Selector.SIDEBAR) === null\n      event.preventDefault()\n      event.stopPropagation()\n      this._removeClickOut()\n      this._element.classList.remove(ClassName.SIDEBAR_SHOW)\n    }\n  }\n\n  _addClickOut() {\n    document.addEventListener(Event.CLICK, this._clickOutListener, true)\n  }\n\n  _removeClickOut() {\n    document.removeEventListener(Event.CLICK, this._clickOutListener, true)\n  }\n\n  _toggleClickOut() {\n    if (this.mobile && this._element.classList.contains(ClassName.SIDEBAR_SHOW)) {\n      this._addClickOut()\n    } else {\n      this._removeClickOut()\n    }\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, Event.CLASS_TOGGLE, event => {\n      if (event.detail.className === ClassName.SIDEBAR_MINIMIZED) {\n        this._perfectScrollbar(Event.TOGGLE)\n      }\n\n      if (event.detail.className === ClassName.SIDEBAR_SHOW) {\n        this._toggleClickOut()\n      }\n    })\n\n    EventHandler.on(this._element, Event.CLICK_DATA_API, Selector.NAV_DROPDOWN_TOGGLE, event => {\n      event.preventDefault()\n      this._toggleDropdown(event)\n    })\n\n    EventHandler.on(this._element, Event.CLICK_DATA_API, Selector.NAV_LINK, event => {\n      this._closeSidebar(event)\n    })\n  }\n\n  // Static\n\n  static _sidebarInterface(element, config) {\n    let data = Data.getData(element, DATA_KEY)\n    const _config = typeof config === 'object' && config\n\n    if (!data) {\n      data = new Sidebar(element, _config)\n    }\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      Sidebar._sidebarInterface(this, config)\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(window, Event.LOAD_DATA_API, () => {\n  // eslint-disable-next-line unicorn/prefer-spread\n  Array.from(document.querySelectorAll(Selector.SIDEBAR)).forEach(element => {\n    Sidebar._sidebarInterface(element)\n  })\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n* add .asyncLoad to jQuery only if jQuery is present\n */\n\nif (typeof $ !== 'undefined') {\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  $.fn[NAME] = Sidebar._jQueryInterface\n  $.fn[NAME].Constructor = Sidebar\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Sidebar._jQueryInterface\n  }\n}\n\nexport default Sidebar\n"],"file":"sidebar.js"}