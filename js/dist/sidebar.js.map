{"version":3,"file":"sidebar.js","sources":["../src/sidebar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI sidebar.js\n * Licensed under MIT (https://github.com/coreui/coreui/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport { defineJQueryPlugin } from './util/index.js'\nimport Backdrop from './util/backdrop.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'sidebar'\nconst DATA_KEY = 'coreui.sidebar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst Default = {}\n\nconst DefaultType = {}\n\nconst CLASS_NAME_BACKDROP = 'sidebar-backdrop'\nconst CLASS_NAME_HIDE = 'hide'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SIDEBAR_NARROW = 'sidebar-narrow'\nconst CLASS_NAME_SIDEBAR_OVERLAID = 'sidebar-overlaid'\nconst CLASS_NAME_SIDEBAR_NARROW_UNFOLDABLE = 'sidebar-narrow-unfoldable'\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_RESIZE = 'resize'\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DATA_CLOSE = '[data-coreui-close=\"sidebar\"]'\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle]'\n\nconst SELECTOR_SIDEBAR = '.sidebar'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Sidebar extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._show = this._isVisible()\n    this._mobile = this._isMobile()\n    this._overlaid = this._isOverlaid()\n    this._narrow = this._isNarrow()\n    this._unfoldable = this._isUnfoldable()\n    this._backdrop = this._initializeBackDrop()\n    this._addEventListeners()\n  }\n\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  show() {\n    EventHandler.trigger(this._element, EVENT_SHOW)\n\n    if (this._element.classList.contains(CLASS_NAME_HIDE)) {\n      this._element.classList.remove(CLASS_NAME_HIDE)\n    }\n\n    if (this._overlaid) {\n      this._element.classList.add(CLASS_NAME_SHOW)\n    }\n\n    if (this._isMobile()) {\n      this._element.classList.add(CLASS_NAME_SHOW)\n      this._backdrop.show()\n      new ScrollBarHelper().hide()\n    }\n\n    const complete = () => {\n      if (this._isVisible() === true) {\n        this._show = true\n        if (this._isMobile() || this._isOverlaid()) {\n          this._addClickOutListener()\n        }\n\n        EventHandler.trigger(this._element, EVENT_SHOWN)\n      }\n    }\n\n    this._queueCallback(complete, this._element, true)\n  }\n\n  hide() {\n    EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (this._element.classList.contains(CLASS_NAME_SHOW)) {\n      this._element.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    if (this._isMobile()) {\n      this._backdrop.hide()\n      new ScrollBarHelper().reset()\n    }\n\n    if (!this._isMobile() && !this._overlaid) {\n      this._element.classList.add(CLASS_NAME_HIDE)\n    }\n\n    const complete = () => {\n      if (this._isVisible() === false) {\n        this._show = false\n        if (this._isMobile() || this._isOverlaid()) {\n          this._removeClickOutListener()\n        }\n\n        EventHandler.trigger(this._element, EVENT_HIDDEN)\n      }\n    }\n\n    this._queueCallback(complete, this._element, true)\n  }\n\n  toggle() {\n    if (this._isVisible()) {\n      this.hide()\n      return\n    }\n\n    this.show()\n  }\n\n  narrow() {\n    if (!this._isMobile()) {\n      this._addClassName(CLASS_NAME_SIDEBAR_NARROW)\n      this._narrow = true\n    }\n  }\n\n  unfoldable() {\n    if (!this._isMobile()) {\n      this._addClassName(CLASS_NAME_SIDEBAR_NARROW_UNFOLDABLE)\n      this._unfoldable = true\n    }\n  }\n\n  reset() {\n    if (!this._isMobile()) {\n      if (this._narrow) {\n        this._element.classList.remove(CLASS_NAME_SIDEBAR_NARROW)\n        this._narrow = false\n      }\n\n      if (this._unfoldable) {\n        this._element.classList.remove(CLASS_NAME_SIDEBAR_NARROW_UNFOLDABLE)\n        this._unfoldable = false\n      }\n    }\n  }\n\n  toggleNarrow() {\n    if (this._narrow) {\n      this.reset()\n      return\n    }\n\n    this.narrow()\n  }\n\n  toggleUnfoldable() {\n    if (this._unfoldable) {\n      this.reset()\n      return\n    }\n\n    this.unfoldable()\n  }\n\n  // Private\n\n  _initializeBackDrop() {\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible: this._isMobile(),\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: () => this.hide()\n    })\n  }\n\n  _isMobile() {\n    return Boolean(window.getComputedStyle(this._element, null).getPropertyValue('--cui-is-mobile'))\n  }\n\n  _isNarrow() {\n    return this._element.classList.contains(CLASS_NAME_SIDEBAR_NARROW)\n  }\n\n  _isOverlaid() {\n    return this._element.classList.contains(CLASS_NAME_SIDEBAR_OVERLAID)\n  }\n\n  _isUnfoldable() {\n    return this._element.classList.contains(CLASS_NAME_SIDEBAR_NARROW_UNFOLDABLE)\n  }\n\n  _isVisible() {\n    const rect = this._element.getBoundingClientRect()\n    return (\n      rect.top >= 0 && rect.left >= 0 && Math.floor(rect.bottom) <= (window.innerHeight || document.documentElement.clientHeight) && Math.floor(rect.right) <= (window.innerWidth || document.documentElement.clientWidth)\n    )\n  }\n\n  _addClassName(className) {\n    this._element.classList.add(className)\n  }\n\n  _clickOutListener(event, sidebar) {\n    if (event.target.closest(SELECTOR_SIDEBAR) === null) {\n      event.preventDefault()\n      event.stopPropagation()\n      sidebar.hide()\n    }\n  }\n\n  _addClickOutListener() {\n    EventHandler.on(document, EVENT_CLICK_DATA_API, event => {\n      this._clickOutListener(event, this)\n    })\n  }\n\n  _removeClickOutListener() {\n    EventHandler.off(document, EVENT_CLICK_DATA_API)\n  }\n\n  // Sidebar navigation\n  _addEventListeners() {\n    if (this._mobile && this._show) {\n      this._addClickOutListener()\n    }\n\n    if (this._overlaid && this._show) {\n      this._addClickOutListener()\n    }\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, event => {\n      event.preventDefault()\n      const toggle = Manipulator.getDataAttribute(event.target, 'toggle')\n\n      if (toggle === 'narrow') {\n        this.toggleNarrow()\n      }\n\n      if (toggle === 'unfoldable') {\n        this.toggleUnfoldable()\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_DATA_CLOSE, event => {\n      event.preventDefault()\n      this.hide()\n    })\n\n    EventHandler.on(window, EVENT_RESIZE, () => {\n      if (this._isMobile() && this._isVisible()) {\n        this.hide()\n        this._backdrop = this._initializeBackDrop()\n      }\n    })\n  }\n\n  // Static\n\n  static sidebarInterface(element, config) {\n    const data = Sidebar.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      Sidebar.sidebarInterface(this, config)\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of Array.from(document.querySelectorAll(SELECTOR_SIDEBAR))) {\n    Sidebar.sidebarInterface(element)\n  }\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\ndefineJQueryPlugin(Sidebar)\n\nexport default Sidebar\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","Default","DefaultType","CLASS_NAME_BACKDROP","CLASS_NAME_HIDE","CLASS_NAME_SHOW","CLASS_NAME_SIDEBAR_NARROW","CLASS_NAME_SIDEBAR_OVERLAID","CLASS_NAME_SIDEBAR_NARROW_UNFOLDABLE","EVENT_HIDE","EVENT_HIDDEN","EVENT_RESIZE","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","EVENT_LOAD_DATA_API","SELECTOR_DATA_CLOSE","SELECTOR_DATA_TOGGLE","SELECTOR_SIDEBAR","Sidebar","BaseComponent","constructor","element","config","_config","_getConfig","_show","_isVisible","_mobile","_isMobile","_overlaid","_isOverlaid","_narrow","_isNarrow","_unfoldable","_isUnfoldable","_backdrop","_initializeBackDrop","_addEventListeners","show","EventHandler","trigger","_element","classList","contains","remove","add","ScrollBarHelper","hide","complete","_addClickOutListener","_queueCallback","reset","_removeClickOutListener","toggle","narrow","_addClassName","unfoldable","toggleNarrow","toggleUnfoldable","Backdrop","className","isVisible","isAnimated","rootElement","parentNode","clickCallback","Boolean","window","getComputedStyle","getPropertyValue","rect","getBoundingClientRect","top","left","Math","floor","bottom","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","_clickOutListener","event","sidebar","target","closest","preventDefault","stopPropagation","on","off","Manipulator","getDataAttribute","sidebarInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","Array","from","querySelectorAll","defineJQueryPlugin"],"mappings":"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"}