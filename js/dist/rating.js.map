{"version":3,"file":"rating.js","sources":["../src/rating.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO rating.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { DefaultAllowlist, sanitizeHtml } from './util/sanitizer.js'\nimport { defineJQueryPlugin, getUID } from './util/index.js'\nimport Tooltip from './tooltip.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'rating'\nconst DATA_KEY = 'coreui.rating'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst EVENT_CHANGE = `change${EVENT_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`\nconst EVENT_HOVER = `hover${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\n\nconst CLASS_NAME_ACTIVE = 'active'\nconst CLASS_NAME_DISABLED = 'disabled'\nconst CLASS_NAME_RATING = 'rating'\nconst CLASS_NAME_RATING_ITEM = 'rating-item'\nconst CLASS_NAME_RATING_ITEM_ICON = 'rating-item-icon'\nconst CLASS_NAME_RATING_ITEM_CUSTOM_ICON = 'rating-item-custom-icon'\nconst CLASS_NAME_RATING_ITEM_CUSTOM_ICON_ACTIVE = 'rating-item-custom-icon-active'\nconst CLASS_NAME_RATING_ITEM_INPUT = 'rating-item-input'\nconst CLASS_NAME_RATING_ITEM_LABEL = 'rating-item-label'\nconst CLASS_NAME_READONLY = 'readonly'\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"rating\"]'\nconst SELECTOR_RATING_ITEM_INPUT = '.rating-item-input'\nconst SELECTOR_RATING_ITEM_LABEL = '.rating-item-label'\n\n// js-docs-start svg-allow-list\nexport const svgAllowList = {\n  ...DefaultAllowlist,\n  svg: ['xmlns', 'version', 'baseprofile', 'width', 'height', 'viewbox', 'preserveaspectratio', 'aria-hidden', 'role', 'focusable'],\n  g: ['id', 'class', 'transform', 'style'],\n  path: ['id', 'class', 'd', 'fill', 'fill-opacity', 'fill-rule', 'stroke', 'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-opacity'],\n  circle: ['id', 'class', 'cx', 'cy', 'r', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  rect: ['id', 'class', 'x', 'y', 'width', 'height', 'rx', 'ry', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  ellipse: ['id', 'class', 'cx', 'cy', 'rx', 'ry', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  line: ['id', 'class', 'x1', 'y1', 'x2', 'y2', 'stroke', 'stroke-width', 'stroke-opacity'],\n  polygon: ['id', 'class', 'points', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  polyline: ['id', 'class', 'points', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  text: ['id', 'class', 'x', 'y', 'dx', 'dy', 'text-anchor', 'font-family', 'font-size', 'font-weight', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  tspan: ['id', 'class', 'x', 'y', 'dx', 'dy', 'text-anchor', 'font-family', 'font-size', 'font-weight', 'fill', 'fill-opacity', 'stroke', 'stroke-width', 'stroke-opacity'],\n  defs: [],\n  symbol: ['id', 'class', 'viewbox', 'preserveaspectratio'],\n  use: ['id', 'class', 'x', 'y', 'width', 'height', 'href'],\n  image: ['id', 'class', 'x', 'y', 'width', 'height', 'href', 'preserveaspectratio', 'xlink:href'],\n  pattern: ['id', 'class', 'x', 'y', 'width', 'height', 'patternunits', 'patterncontentunits', 'patterntransform', 'preserveaspectratio'],\n  lineargradient: ['id', 'class', 'gradientunits', 'x1', 'y1', 'x2', 'y2', 'spreadmethod', 'gradienttransform'],\n  radialgradient: ['id', 'class', 'gradientunits', 'cx', 'cy', 'r', 'fx', 'fy', 'spreadmethod', 'gradienttransform'],\n  mask: ['id', 'class', 'x', 'y', 'width', 'height', 'maskunits', 'maskcontentunits', 'masktransform'],\n  clippath: ['id', 'class', 'clippathunits'],\n  marker: ['id', 'class', 'markerunits', 'markerwidth', 'markerheight', 'orient', 'preserveaspectratio', 'viewbox', 'refx', 'refy'],\n  title: [],\n  desc: []\n}\n// js-docs-end svg-allow-list\n\nconst Default = {\n  activeIcon: null,\n  allowClear: false,\n  allowList: svgAllowList,\n  disabled: false,\n  highlightOnlySelected: false,\n  icon: null,\n  itemCount: 5,\n  name: null,\n  precision: 1,\n  readOnly: false,\n  sanitize: true,\n  sanitizeFn: null,\n  size: null,\n  tooltips: false,\n  value: null\n}\n\nconst DefaultType = {\n  activeIcon: '(object|string|null)',\n  allowClear: 'boolean',\n  allowList: 'object',\n  disabled: 'boolean',\n  highlightOnlySelected: 'boolean',\n  icon: '(object|string|null)',\n  itemCount: 'number',\n  name: '(string|null)',\n  precision: 'number',\n  readOnly: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  size: '(string|null)',\n  tooltips: '(array|boolean|object)',\n  value: '(number|null)'\n}\n\n/**\n * Class definition\n */\n\nclass Rating extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._currentValue = this._config.value\n    this._name = this._config.name || getUID(`${this.constructor.NAME}-name-`).toString()\n    this._tooltip = null\n\n    this._createRating()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  update(config) {\n    this._config = this._getConfig(config)\n    this._currentValue = this._config.value\n\n    this._element.innerHTML = ''\n    this._createRating()\n    this._addEventListeners()\n  }\n\n  reset(value = null) {\n    this._currentValue = value\n\n    this._element.innerHTML = ''\n    this._createRating()\n    this._addEventListeners()\n\n    EventHandler.trigger(this._element, EVENT_CHANGE, {\n      value\n    })\n  }\n\n  // Private\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_CLICK, SELECTOR_RATING_ITEM_INPUT, ({ target }) => {\n      if (this._config.disabled || this._config.readOnly) {\n        return\n      }\n\n      // eslint-disable-next-line eqeqeq\n      if (this._config.allowClear && this._currentValue == target.value) {\n        this._currentValue = null\n        target.checked = false\n        this._resetLabels()\n\n        EventHandler.trigger(this._element, EVENT_CHANGE, {\n          value: null\n        })\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_CHANGE, SELECTOR_RATING_ITEM_INPUT, ({ target }) => {\n      if (this._config.disabled || this._config.readOnly) {\n        return\n      }\n\n      this._currentValue = target.value\n\n      EventHandler.trigger(this._element, EVENT_CHANGE, {\n        value: target.value\n      })\n\n      const inputs = SelectorEngine.find(SELECTOR_RATING_ITEM_INPUT, this._element)\n      this._resetLabels()\n\n      if (this._config.highlightOnlySelected) {\n        const label = SelectorEngine.findOne(SELECTOR_RATING_ITEM_LABEL, target.parentElement)\n        label.classList.add(CLASS_NAME_ACTIVE)\n\n        return\n      }\n\n      for (const input of inputs) {\n        const label = SelectorEngine.findOne(SELECTOR_RATING_ITEM_LABEL, input.parentElement)\n\n        label.classList.add(CLASS_NAME_ACTIVE)\n\n        if (input === target) {\n          break\n        }\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEENTER, SELECTOR_RATING_ITEM_LABEL, ({ target }) => {\n      if (this._config.disabled || this._config.readOnly) {\n        return\n      }\n\n      const label = target.closest(SELECTOR_RATING_ITEM_LABEL)\n      const labels = SelectorEngine.find(SELECTOR_RATING_ITEM_LABEL, this._element)\n      this._resetLabels()\n\n      const input = SelectorEngine.findOne(SELECTOR_RATING_ITEM_INPUT, label.parentElement)\n\n      EventHandler.trigger(this._element, EVENT_HOVER, {\n        value: input.value\n      })\n\n      this._createTooltip(label.parentElement, input.value)\n\n      if (this._config.highlightOnlySelected) {\n        label.classList.add(CLASS_NAME_ACTIVE)\n\n        return\n      }\n\n      for (const _label of labels) {\n        _label.classList.add(CLASS_NAME_ACTIVE)\n        if (_label === label) {\n          break\n        }\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSELEAVE, SELECTOR_RATING_ITEM_LABEL, () => {\n      if (this._config.disabled || this._config.readOnly) {\n        return\n      }\n\n      if (this._tooltip) {\n        this._tooltip.hide()\n      }\n\n      const checkedInput = SelectorEngine.findOne(`${SELECTOR_RATING_ITEM_INPUT}[value=\"${this._currentValue}\"]`, this._element)\n      this._resetLabels()\n\n      EventHandler.trigger(this._element, EVENT_HOVER, {\n        value: null\n      })\n\n      if (checkedInput && this._config.highlightOnlySelected) {\n        const label = SelectorEngine.findOne(SELECTOR_RATING_ITEM_LABEL, checkedInput.parentElement)\n        label.classList.add(CLASS_NAME_ACTIVE)\n\n        return\n      }\n\n      if (checkedInput) {\n        const inputs = SelectorEngine.find(SELECTOR_RATING_ITEM_INPUT, this._element)\n        this._resetLabels()\n\n        for (const input of inputs) {\n          const label = SelectorEngine.findOne(SELECTOR_RATING_ITEM_LABEL, input.parentElement)\n          label.classList.add(CLASS_NAME_ACTIVE)\n\n          if (input === checkedInput) {\n            break\n          }\n        }\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_FOCUSIN, SELECTOR_RATING_ITEM_INPUT, ({ target }) => {\n      EventHandler.trigger(this._element, EVENT_HOVER, {\n        value: target.value\n      })\n\n      this._createTooltip(target.parentElement, target.value)\n    })\n\n    EventHandler.on(this._element, EVENT_FOCUSOUT, SELECTOR_RATING_ITEM_INPUT, () => {\n      EventHandler.trigger(this._element, EVENT_HOVER, {\n        value: null\n      })\n\n      if (this._tooltip) {\n        this._tooltip.hide()\n      }\n    })\n  }\n\n  _createTooltip(selector, value) {\n    if (this._config.tooltips === false) {\n      return\n    }\n\n    if (this._tooltip) {\n      this._tooltip.hide()\n    }\n\n    let tooltipTitle\n\n    if (typeof this._config.tooltips === 'boolean') {\n      tooltipTitle = value\n    }\n\n    if (typeof this._config.tooltips === 'object') {\n      tooltipTitle = this._config.tooltips[value]\n    }\n\n    if (Array.isArray(this._config.tooltips)) {\n      tooltipTitle = this._config.tooltips[value - 1]\n    }\n\n    this._tooltip = new Tooltip(selector, {\n      title: tooltipTitle\n    })\n  }\n\n  _configAfterMerge(config) {\n    if (typeof config.tooltips === 'string') {\n      config.tooltips = config.tooltips.split(',')\n    }\n\n    return config\n  }\n\n  _resetLabels() {\n    const labels = SelectorEngine.find(SELECTOR_RATING_ITEM_LABEL, this._element)\n\n    for (const label of labels) {\n      label.classList.remove(CLASS_NAME_ACTIVE)\n    }\n  }\n\n  _createRating() {\n    this._element.classList.add(CLASS_NAME_RATING)\n\n    if (this._config.size) {\n      this._element.classList.add(`rating-${this._config.size}`)\n    }\n\n    if (this._config.disabled) {\n      this._element.classList.add(CLASS_NAME_DISABLED)\n    }\n\n    if (this._config.readOnly) {\n      this._element.classList.add(CLASS_NAME_READONLY)\n    }\n\n    this._element.setAttribute('role', 'radiogroup')\n    Array.from({ length: this._config.itemCount }, (_, index) => this._createRatingItem(index))\n  }\n\n  _createRatingItem(index) {\n    const ratingItemElement = document.createElement('div')\n    ratingItemElement.classList.add(CLASS_NAME_RATING_ITEM)\n\n    const numberOfRadios = 1 / this._config.precision\n\n    // eslint-disable-next-line array-callback-return\n    Array.from({ length: numberOfRadios }, (_, _index) => {\n      const ratingItemId = getUID(`${this.constructor.NAME}${index}`).toString()\n      const isNotLastItem = _index + 1 < numberOfRadios\n      const value = numberOfRadios === 1 ? index + 1 : ((_index + 1) * (Number(this._config.precision))) + index\n\n      // Create label\n      const ratingItemLabelElement = document.createElement('label')\n      ratingItemLabelElement.classList.add(CLASS_NAME_RATING_ITEM_LABEL)\n      ratingItemLabelElement.setAttribute('for', ratingItemId)\n\n      // eslint-disable-next-line eqeqeq\n      if (this._config.highlightOnlySelected && this._currentValue == value) {\n        ratingItemLabelElement.classList.add(CLASS_NAME_ACTIVE)\n      }\n\n      if (!this._config.highlightOnlySelected && this._currentValue >= value) {\n        ratingItemLabelElement.classList.add(CLASS_NAME_ACTIVE)\n      }\n\n      if (isNotLastItem) {\n        ratingItemLabelElement.style.zIndex = (1 / this._config.precision) - _index\n        ratingItemLabelElement.style.position = 'absolute'\n        ratingItemLabelElement.style.width = `${this._config.precision * (_index + 1) * 100}%`\n        ratingItemLabelElement.style.overflow = 'hidden'\n        ratingItemLabelElement.style.opacity = 0\n      }\n\n      if (this._config.icon) {\n        const ratingItemIconElement = document.createElement('div')\n        ratingItemIconElement.classList.add(CLASS_NAME_RATING_ITEM_CUSTOM_ICON)\n        ratingItemIconElement.innerHTML = this._sanitizeIcon(typeof this._config.icon === 'object' ? this._config.icon[index + 1] : this._config.icon)\n\n        ratingItemLabelElement.append(ratingItemIconElement)\n      } else {\n        const ratingItemIconElement = document.createElement('div')\n        ratingItemIconElement.classList.add(CLASS_NAME_RATING_ITEM_ICON)\n\n        ratingItemLabelElement.append(ratingItemIconElement)\n      }\n\n      if (this._config.icon && this._config.activeIcon) {\n        const ratingItemIconActiveElement = document.createElement('div')\n        ratingItemIconActiveElement.classList.add(CLASS_NAME_RATING_ITEM_CUSTOM_ICON_ACTIVE)\n        ratingItemIconActiveElement.innerHTML = this._sanitizeIcon(typeof this._config.activeIcon === 'object' ? this._config.activeIcon[index + 1] : this._config.activeIcon)\n\n        ratingItemLabelElement.append(ratingItemIconActiveElement)\n      }\n\n      // Create input\n      const ratingItemInputElement = document.createElement('input')\n      ratingItemInputElement.classList.add(CLASS_NAME_RATING_ITEM_INPUT)\n      ratingItemInputElement.id = ratingItemId\n      ratingItemInputElement.type = 'radio'\n      ratingItemInputElement.value = value\n      ratingItemInputElement.name = this._name\n\n      if (this._config.disabled || this._config.readOnly) {\n        ratingItemInputElement.setAttribute('disabled', true)\n      }\n\n      if (this._currentValue === value) {\n        ratingItemInputElement.checked = true\n      }\n\n      // Append elements\n\n      if (this._config.precision === 1) {\n        ratingItemElement.append(ratingItemLabelElement)\n        ratingItemElement.append(ratingItemInputElement)\n      } else {\n        const wrapper = document.createElement('div')\n        wrapper.append(ratingItemLabelElement)\n        wrapper.append(ratingItemInputElement)\n        ratingItemElement.append(wrapper)\n      }\n    })\n\n    this._element.append(ratingItemElement)\n  }\n\n  _sanitizeIcon(icon) {\n    return this._config.sanitize ? sanitizeHtml(icon, this._config.allowList, this._config.sanitizeFn) : icon\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute]\n      }\n    }\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static ratingInterface(element, config) {\n    const data = Rating.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Rating.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const ratings = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = ratings.length; i < len; i++) {\n    Rating.ratingInterface(ratings[i])\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Rating)\n\nexport default Rating\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","DISALLOWED_ATTRIBUTES","Set","EVENT_CHANGE","EVENT_CLICK","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_HOVER","EVENT_LOAD_DATA_API","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","CLASS_NAME_ACTIVE","CLASS_NAME_DISABLED","CLASS_NAME_RATING","CLASS_NAME_RATING_ITEM","CLASS_NAME_RATING_ITEM_ICON","CLASS_NAME_RATING_ITEM_CUSTOM_ICON","CLASS_NAME_RATING_ITEM_CUSTOM_ICON_ACTIVE","CLASS_NAME_RATING_ITEM_INPUT","CLASS_NAME_RATING_ITEM_LABEL","CLASS_NAME_READONLY","SELECTOR_DATA_TOGGLE","SELECTOR_RATING_ITEM_INPUT","SELECTOR_RATING_ITEM_LABEL","svgAllowList","DefaultAllowlist","svg","g","path","circle","rect","ellipse","line","polygon","polyline","text","tspan","defs","symbol","use","image","pattern","lineargradient","radialgradient","mask","clippath","marker","title","desc","Default","activeIcon","allowClear","allowList","disabled","highlightOnlySelected","icon","itemCount","name","precision","readOnly","sanitize","sanitizeFn","size","tooltips","value","DefaultType","Rating","BaseComponent","constructor","element","config","_config","_getConfig","_currentValue","_name","getUID","toString","_tooltip","_createRating","_addEventListeners","update","_element","innerHTML","reset","EventHandler","trigger","on","target","checked","_resetLabels","inputs","SelectorEngine","find","label","findOne","parentElement","classList","add","input","closest","labels","_createTooltip","_label","hide","checkedInput","selector","tooltipTitle","Array","isArray","Tooltip","_configAfterMerge","split","remove","setAttribute","from","length","_","index","_createRatingItem","ratingItemElement","document","createElement","numberOfRadios","_index","ratingItemId","isNotLastItem","Number","ratingItemLabelElement","style","zIndex","position","width","overflow","opacity","ratingItemIconElement","_sanitizeIcon","append","ratingItemIconActiveElement","ratingItemInputElement","id","type","wrapper","sanitizeHtml","dataAttributes","Manipulator","getDataAttributes","dataAttribute","Object","keys","has","_mergeConfigObj","_typeCheckConfig","ratingInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","undefined","startsWith","window","ratings","i","len","defineJQueryPlugin"],"mappings":"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"}