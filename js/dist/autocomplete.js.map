{"version":3,"file":"autocomplete.js","sources":["../src/autocomplete.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO autocomplete.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport Data from './dom/data.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { DefaultAllowlist, sanitizeHtml } from './util/sanitizer.js'\nimport {\n  defineJQueryPlugin,\n  getNextActiveElement,\n  getElement,\n  getUID,\n  isVisible,\n  isRTL\n} from './util/index.js'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'autocomplete'\nconst DATA_KEY = 'coreui.autocomplete'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst BACKSPACE_KEY = 'Backspace'\nconst DELETE_KEY = 'Delete'\nconst ENTER_KEY = 'Enter'\nconst ESCAPE_KEY = 'Escape'\nconst TAB_KEY = 'Tab'\nconst RIGHT_MOUSE_BUTTON = 2 // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_BLUR = `blur${EVENT_KEY}`\nconst EVENT_CHANGED = `changed${EVENT_KEY}`\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_INPUT = `input${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_AUTOCOMPLETE = 'autocomplete'\nconst CLASS_NAME_BUTTONS = 'autocomplete-buttons'\nconst CLASS_NAME_CLEANER = 'autocomplete-cleaner'\nconst CLASS_NAME_DISABLED = 'disabled'\nconst CLASS_NAME_DROPDOWN = 'autocomplete-dropdown'\nconst CLASS_NAME_INDICATOR = 'autocomplete-indicator'\nconst CLASS_NAME_INPUT = 'autocomplete-input'\nconst CLASS_NAME_INPUT_HINT = 'autocomplete-input-hint'\nconst CLASS_NAME_INPUT_GROUP = 'autocomplete-input-group'\nconst CLASS_NAME_LABEL = 'label'\nconst CLASS_NAME_OPTGROUP = 'autocomplete-optgroup'\nconst CLASS_NAME_OPTGROUP_LABEL = 'autocomplete-optgroup-label'\nconst CLASS_NAME_OPTION = 'autocomplete-option'\nconst CLASS_NAME_OPTIONS = 'autocomplete-options'\nconst CLASS_NAME_OPTIONS_EMPTY = 'autocomplete-options-empty'\nconst CLASS_NAME_SELECTED = 'selected'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"autocomplete\"]:not(.disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `.autocomplete:not(.disabled).${CLASS_NAME_SHOW}`\nconst SELECTOR_INDICATOR = '.autocomplete-indicator'\nconst SELECTOR_OPTGROUP = '.autocomplete-optgroup'\nconst SELECTOR_OPTION = '.autocomplete-option'\nconst SELECTOR_OPTIONS = '.autocomplete-options'\nconst SELECTOR_OPTIONS_EMPTY = '.autocomplete-options-empty'\nconst SELECTOR_VISIBLE_ITEMS = '.autocomplete-options .autocomplete-option:not(.disabled):not(:disabled)'\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  allowOnlyDefinedOptions: false,\n  ariaCleanerLabel: 'Clear selection',\n  ariaIndicatorLabel: 'Toggle visibility of options menu',\n  cleaner: false,\n  clearSearchOnSelect: true,\n  container: false,\n  disabled: false,\n  highlightOptionsOnSearch: false,\n  id: null,\n  indicator: false,\n  invalid: false,\n  name: null,\n  options: false,\n  optionsGroupsTemplate: null,\n  optionsMaxHeight: 'auto',\n  optionsTemplate: null,\n  placeholder: null,\n  required: false,\n  sanitize: true,\n  sanitizeFn: null,\n  search: null,\n  searchNoResultsLabel: false,\n  showHints: false,\n  valid: false,\n  value: null\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  allowOnlyDefinedOptions: 'boolean',\n  ariaCleanerLabel: 'string',\n  ariaIndicatorLabel: 'string',\n  cleaner: 'boolean',\n  clearSearchOnSelect: 'boolean',\n  container: '(string|element|boolean)',\n  disabled: 'boolean',\n  highlightOptionsOnSearch: 'boolean',\n  id: '(string|null)',\n  indicator: 'boolean',\n  invalid: 'boolean',\n  name: '(string|null)',\n  options: '(array|null)',\n  optionsGroupsTemplate: '(function|null)',\n  optionsMaxHeight: '(number|string)',\n  optionsTemplate: '(function|null)',\n  placeholder: '(string|null)',\n  required: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  search: '(array|string|null)',\n  searchNoResultsLabel: ('boolean|string'),\n  showHints: 'boolean',\n  valid: 'boolean',\n  value: '(number|string|null)'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Autocomplete extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._uniqueId = this._config.id ?? getUID(`${this.constructor.NAME}`)\n    this._indicatorElement = null\n    this._inputElement = null\n    this._inputHintElement = null\n    this._togglerElement = null\n    this._optionsElement = null\n\n    this._menu = null\n    this._selected = []\n    this._options = this._getOptionsFromConfig()\n    this._popper = null\n    this._search = ''\n\n    this._createAutocomplete()\n    this._addEventListeners()\n\n    Data.set(this._element, DATA_KEY, this)\n  }\n\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (this._config.disabled || this._isShown()) {\n      return\n    }\n\n    if (\n      !this._config.searchNoResultsLabel &&\n      this._flattenOptions().filter(option => option.label.toLowerCase().includes(this._search.toLowerCase())).length === 0) {\n      return\n    }\n\n    EventHandler.trigger(this._element, EVENT_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    this._inputElement.setAttribute('aria-expanded', 'true')\n\n    if (this._config.container) {\n      this._menu.style.minWidth = `${this._element.offsetWidth}px`\n      this._menu.classList.add(CLASS_NAME_SHOW)\n    }\n\n    EventHandler.trigger(this._element, EVENT_SHOWN)\n\n    this._createPopper()\n  }\n\n  hide() {\n    EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._inputElement.setAttribute('aria-expanded', 'false')\n\n    if (this._config.container) {\n      this._menu.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    if (this._inputHintElement) {\n      this._inputHintElement.value = ''\n    }\n\n    EventHandler.trigger(this._element, EVENT_HIDDEN)\n  }\n\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    super.dispose()\n  }\n\n  clear() {\n    this.deselectAll()\n    this.search('')\n    this._filterOptionsList()\n    this._inputElement.value = ''\n\n    EventHandler.trigger(this._element, EVENT_CHANGED, {\n      value: this._selected\n    })\n  }\n\n  search(label) {\n    this._search = label.length > 0 ? label.toLowerCase() : ''\n    if (!this._isExternalSearch()) {\n      this._filterOptionsList()\n    }\n\n    EventHandler.trigger(this._element, EVENT_INPUT, {\n      value: label\n    })\n  }\n\n  update(config) {\n    if (config.value) {\n      this.deselectAll()\n    }\n\n    this._config = { ...this._config, ...this._configAfterMerge(config) }\n    this._options = this._getOptionsFromConfig()\n    this._optionsElement.innerHTML = ''\n    this._createOptions(this._optionsElement, this._options)\n  }\n\n  deselectAll(options = this._selected) {\n    if (this._selected.length === 0) {\n      return\n    }\n\n    for (const option of options) {\n      if (option.disabled) {\n        continue\n      }\n\n      if (Array.isArray(option.options)) {\n        this.deselectAll(option.options)\n        continue\n      }\n\n      this._deselectOption(option.value)\n      this._updateCleaner()\n    }\n  }\n\n  // Helpers\n\n  _flattenOptions(options = this._options, flat = []) {\n    for (const opt of options) {\n      if (opt && Array.isArray(opt.options)) {\n        this._flattenOptions(opt.options, flat)\n        continue\n      }\n\n      flat.push(opt)\n    }\n\n    return flat\n  }\n\n  _getClassNames() {\n    return this._element.classList.value.split(' ')\n  }\n\n  _highlightOption(label) {\n    const regex = new RegExp(this._search, 'gi')\n    return label.replace(regex, string => `<strong>${string}</strong>`)\n  }\n\n  _isExternalSearch() {\n    return Array.isArray(this._config.search) && this._config.search.includes('external')\n  }\n\n  _isGlobalSearch() {\n    return Array.isArray(this._config.search) && this._config.search.includes('global')\n  }\n\n  _isVisible(element) {\n    const style = window.getComputedStyle(element)\n    return (style.display !== 'none')\n  }\n\n  _isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  // Private\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_CLICK, event => {\n      if (!this._config.disabled && !event.target.closest(SELECTOR_INDICATOR)) {\n        this.show()\n      }\n    })\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => {\n      if (event.key === ESCAPE_KEY) {\n        this.hide()\n        if (this._config.allowOnlyDefinedOptions && this._selected.length === 0) {\n          this.search('')\n          this._inputElement.value = ''\n        }\n\n        return\n      }\n\n      if (this._isGlobalSearch() && (event.key.length === 1 || event.key === BACKSPACE_KEY || event.key === DELETE_KEY)) {\n        this._inputElement.focus()\n      }\n    })\n\n    EventHandler.on(this._menu, EVENT_KEYDOWN, event => {\n      if (this._isGlobalSearch() && (event.key.length === 1 || event.key === BACKSPACE_KEY || event.key === DELETE_KEY)) {\n        this._inputElement.focus()\n      }\n    })\n\n    EventHandler.on(this._togglerElement, EVENT_KEYDOWN, event => {\n      if (!this._isShown() && (event.key === ENTER_KEY || event.key === ARROW_DOWN_KEY)) {\n        event.preventDefault()\n        this.show()\n        return\n      }\n\n      if (this._isShown() && event.key === ARROW_DOWN_KEY) {\n        event.preventDefault()\n        this._selectMenuItem(event)\n      }\n    })\n\n    EventHandler.on(this._indicatorElement, EVENT_CLICK, event => {\n      event.preventDefault()\n      this.toggle()\n    })\n\n    EventHandler.on(this._inputElement, EVENT_BLUR, () => {\n      const options = this._flattenOptions().filter(option => option.label.toLowerCase().startsWith(this._inputElement.value.toLowerCase()))\n      if (this._config.allowOnlyDefinedOptions && this._selected.length === 0 && options.length === 0) {\n        this.clear()\n      }\n    })\n\n    EventHandler.on(this._inputElement, EVENT_KEYDOWN, event => {\n      if (!this._isShown() && event.key !== TAB_KEY) {\n        this.show()\n      }\n\n      if (event.key === ARROW_DOWN_KEY && this._inputElement.value.length === this._inputElement.selectionStart) {\n        this._selectMenuItem(event)\n        return\n      }\n\n      if (event.key === TAB_KEY && this._config.showHints && this._inputElement.value.length > 0) {\n        if (this._inputHintElement.value) {\n          event.preventDefault()\n          event.stopPropagation()\n        }\n\n        const options = this._flattenOptions().filter(option => option.label.toLowerCase().startsWith(this._inputElement.value.toLowerCase()))\n\n        if (options.length > 0) {\n          this._selectOption(options[0])\n        }\n      }\n\n      if (event.key === ENTER_KEY) {\n        event.preventDefault()\n        event.stopPropagation()\n\n        if (this._inputElement.value.length === 0) {\n          return\n        }\n\n        const options = this._flattenOptions().filter(option => option.label.toLowerCase() === this._inputElement.value.toLowerCase())\n\n        if (options.length > 0) {\n          this._selectOption(options[0])\n        }\n\n        if (options.length === 0 && !this._config.allowOnlyDefinedOptions) {\n          EventHandler.trigger(this._element, EVENT_CHANGED, {\n            value: this._inputElement.value\n          })\n\n          this.hide()\n\n          if (this._config.clearSearchOnSelect) {\n            this.search('')\n          }\n        }\n      }\n    })\n\n    EventHandler.on(this._inputElement, EVENT_KEYUP, event => {\n      if (event.key.length === 1 || event.key === BACKSPACE_KEY || event.key === DELETE_KEY) {\n        const { value } = event.target\n        this.search(value)\n        if (this._config.showHints) {\n          const options = value ?\n            this._flattenOptions().filter(option => option.label.toLowerCase().startsWith(value.toLowerCase())) :\n            []\n          this._inputHintElement.value = options.length > 0 ? `${value}${options[0].label.slice(value.length)}` : ''\n        }\n\n        if (this._selected.length > 0) {\n          this.deselectAll()\n          EventHandler.trigger(this._element, EVENT_CHANGED, {\n            value: this._selected\n          })\n        }\n      }\n    })\n\n    EventHandler.on(this._optionsElement, EVENT_CLICK, event => {\n      event.preventDefault()\n      event.stopPropagation()\n      this._onOptionsClick(event.target)\n    })\n\n    EventHandler.on(this._cleanerElement, EVENT_CLICK, event => {\n      if (!this._config.disabled) {\n        event.preventDefault()\n        event.stopPropagation()\n        this.clear()\n      }\n    })\n\n    EventHandler.on(this._optionsElement, EVENT_KEYDOWN, event => {\n      if (event.key === ENTER_KEY) {\n        this._onOptionsClick(event.target)\n      }\n\n      if ([ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)) {\n        event.preventDefault()\n        this._selectMenuItem(event)\n      }\n    })\n  }\n\n  _getOptionsFromConfig(options = this._config.options) {\n    if (!options || !Array.isArray(options)) {\n      return []\n    }\n\n    const _options = []\n    for (const option of options) {\n      if (option.options && Array.isArray(option.options)) {\n        const customGroupProperties = { ...option }\n\n        delete customGroupProperties.label\n        delete customGroupProperties.options\n\n        _options.push({\n          ...customGroupProperties,\n          label: option.label,\n          options: this._getOptionsFromConfig(option.options)\n        })\n\n        continue\n      }\n\n      const label = typeof option === 'string' ? option : option.label\n      const value = option.value ?? (typeof option === 'string' ? option : option.label)\n      const isSelected = option.selected || (this._config.value && this._config.value === value)\n\n      const customProperties = typeof option === 'object' ? { ...option } : {}\n\n      delete customProperties.label\n      delete customProperties.value\n      delete customProperties.selected\n      delete customProperties.disabled\n\n      _options.push({\n        ...customProperties,\n        label,\n        value: String(value),\n        ...isSelected && { selected: true },\n        ...option.disabled && { disabled: true }\n      })\n\n      if (isSelected) {\n        this._selected.push({\n          label: option.label,\n          value: String(value)\n        })\n      }\n    }\n\n    return _options\n  }\n\n  _createAutocomplete() {\n    this._element.classList.add(CLASS_NAME_AUTOCOMPLETE)\n    this._element.classList.toggle('is-invalid', this._config.invalid)\n    this._element.classList.toggle('is-valid', this._config.valid)\n\n    if (this._config.disabled) {\n      this._element.classList.add(CLASS_NAME_DISABLED)\n    }\n\n    for (const className of this._getClassNames()) {\n      this._element.classList.add(className)\n    }\n\n    this._createInputGroup()\n    this._createButtons()\n    this._createOptionsContainer()\n    this._updateOptionsList()\n  }\n\n  _createInputGroup() {\n    const togglerEl = document.createElement('div')\n    togglerEl.classList.add(CLASS_NAME_INPUT_GROUP)\n    this._togglerElement = togglerEl\n\n    if (!this._config.search && !this._config.disabled) {\n      togglerEl.tabIndex = -1\n    }\n\n    if (!this._config.disabled && this._config.showHints) {\n      const inputHintEl = document.createElement('input')\n      inputHintEl.classList.add(CLASS_NAME_INPUT, CLASS_NAME_INPUT_HINT)\n      inputHintEl.setAttribute('name', (this._config.name || `${this._uniqueId}-hint`).toString())\n      inputHintEl.autocomplete = 'off'\n      inputHintEl.readOnly = true\n      inputHintEl.tabIndex = -1\n      inputHintEl.setAttribute('aria-hidden', true)\n\n      togglerEl.append(inputHintEl)\n      this._inputHintElement = inputHintEl\n    }\n\n    const inputEl = document.createElement('input')\n    inputEl.classList.add(CLASS_NAME_INPUT)\n    inputEl.id = this._uniqueId\n    inputEl.setAttribute('name', (this._config.name || this._uniqueId).toString())\n    inputEl.autocomplete = 'off'\n    inputEl.placeholder = this._config.placeholder ?? ''\n    inputEl.role = 'combobox'\n    inputEl.setAttribute('aria-autocomplete', 'list')\n    inputEl.setAttribute('aria-expanded', 'false')\n    inputEl.setAttribute('aria-haspopup', 'listbox')\n\n    if (this._config.disabled) {\n      inputEl.setAttribute('disabled', true)\n      inputEl.tabIndex = -1\n    }\n\n    if (this._config.required) {\n      inputEl.setAttribute('required', true)\n    }\n\n    togglerEl.append(inputEl)\n    this._inputElement = inputEl\n\n    this._element.append(togglerEl)\n  }\n\n  _createButtons() {\n    if (!this._config.cleaner && !this._config.indicator) {\n      return\n    }\n\n    const buttons = document.createElement('div')\n    buttons.classList.add(CLASS_NAME_BUTTONS)\n\n    if (!this._config.disabled && this._config.cleaner) {\n      const cleaner = document.createElement('button')\n      cleaner.type = 'button'\n      cleaner.classList.add(CLASS_NAME_CLEANER)\n      cleaner.style.display = 'none'\n      cleaner.setAttribute('aria-label', this._config.ariaCleanerLabel)\n\n      buttons.append(cleaner)\n      this._cleanerElement = cleaner\n    }\n\n    if (this._config.indicator) {\n      const indicator = document.createElement('button')\n      indicator.type = 'button'\n      indicator.classList.add(CLASS_NAME_INDICATOR)\n      indicator.setAttribute('aria-label', this._config.ariaIndicatorLabel)\n\n      if (this._config.disabled) {\n        indicator.tabIndex = -1\n      }\n\n      buttons.append(indicator)\n      this._indicatorElement = indicator\n      this._indicatorElement = indicator\n    }\n\n    this._togglerElement.append(buttons)\n    this._updateCleaner()\n  }\n\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('CoreUI\\'s Auto Complete component require Popper (https://popper.js.org)')\n    }\n\n    const popperConfig = {\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: 'clippingParents'\n        }\n      },\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 2]\n        }\n      }],\n      placement: isRTL() ? 'bottom-end' : 'bottom-start'\n    }\n\n    this._popper = Popper.createPopper(this._togglerElement, this._menu, popperConfig)\n  }\n\n  _createOptionsContainer() {\n    const dropdownDiv = document.createElement('div')\n    dropdownDiv.classList.add(CLASS_NAME_DROPDOWN)\n    dropdownDiv.role = 'listbox'\n    dropdownDiv.setAttribute('aria-labelledby', this._uniqueId)\n    dropdownDiv.setAttribute('id', `${this._uniqueId}-listbox`)\n\n    const optionsDiv = document.createElement('div')\n    optionsDiv.classList.add(CLASS_NAME_OPTIONS)\n\n    if (this._config.optionsMaxHeight !== 'auto') {\n      optionsDiv.style.maxHeight = `${this._config.optionsMaxHeight}px`\n      optionsDiv.style.overflow = 'auto'\n    }\n\n    dropdownDiv.append(optionsDiv)\n\n    const { container } = this._config\n    if (container) {\n      this._inputElement.setAttribute('aria-owns', `${this._uniqueId}-listbox`)\n      dropdownDiv.id = `${this._uniqueId}-listbox`\n      container.append(dropdownDiv)\n    } else {\n      this._element.append(dropdownDiv)\n    }\n\n    this._createOptions(optionsDiv, this._options)\n    this._optionsElement = optionsDiv\n    this._menu = dropdownDiv\n  }\n\n  _createOptions(parentElement, options) {\n    for (const option of options) {\n      if (Array.isArray(option.options)) {\n        const optgroup = document.createElement('div')\n        optgroup.classList.add(CLASS_NAME_OPTGROUP)\n        optgroup.setAttribute('role', 'group')\n\n        const optgrouplabel = document.createElement('div')\n        if (this._config.optionsGroupsTemplate && typeof this._config.optionsGroupsTemplate === 'function') {\n          optgrouplabel.innerHTML = this._config.sanitize ?\n            sanitizeHtml(this._config.optionsGroupsTemplate(option), this._config.allowList, this._config.sanitizeFn) :\n            this._config.optionsGroupsTemplate(option)\n        } else {\n          optgrouplabel.textContent = option.label\n        }\n\n        optgrouplabel.classList.add(CLASS_NAME_OPTGROUP_LABEL)\n        optgroup.append(optgrouplabel)\n\n        this._createOptions(optgroup, option.options)\n        parentElement.append(optgroup)\n\n        continue\n      }\n\n      const optionDiv = document.createElement('div')\n      optionDiv.classList.add(CLASS_NAME_OPTION)\n\n      if (option.disabled) {\n        optionDiv.classList.add(CLASS_NAME_DISABLED)\n        optionDiv.setAttribute('aria-disabled', 'true')\n      }\n\n      optionDiv.dataset.value = option.value\n      optionDiv.tabIndex = 0\n      if (this._isExternalSearch() && this._config.highlightOptionsOnSearch && this._search) {\n        optionDiv.innerHTML = this._highlightOption(option.label)\n      } else if (this._config.optionsTemplate && typeof this._config.optionsTemplate === 'function') {\n        optionDiv.innerHTML = this._config.sanitize ?\n          sanitizeHtml(this._config.optionsTemplate(option), this._config.allowList, this._config.sanitizeFn) :\n          this._config.optionsTemplate(option)\n      } else {\n        optionDiv.textContent = option.label\n      }\n\n      parentElement.append(optionDiv)\n    }\n  }\n\n  _onOptionsClick(element) {\n    if (element.classList.contains(CLASS_NAME_LABEL)) {\n      return\n    }\n\n    if (!element.classList.contains(CLASS_NAME_OPTION)) {\n      element = element.closest(SELECTOR_OPTION)\n\n      if (!element) {\n        return\n      }\n    }\n\n    const { value } = element.dataset\n    const foundOption = this._findOptionByValue(value)\n\n    if (foundOption) {\n      this._selectOption(foundOption)\n      this._inputElement.focus()\n    }\n  }\n\n  _findOptionByValue(value, options = this._options) {\n    for (const option of options) {\n      if (option.value === value) {\n        return option\n      }\n\n      if (option.options && Array.isArray(option.options)) {\n        const found = this._findOptionByValue(value, option.options)\n        if (found) {\n          return found\n        }\n      }\n    }\n\n    return null\n  }\n\n  _selectOption(option) {\n    this.deselectAll()\n\n    if (this._selected.filter(selectedOption => selectedOption.value === option.value).length === 0) {\n      this._selected.push(option)\n    }\n\n    const foundOption = SelectorEngine.findOne(`[data-value=\"${option.value}\"]`, this._optionsElement)\n    if (foundOption) {\n      foundOption.classList.add(CLASS_NAME_SELECTED)\n      foundOption.setAttribute('aria-selected', true)\n    }\n\n    EventHandler.trigger(this._element, EVENT_CHANGED, {\n      value: option\n    })\n\n    this._inputElement.value = option.label\n\n    if (this._config.showHints) {\n      this._inputHintElement.value = ''\n    }\n\n    this.hide()\n\n    if (this._config.clearSearchOnSelect) {\n      this.search('')\n    }\n\n    this._updateCleaner()\n  }\n\n  _deselectOption(value) {\n    this._selected = this._selected.filter(option => option.value !== value)\n\n    const option = SelectorEngine.findOne(`[data-value=\"${value}\"]`, this._optionsElement)\n    if (option) {\n      option.classList.remove(CLASS_NAME_SELECTED)\n      option.setAttribute('aria-selected', false)\n    }\n\n    // EventHandler.trigger(this._element, EVENT_CHANGED, {\n    //   value: this._selected\n    // })\n  }\n\n  _updateCleaner() {\n    if (!this._config.cleaner || this._cleanerElement === null) {\n      return\n    }\n\n    if (this._selected.length > 0) {\n      this._cleanerElement.style.removeProperty('display')\n      return\n    }\n\n    this._cleanerElement.style.display = 'none'\n  }\n\n  _updateOptionsList(options = this._options) {\n    for (const option of options) {\n      if (Array.isArray(option.options)) {\n        this._updateOptionsList(option.options)\n        continue\n      }\n\n      if (option.selected) {\n        this._selectOption(option)\n      }\n    }\n  }\n\n  _filterOptionsList() {\n    const options = SelectorEngine.find(SELECTOR_OPTION, this._menu)\n    let visibleOptions = 0\n\n    for (const option of options) {\n      // eslint-disable-next-line unicorn/prefer-includes\n      if (option.textContent.toLowerCase().indexOf(this._search) === -1) {\n        option.style.display = 'none'\n      } else {\n        if (this._config.highlightOptionsOnSearch && !this._config.optionsTemplate) {\n          option.innerHTML = this._highlightOption(option.textContent)\n        }\n\n        option.style.removeProperty('display')\n        visibleOptions++\n      }\n\n      const optgroup = option.closest(SELECTOR_OPTGROUP)\n      if (optgroup) {\n        // eslint-disable-next-line  unicorn/prefer-array-some\n        if (SelectorEngine.children(optgroup, SELECTOR_OPTION).filter(element => this._isVisible(element)).length > 0) {\n          optgroup.style.removeProperty('display')\n        } else {\n          optgroup.style.display = 'none'\n        }\n      }\n    }\n\n    if (visibleOptions > 0) {\n      if (SelectorEngine.findOne(SELECTOR_OPTIONS_EMPTY, this._menu)) {\n        SelectorEngine.findOne(SELECTOR_OPTIONS_EMPTY, this._menu).remove()\n      }\n\n      return\n    }\n\n    if (visibleOptions === 0) {\n      if (this._config.searchNoResultsLabel) {\n        const placeholder = document.createElement('div')\n        placeholder.classList.add(CLASS_NAME_OPTIONS_EMPTY)\n        placeholder.innerHTML = this._config.searchNoResultsLabel\n\n        if (!SelectorEngine.findOne(SELECTOR_OPTIONS_EMPTY, this._menu)) {\n          SelectorEngine.findOne(SELECTOR_OPTIONS, this._menu).append(placeholder)\n        }\n\n        return\n      }\n\n      this.hide()\n    }\n  }\n\n  _selectMenuItem({ key, target }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element))\n\n    if (!items.length) {\n      return\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target)).focus()\n  }\n\n  _configAfterMerge(config) {\n    if (config.container === true) {\n      config.container = document.body\n    }\n\n    if (typeof config.container === 'object' || typeof config.container === 'string') {\n      config.container = getElement(config.container)\n    }\n\n    if (typeof config.options === 'string') {\n      config.options = config.options.split(/,\\s*/).map(String)\n    }\n\n    if (typeof config.search === 'string') {\n      config.search = config.search.split(/,\\s*/).map(String)\n    }\n\n    return config\n  }\n\n  // Static\n\n  static autocompleteInterface(element, config) {\n    const data = Autocomplete.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      Autocomplete.autocompleteInterface(this, config)\n    })\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || (event.type === 'keyup' && event.key !== TAB_KEY)) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = Autocomplete.getInstance(toggle)\n\n      if (!context) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n\n      if (\n        composedPath.includes(context._element)\n      ) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context.hide()\n      context.search('')\n      if (context._config.allowOnlyDefinedOptions && context._selected.length === 0) {\n        context._inputElement.value = ''\n      }\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const autocomplete of SelectorEngine.find(SELECTOR_DATA_TOGGLE)) {\n    Autocomplete.autocompleteInterface(autocomplete)\n  }\n})\nEventHandler.on(document, EVENT_CLICK_DATA_API, Autocomplete.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Autocomplete.clearMenus)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Autocomplete)\n\nexport default Autocomplete\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","BACKSPACE_KEY","DELETE_KEY","ENTER_KEY","ESCAPE_KEY","TAB_KEY","RIGHT_MOUSE_BUTTON","EVENT_BLUR","EVENT_CHANGED","EVENT_CLICK","EVENT_HIDE","EVENT_HIDDEN","EVENT_INPUT","EVENT_KEYDOWN","EVENT_KEYUP","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","EVENT_KEYUP_DATA_API","EVENT_LOAD_DATA_API","CLASS_NAME_AUTOCOMPLETE","CLASS_NAME_BUTTONS","CLASS_NAME_CLEANER","CLASS_NAME_DISABLED","CLASS_NAME_DROPDOWN","CLASS_NAME_INDICATOR","CLASS_NAME_INPUT","CLASS_NAME_INPUT_HINT","CLASS_NAME_INPUT_GROUP","CLASS_NAME_LABEL","CLASS_NAME_OPTGROUP","CLASS_NAME_OPTGROUP_LABEL","CLASS_NAME_OPTION","CLASS_NAME_OPTIONS","CLASS_NAME_OPTIONS_EMPTY","CLASS_NAME_SELECTED","CLASS_NAME_SHOW","SELECTOR_DATA_TOGGLE","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_INDICATOR","SELECTOR_OPTGROUP","SELECTOR_OPTION","SELECTOR_OPTIONS","SELECTOR_OPTIONS_EMPTY","SELECTOR_VISIBLE_ITEMS","Default","allowList","DefaultAllowlist","allowOnlyDefinedOptions","ariaCleanerLabel","ariaIndicatorLabel","cleaner","clearSearchOnSelect","container","disabled","highlightOptionsOnSearch","id","indicator","invalid","name","options","optionsGroupsTemplate","optionsMaxHeight","optionsTemplate","placeholder","required","sanitize","sanitizeFn","search","searchNoResultsLabel","showHints","valid","value","DefaultType","Autocomplete","BaseComponent","constructor","element","config","_this$_config$id","_uniqueId","_config","getUID","_indicatorElement","_inputElement","_inputHintElement","_togglerElement","_optionsElement","_menu","_selected","_options","_getOptionsFromConfig","_popper","_search","_createAutocomplete","_addEventListeners","Data","set","_element","toggle","_isShown","hide","show","_flattenOptions","filter","option","label","toLowerCase","includes","length","EventHandler","trigger","classList","add","setAttribute","style","minWidth","offsetWidth","_createPopper","destroy","remove","dispose","clear","deselectAll","_filterOptionsList","_isExternalSearch","update","_configAfterMerge","innerHTML","_createOptions","Array","isArray","_deselectOption","_updateCleaner","flat","opt","push","_getClassNames","split","_highlightOption","regex","RegExp","replace","string","_isGlobalSearch","_isVisible","window","getComputedStyle","display","contains","on","event","target","closest","key","focus","preventDefault","_selectMenuItem","startsWith","selectionStart","stopPropagation","_selectOption","slice","_onOptionsClick","_cleanerElement","_option$value","customGroupProperties","isSelected","selected","customProperties","String","className","_createInputGroup","_createButtons","_createOptionsContainer","_updateOptionsList","_this$_config$placeho","togglerEl","document","createElement","tabIndex","inputHintEl","toString","autocomplete","readOnly","append","inputEl","role","buttons","type","Popper","TypeError","popperConfig","modifiers","boundary","offset","placement","isRTL","createPopper","dropdownDiv","optionsDiv","maxHeight","overflow","parentElement","optgroup","optgrouplabel","sanitizeHtml","textContent","optionDiv","dataset","foundOption","_findOptionByValue","found","selectedOption","SelectorEngine","findOne","removeProperty","find","visibleOptions","indexOf","children","items","isVisible","getNextActiveElement","body","getElement","map","autocompleteInterface","data","getOrCreateInstance","jQueryInterface","each","clearMenus","button","openToggles","context","getInstance","composedPath","relatedTarget","defineJQueryPlugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;;;EAiBA;EACA;EACA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,cAAc;EAC3B,MAAMC,QAAQ,GAAG,qBAAqB;EACtC,MAAMC,SAAS,GAAG,CAAA,CAAA,EAAID,QAAQ,CAAA,CAAE;EAChC,MAAME,YAAY,GAAG,WAAW;EAEhC,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,cAAc,GAAG,WAAW;EAClC,MAAMC,aAAa,GAAG,WAAW;EACjC,MAAMC,UAAU,GAAG,QAAQ;EAC3B,MAAMC,SAAS,GAAG,OAAO;EACzB,MAAMC,UAAU,GAAG,QAAQ;EAC3B,MAAMC,OAAO,GAAG,KAAK;EACrB,MAAMC,kBAAkB,GAAG,CAAC,CAAA;;EAE5B,MAAMC,UAAU,GAAG,CAAA,IAAA,EAAOV,SAAS,CAAA,CAAE;EACrC,MAAMW,aAAa,GAAG,CAAA,OAAA,EAAUX,SAAS,CAAA,CAAE;EAC3C,MAAMY,WAAW,GAAG,CAAA,KAAA,EAAQZ,SAAS,CAAA,CAAE;EACvC,MAAMa,UAAU,GAAG,CAAA,IAAA,EAAOb,SAAS,CAAA,CAAE;EACrC,MAAMc,YAAY,GAAG,CAAA,MAAA,EAASd,SAAS,CAAA,CAAE;EACzC,MAAMe,WAAW,GAAG,CAAA,KAAA,EAAQf,SAAS,CAAA,CAAE;EACvC,MAAMgB,aAAa,GAAG,CAAA,OAAA,EAAUhB,SAAS,CAAA,CAAE;EAC3C,MAAMiB,WAAW,GAAG,CAAA,KAAA,EAAQjB,SAAS,CAAA,CAAE;EACvC,MAAMkB,UAAU,GAAG,CAAA,IAAA,EAAOlB,SAAS,CAAA,CAAE;EACrC,MAAMmB,WAAW,GAAG,CAAA,KAAA,EAAQnB,SAAS,CAAA,CAAE;EACvC,MAAMoB,oBAAoB,GAAG,CAAA,KAAA,EAAQpB,SAAS,CAAA,EAAGC,YAAY,CAAA,CAAE;EAC/D,MAAMoB,oBAAoB,GAAG,CAAA,KAAA,EAAQrB,SAAS,CAAA,EAAGC,YAAY,CAAA,CAAE;EAC/D,MAAMqB,mBAAmB,GAAG,CAAA,IAAA,EAAOtB,SAAS,CAAA,EAAGC,YAAY,CAAA,CAAE;EAE7D,MAAMsB,uBAAuB,GAAG,cAAc;EAC9C,MAAMC,kBAAkB,GAAG,sBAAsB;EACjD,MAAMC,kBAAkB,GAAG,sBAAsB;EACjD,MAAMC,mBAAmB,GAAG,UAAU;EACtC,MAAMC,mBAAmB,GAAG,uBAAuB;EACnD,MAAMC,oBAAoB,GAAG,wBAAwB;EACrD,MAAMC,gBAAgB,GAAG,oBAAoB;EAC7C,MAAMC,qBAAqB,GAAG,yBAAyB;EACvD,MAAMC,sBAAsB,GAAG,0BAA0B;EACzD,MAAMC,gBAAgB,GAAG,OAAO;EAChC,MAAMC,mBAAmB,GAAG,uBAAuB;EACnD,MAAMC,yBAAyB,GAAG,6BAA6B;EAC/D,MAAMC,iBAAiB,GAAG,qBAAqB;EAC/C,MAAMC,kBAAkB,GAAG,sBAAsB;EACjD,MAAMC,wBAAwB,GAAG,4BAA4B;EAC7D,MAAMC,mBAAmB,GAAG,UAAU;EACtC,MAAMC,eAAe,GAAG,MAAM;EAE9B,MAAMC,oBAAoB,GAAG,oDAAoD;EACjF,MAAMC,0BAA0B,GAAG,CAAA,6BAAA,EAAgCF,eAAe,CAAA,CAAE;EACpF,MAAMG,kBAAkB,GAAG,yBAAyB;EACpD,MAAMC,iBAAiB,GAAG,wBAAwB;EAClD,MAAMC,eAAe,GAAG,sBAAsB;EAC9C,MAAMC,gBAAgB,GAAG,uBAAuB;EAChD,MAAMC,sBAAsB,GAAG,6BAA6B;EAC5D,MAAMC,sBAAsB,GAAG,0EAA0E;EAEzG,MAAMC,OAAO,GAAG;EACdC,EAAAA,SAAS,EAAEC,6BAAgB;EAC3BC,EAAAA,uBAAuB,EAAE,KAAK;EAC9BC,EAAAA,gBAAgB,EAAE,iBAAiB;EACnCC,EAAAA,kBAAkB,EAAE,mCAAmC;EACvDC,EAAAA,OAAO,EAAE,KAAK;EACdC,EAAAA,mBAAmB,EAAE,IAAI;EACzBC,EAAAA,SAAS,EAAE,KAAK;EAChBC,EAAAA,QAAQ,EAAE,KAAK;EACfC,EAAAA,wBAAwB,EAAE,KAAK;EAC/BC,EAAAA,EAAE,EAAE,IAAI;EACRC,EAAAA,SAAS,EAAE,KAAK;EAChBC,EAAAA,OAAO,EAAE,KAAK;EACdC,EAAAA,IAAI,EAAE,IAAI;EACVC,EAAAA,OAAO,EAAE,KAAK;EACdC,EAAAA,qBAAqB,EAAE,IAAI;EAC3BC,EAAAA,gBAAgB,EAAE,MAAM;EACxBC,EAAAA,eAAe,EAAE,IAAI;EACrBC,EAAAA,WAAW,EAAE,IAAI;EACjBC,EAAAA,QAAQ,EAAE,KAAK;EACfC,EAAAA,QAAQ,EAAE,IAAI;EACdC,EAAAA,UAAU,EAAE,IAAI;EAChBC,EAAAA,MAAM,EAAE,IAAI;EACZC,EAAAA,oBAAoB,EAAE,KAAK;EAC3BC,EAAAA,SAAS,EAAE,KAAK;EAChBC,EAAAA,KAAK,EAAE,KAAK;EACZC,EAAAA,KAAK,EAAE;EACT,CAAC;EAED,MAAMC,WAAW,GAAG;EAClB3B,EAAAA,SAAS,EAAE,QAAQ;EACnBE,EAAAA,uBAAuB,EAAE,SAAS;EAClCC,EAAAA,gBAAgB,EAAE,QAAQ;EAC1BC,EAAAA,kBAAkB,EAAE,QAAQ;EAC5BC,EAAAA,OAAO,EAAE,SAAS;EAClBC,EAAAA,mBAAmB,EAAE,SAAS;EAC9BC,EAAAA,SAAS,EAAE,0BAA0B;EACrCC,EAAAA,QAAQ,EAAE,SAAS;EACnBC,EAAAA,wBAAwB,EAAE,SAAS;EACnCC,EAAAA,EAAE,EAAE,eAAe;EACnBC,EAAAA,SAAS,EAAE,SAAS;EACpBC,EAAAA,OAAO,EAAE,SAAS;EAClBC,EAAAA,IAAI,EAAE,eAAe;EACrBC,EAAAA,OAAO,EAAE,cAAc;EACvBC,EAAAA,qBAAqB,EAAE,iBAAiB;EACxCC,EAAAA,gBAAgB,EAAE,iBAAiB;EACnCC,EAAAA,eAAe,EAAE,iBAAiB;EAClCC,EAAAA,WAAW,EAAE,eAAe;EAC5BC,EAAAA,QAAQ,EAAE,SAAS;EACnBC,EAAAA,QAAQ,EAAE,SAAS;EACnBC,EAAAA,UAAU,EAAE,iBAAiB;EAC7BC,EAAAA,MAAM,EAAE,qBAAqB;EAC7BC,EAAAA,oBAAoB,EAAG,gBAAiB;EACxCC,EAAAA,SAAS,EAAE,SAAS;EACpBC,EAAAA,KAAK,EAAE,SAAS;EAChBC,EAAAA,KAAK,EAAE;EACT,CAAC;;EAED;EACA;EACA;EACA;EACA;;EAEA,MAAME,YAAY,SAASC,aAAa,CAAC;EACvCC,EAAAA,WAAWA,CAACC,OAAO,EAAEC,MAAM,EAAE;EAAA,IAAA,IAAAC,gBAAA;EAC3B,IAAA,KAAK,CAACF,OAAO,EAAEC,MAAM,CAAC;MAEtB,IAAI,CAACE,SAAS,GAAA,CAAAD,gBAAA,GAAG,IAAI,CAACE,OAAO,CAACzB,EAAE,KAAA,IAAA,GAAAuB,gBAAA,GAAIG,eAAM,CAAC,CAAA,EAAG,IAAI,CAACN,WAAW,CAACjF,IAAI,CAAA,CAAE,CAAC;MACtE,IAAI,CAACwF,iBAAiB,GAAG,IAAI;MAC7B,IAAI,CAACC,aAAa,GAAG,IAAI;MACzB,IAAI,CAACC,iBAAiB,GAAG,IAAI;MAC7B,IAAI,CAACC,eAAe,GAAG,IAAI;MAC3B,IAAI,CAACC,eAAe,GAAG,IAAI;MAE3B,IAAI,CAACC,KAAK,GAAG,IAAI;MACjB,IAAI,CAACC,SAAS,GAAG,EAAE;EACnB,IAAA,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACC,qBAAqB,EAAE;MAC5C,IAAI,CAACC,OAAO,GAAG,IAAI;MACnB,IAAI,CAACC,OAAO,GAAG,EAAE;MAEjB,IAAI,CAACC,mBAAmB,EAAE;MAC1B,IAAI,CAACC,kBAAkB,EAAE;MAEzBC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACC,QAAQ,EAAEtG,QAAQ,EAAE,IAAI,CAAC;EACzC,EAAA;;EAEA;;IAEA,WAAWiD,OAAOA,GAAG;EACnB,IAAA,OAAOA,OAAO;EAChB,EAAA;IAEA,WAAW4B,WAAWA,GAAG;EACvB,IAAA,OAAOA,WAAW;EACpB,EAAA;IAEA,WAAW9E,IAAIA,GAAG;EAChB,IAAA,OAAOA,IAAI;EACb,EAAA;;EAEA;;EAEAwG,EAAAA,MAAMA,GAAG;EACP,IAAA,OAAO,IAAI,CAACC,QAAQ,EAAE,GAAG,IAAI,CAACC,IAAI,EAAE,GAAG,IAAI,CAACC,IAAI,EAAE;EACpD,EAAA;EAEAA,EAAAA,IAAIA,GAAG;MACL,IAAI,IAAI,CAACrB,OAAO,CAAC3B,QAAQ,IAAI,IAAI,CAAC8C,QAAQ,EAAE,EAAE;EAC5C,MAAA;EACF,IAAA;EAEA,IAAA,IACE,CAAC,IAAI,CAACnB,OAAO,CAACZ,oBAAoB,IAClC,IAAI,CAACkC,eAAe,EAAE,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACf,OAAO,CAACc,WAAW,EAAE,CAAC,CAAC,CAACE,MAAM,KAAK,CAAC,EAAE;EACvH,MAAA;EACF,IAAA;MAEAC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAEnF,UAAU,CAAC;MAC/C,IAAI,CAACmF,QAAQ,CAACc,SAAS,CAACC,GAAG,CAAC7E,eAAe,CAAC;MAC5C,IAAI,CAACgD,aAAa,CAAC8B,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;EAExD,IAAA,IAAI,IAAI,CAACjC,OAAO,CAAC5B,SAAS,EAAE;EAC1B,MAAA,IAAI,CAACmC,KAAK,CAAC2B,KAAK,CAACC,QAAQ,GAAG,CAAA,EAAG,IAAI,CAAClB,QAAQ,CAACmB,WAAW,CAAA,EAAA,CAAI;QAC5D,IAAI,CAAC7B,KAAK,CAACwB,SAAS,CAACC,GAAG,CAAC7E,eAAe,CAAC;EAC3C,IAAA;MAEA0E,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAElF,WAAW,CAAC;MAEhD,IAAI,CAACsG,aAAa,EAAE;EACtB,EAAA;EAEAjB,EAAAA,IAAIA,GAAG;MACLS,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAExF,UAAU,CAAC;MAE/C,IAAI,IAAI,CAACkF,OAAO,EAAE;EAChB,MAAA,IAAI,CAACA,OAAO,CAAC2B,OAAO,EAAE;EACxB,IAAA;MAEA,IAAI,CAACrB,QAAQ,CAACc,SAAS,CAACQ,MAAM,CAACpF,eAAe,CAAC;MAC/C,IAAI,CAACgD,aAAa,CAAC8B,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;EAEzD,IAAA,IAAI,IAAI,CAACjC,OAAO,CAAC5B,SAAS,EAAE;QAC1B,IAAI,CAACmC,KAAK,CAACwB,SAAS,CAACQ,MAAM,CAACpF,eAAe,CAAC;EAC9C,IAAA;MAEA,IAAI,IAAI,CAACiD,iBAAiB,EAAE;EAC1B,MAAA,IAAI,CAACA,iBAAiB,CAACb,KAAK,GAAG,EAAE;EACnC,IAAA;MAEAsC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAEvF,YAAY,CAAC;EACnD,EAAA;EAEA8G,EAAAA,OAAOA,GAAG;MACR,IAAI,IAAI,CAAC7B,OAAO,EAAE;EAChB,MAAA,IAAI,CAACA,OAAO,CAAC2B,OAAO,EAAE;EACxB,IAAA;MAEA,KAAK,CAACE,OAAO,EAAE;EACjB,EAAA;EAEAC,EAAAA,KAAKA,GAAG;MACN,IAAI,CAACC,WAAW,EAAE;EAClB,IAAA,IAAI,CAACvD,MAAM,CAAC,EAAE,CAAC;MACf,IAAI,CAACwD,kBAAkB,EAAE;EACzB,IAAA,IAAI,CAACxC,aAAa,CAACZ,KAAK,GAAG,EAAE;MAE7BsC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAE1F,aAAa,EAAE;QACjDgE,KAAK,EAAE,IAAI,CAACiB;EACd,KAAC,CAAC;EACJ,EAAA;IAEArB,MAAMA,CAACsC,KAAK,EAAE;EACZ,IAAA,IAAI,CAACb,OAAO,GAAGa,KAAK,CAACG,MAAM,GAAG,CAAC,GAAGH,KAAK,CAACC,WAAW,EAAE,GAAG,EAAE;EAC1D,IAAA,IAAI,CAAC,IAAI,CAACkB,iBAAiB,EAAE,EAAE;QAC7B,IAAI,CAACD,kBAAkB,EAAE;EAC3B,IAAA;MAEAd,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAEtF,WAAW,EAAE;EAC/C4D,MAAAA,KAAK,EAAEkC;EACT,KAAC,CAAC;EACJ,EAAA;IAEAoB,MAAMA,CAAChD,MAAM,EAAE;MACb,IAAIA,MAAM,CAACN,KAAK,EAAE;QAChB,IAAI,CAACmD,WAAW,EAAE;EACpB,IAAA;MAEA,IAAI,CAAC1C,OAAO,GAAG;QAAE,GAAG,IAAI,CAACA,OAAO;EAAE,MAAA,GAAG,IAAI,CAAC8C,iBAAiB,CAACjD,MAAM;OAAG;EACrE,IAAA,IAAI,CAACY,QAAQ,GAAG,IAAI,CAACC,qBAAqB,EAAE;EAC5C,IAAA,IAAI,CAACJ,eAAe,CAACyC,SAAS,GAAG,EAAE;MACnC,IAAI,CAACC,cAAc,CAAC,IAAI,CAAC1C,eAAe,EAAE,IAAI,CAACG,QAAQ,CAAC;EAC1D,EAAA;EAEAiC,EAAAA,WAAWA,CAAC/D,OAAO,GAAG,IAAI,CAAC6B,SAAS,EAAE;EACpC,IAAA,IAAI,IAAI,CAACA,SAAS,CAACoB,MAAM,KAAK,CAAC,EAAE;EAC/B,MAAA;EACF,IAAA;EAEA,IAAA,KAAK,MAAMJ,MAAM,IAAI7C,OAAO,EAAE;QAC5B,IAAI6C,MAAM,CAACnD,QAAQ,EAAE;EACnB,QAAA;EACF,MAAA;QAEA,IAAI4E,KAAK,CAACC,OAAO,CAAC1B,MAAM,CAAC7C,OAAO,CAAC,EAAE;EACjC,QAAA,IAAI,CAAC+D,WAAW,CAAClB,MAAM,CAAC7C,OAAO,CAAC;EAChC,QAAA;EACF,MAAA;EAEA,MAAA,IAAI,CAACwE,eAAe,CAAC3B,MAAM,CAACjC,KAAK,CAAC;QAClC,IAAI,CAAC6D,cAAc,EAAE;EACvB,IAAA;EACF,EAAA;;EAEA;;IAEA9B,eAAeA,CAAC3C,OAAO,GAAG,IAAI,CAAC8B,QAAQ,EAAE4C,IAAI,GAAG,EAAE,EAAE;EAClD,IAAA,KAAK,MAAMC,GAAG,IAAI3E,OAAO,EAAE;QACzB,IAAI2E,GAAG,IAAIL,KAAK,CAACC,OAAO,CAACI,GAAG,CAAC3E,OAAO,CAAC,EAAE;UACrC,IAAI,CAAC2C,eAAe,CAACgC,GAAG,CAAC3E,OAAO,EAAE0E,IAAI,CAAC;EACvC,QAAA;EACF,MAAA;EAEAA,MAAAA,IAAI,CAACE,IAAI,CAACD,GAAG,CAAC;EAChB,IAAA;EAEA,IAAA,OAAOD,IAAI;EACb,EAAA;EAEAG,EAAAA,cAAcA,GAAG;MACf,OAAO,IAAI,CAACvC,QAAQ,CAACc,SAAS,CAACxC,KAAK,CAACkE,KAAK,CAAC,GAAG,CAAC;EACjD,EAAA;IAEAC,gBAAgBA,CAACjC,KAAK,EAAE;MACtB,MAAMkC,KAAK,GAAG,IAAIC,MAAM,CAAC,IAAI,CAAChD,OAAO,EAAE,IAAI,CAAC;MAC5C,OAAOa,KAAK,CAACoC,OAAO,CAACF,KAAK,EAAEG,MAAM,IAAI,CAAA,QAAA,EAAWA,MAAM,CAAA,SAAA,CAAW,CAAC;EACrE,EAAA;EAEAlB,EAAAA,iBAAiBA,GAAG;MAClB,OAAOK,KAAK,CAACC,OAAO,CAAC,IAAI,CAAClD,OAAO,CAACb,MAAM,CAAC,IAAI,IAAI,CAACa,OAAO,CAACb,MAAM,CAACwC,QAAQ,CAAC,UAAU,CAAC;EACvF,EAAA;EAEAoC,EAAAA,eAAeA,GAAG;MAChB,OAAOd,KAAK,CAACC,OAAO,CAAC,IAAI,CAAClD,OAAO,CAACb,MAAM,CAAC,IAAI,IAAI,CAACa,OAAO,CAACb,MAAM,CAACwC,QAAQ,CAAC,QAAQ,CAAC;EACrF,EAAA;IAEAqC,UAAUA,CAACpE,OAAO,EAAE;EAClB,IAAA,MAAMsC,KAAK,GAAG+B,MAAM,CAACC,gBAAgB,CAACtE,OAAO,CAAC;EAC9C,IAAA,OAAQsC,KAAK,CAACiC,OAAO,KAAK,MAAM;EAClC,EAAA;EAEAhD,EAAAA,QAAQA,GAAG;MACT,OAAO,IAAI,CAACF,QAAQ,CAACc,SAAS,CAACqC,QAAQ,CAACjH,eAAe,CAAC;EAC1D,EAAA;;EAEA;;EAEA2D,EAAAA,kBAAkBA,GAAG;MACnBe,YAAY,CAACwC,EAAE,CAAC,IAAI,CAACpD,QAAQ,EAAEzF,WAAW,EAAE8I,KAAK,IAAI;EACnD,MAAA,IAAI,CAAC,IAAI,CAACtE,OAAO,CAAC3B,QAAQ,IAAI,CAACiG,KAAK,CAACC,MAAM,CAACC,OAAO,CAAClH,kBAAkB,CAAC,EAAE;UACvE,IAAI,CAAC+D,IAAI,EAAE;EACb,MAAA;EACF,IAAA,CAAC,CAAC;MAEFQ,YAAY,CAACwC,EAAE,CAAC,IAAI,CAACpD,QAAQ,EAAErF,aAAa,EAAE0I,KAAK,IAAI;EACrD,MAAA,IAAIA,KAAK,CAACG,GAAG,KAAKtJ,UAAU,EAAE;UAC5B,IAAI,CAACiG,IAAI,EAAE;EACX,QAAA,IAAI,IAAI,CAACpB,OAAO,CAACjC,uBAAuB,IAAI,IAAI,CAACyC,SAAS,CAACoB,MAAM,KAAK,CAAC,EAAE;EACvE,UAAA,IAAI,CAACzC,MAAM,CAAC,EAAE,CAAC;EACf,UAAA,IAAI,CAACgB,aAAa,CAACZ,KAAK,GAAG,EAAE;EAC/B,QAAA;EAEA,QAAA;EACF,MAAA;QAEA,IAAI,IAAI,CAACwE,eAAe,EAAE,KAAKO,KAAK,CAACG,GAAG,CAAC7C,MAAM,KAAK,CAAC,IAAI0C,KAAK,CAACG,GAAG,KAAKzJ,aAAa,IAAIsJ,KAAK,CAACG,GAAG,KAAKxJ,UAAU,CAAC,EAAE;EACjH,QAAA,IAAI,CAACkF,aAAa,CAACuE,KAAK,EAAE;EAC5B,MAAA;EACF,IAAA,CAAC,CAAC;MAEF7C,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAC9D,KAAK,EAAE3E,aAAa,EAAE0I,KAAK,IAAI;QAClD,IAAI,IAAI,CAACP,eAAe,EAAE,KAAKO,KAAK,CAACG,GAAG,CAAC7C,MAAM,KAAK,CAAC,IAAI0C,KAAK,CAACG,GAAG,KAAKzJ,aAAa,IAAIsJ,KAAK,CAACG,GAAG,KAAKxJ,UAAU,CAAC,EAAE;EACjH,QAAA,IAAI,CAACkF,aAAa,CAACuE,KAAK,EAAE;EAC5B,MAAA;EACF,IAAA,CAAC,CAAC;MAEF7C,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAChE,eAAe,EAAEzE,aAAa,EAAE0I,KAAK,IAAI;EAC5D,MAAA,IAAI,CAAC,IAAI,CAACnD,QAAQ,EAAE,KAAKmD,KAAK,CAACG,GAAG,KAAKvJ,SAAS,IAAIoJ,KAAK,CAACG,GAAG,KAAK1J,cAAc,CAAC,EAAE;UACjFuJ,KAAK,CAACK,cAAc,EAAE;UACtB,IAAI,CAACtD,IAAI,EAAE;EACX,QAAA;EACF,MAAA;QAEA,IAAI,IAAI,CAACF,QAAQ,EAAE,IAAImD,KAAK,CAACG,GAAG,KAAK1J,cAAc,EAAE;UACnDuJ,KAAK,CAACK,cAAc,EAAE;EACtB,QAAA,IAAI,CAACC,eAAe,CAACN,KAAK,CAAC;EAC7B,MAAA;EACF,IAAA,CAAC,CAAC;MAEFzC,YAAY,CAACwC,EAAE,CAAC,IAAI,CAACnE,iBAAiB,EAAE1E,WAAW,EAAE8I,KAAK,IAAI;QAC5DA,KAAK,CAACK,cAAc,EAAE;QACtB,IAAI,CAACzD,MAAM,EAAE;EACf,IAAA,CAAC,CAAC;MAEFW,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAClE,aAAa,EAAE7E,UAAU,EAAE,MAAM;EACpD,MAAA,MAAMqD,OAAO,GAAG,IAAI,CAAC2C,eAAe,EAAE,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,CAACmD,UAAU,CAAC,IAAI,CAAC1E,aAAa,CAACZ,KAAK,CAACmC,WAAW,EAAE,CAAC,CAAC;EACtI,MAAA,IAAI,IAAI,CAAC1B,OAAO,CAACjC,uBAAuB,IAAI,IAAI,CAACyC,SAAS,CAACoB,MAAM,KAAK,CAAC,IAAIjD,OAAO,CAACiD,MAAM,KAAK,CAAC,EAAE;UAC/F,IAAI,CAACa,KAAK,EAAE;EACd,MAAA;EACF,IAAA,CAAC,CAAC;MAEFZ,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAClE,aAAa,EAAEvE,aAAa,EAAE0I,KAAK,IAAI;EAC1D,MAAA,IAAI,CAAC,IAAI,CAACnD,QAAQ,EAAE,IAAImD,KAAK,CAACG,GAAG,KAAKrJ,OAAO,EAAE;UAC7C,IAAI,CAACiG,IAAI,EAAE;EACb,MAAA;EAEA,MAAA,IAAIiD,KAAK,CAACG,GAAG,KAAK1J,cAAc,IAAI,IAAI,CAACoF,aAAa,CAACZ,KAAK,CAACqC,MAAM,KAAK,IAAI,CAACzB,aAAa,CAAC2E,cAAc,EAAE;EACzG,QAAA,IAAI,CAACF,eAAe,CAACN,KAAK,CAAC;EAC3B,QAAA;EACF,MAAA;QAEA,IAAIA,KAAK,CAACG,GAAG,KAAKrJ,OAAO,IAAI,IAAI,CAAC4E,OAAO,CAACX,SAAS,IAAI,IAAI,CAACc,aAAa,CAACZ,KAAK,CAACqC,MAAM,GAAG,CAAC,EAAE;EAC1F,QAAA,IAAI,IAAI,CAACxB,iBAAiB,CAACb,KAAK,EAAE;YAChC+E,KAAK,CAACK,cAAc,EAAE;YACtBL,KAAK,CAACS,eAAe,EAAE;EACzB,QAAA;EAEA,QAAA,MAAMpG,OAAO,GAAG,IAAI,CAAC2C,eAAe,EAAE,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,CAACmD,UAAU,CAAC,IAAI,CAAC1E,aAAa,CAACZ,KAAK,CAACmC,WAAW,EAAE,CAAC,CAAC;EAEtI,QAAA,IAAI/C,OAAO,CAACiD,MAAM,GAAG,CAAC,EAAE;EACtB,UAAA,IAAI,CAACoD,aAAa,CAACrG,OAAO,CAAC,CAAC,CAAC,CAAC;EAChC,QAAA;EACF,MAAA;EAEA,MAAA,IAAI2F,KAAK,CAACG,GAAG,KAAKvJ,SAAS,EAAE;UAC3BoJ,KAAK,CAACK,cAAc,EAAE;UACtBL,KAAK,CAACS,eAAe,EAAE;UAEvB,IAAI,IAAI,CAAC5E,aAAa,CAACZ,KAAK,CAACqC,MAAM,KAAK,CAAC,EAAE;EACzC,UAAA;EACF,QAAA;EAEA,QAAA,MAAMjD,OAAO,GAAG,IAAI,CAAC2C,eAAe,EAAE,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,KAAK,IAAI,CAACvB,aAAa,CAACZ,KAAK,CAACmC,WAAW,EAAE,CAAC;EAE9H,QAAA,IAAI/C,OAAO,CAACiD,MAAM,GAAG,CAAC,EAAE;EACtB,UAAA,IAAI,CAACoD,aAAa,CAACrG,OAAO,CAAC,CAAC,CAAC,CAAC;EAChC,QAAA;EAEA,QAAA,IAAIA,OAAO,CAACiD,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC5B,OAAO,CAACjC,uBAAuB,EAAE;YACjE8D,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAE1F,aAAa,EAAE;EACjDgE,YAAAA,KAAK,EAAE,IAAI,CAACY,aAAa,CAACZ;EAC5B,WAAC,CAAC;YAEF,IAAI,CAAC6B,IAAI,EAAE;EAEX,UAAA,IAAI,IAAI,CAACpB,OAAO,CAAC7B,mBAAmB,EAAE;EACpC,YAAA,IAAI,CAACgB,MAAM,CAAC,EAAE,CAAC;EACjB,UAAA;EACF,QAAA;EACF,MAAA;EACF,IAAA,CAAC,CAAC;MAEF0C,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAClE,aAAa,EAAEtE,WAAW,EAAEyI,KAAK,IAAI;EACxD,MAAA,IAAIA,KAAK,CAACG,GAAG,CAAC7C,MAAM,KAAK,CAAC,IAAI0C,KAAK,CAACG,GAAG,KAAKzJ,aAAa,IAAIsJ,KAAK,CAACG,GAAG,KAAKxJ,UAAU,EAAE;UACrF,MAAM;EAAEsE,UAAAA;WAAO,GAAG+E,KAAK,CAACC,MAAM;EAC9B,QAAA,IAAI,CAACpF,MAAM,CAACI,KAAK,CAAC;EAClB,QAAA,IAAI,IAAI,CAACS,OAAO,CAACX,SAAS,EAAE;EAC1B,UAAA,MAAMV,OAAO,GAAGY,KAAK,GACnB,IAAI,CAAC+B,eAAe,EAAE,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,KAAK,CAACC,WAAW,EAAE,CAACmD,UAAU,CAACtF,KAAK,CAACmC,WAAW,EAAE,CAAC,CAAC,GACnG,EAAE;EACJ,UAAA,IAAI,CAACtB,iBAAiB,CAACb,KAAK,GAAGZ,OAAO,CAACiD,MAAM,GAAG,CAAC,GAAG,CAAA,EAAGrC,KAAK,CAAA,EAAGZ,OAAO,CAAC,CAAC,CAAC,CAAC8C,KAAK,CAACwD,KAAK,CAAC1F,KAAK,CAACqC,MAAM,CAAC,CAAA,CAAE,GAAG,EAAE;EAC5G,QAAA;EAEA,QAAA,IAAI,IAAI,CAACpB,SAAS,CAACoB,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI,CAACc,WAAW,EAAE;YAClBb,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAE1F,aAAa,EAAE;cACjDgE,KAAK,EAAE,IAAI,CAACiB;EACd,WAAC,CAAC;EACJ,QAAA;EACF,MAAA;EACF,IAAA,CAAC,CAAC;MAEFqB,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAC/D,eAAe,EAAE9E,WAAW,EAAE8I,KAAK,IAAI;QAC1DA,KAAK,CAACK,cAAc,EAAE;QACtBL,KAAK,CAACS,eAAe,EAAE;EACvB,MAAA,IAAI,CAACG,eAAe,CAACZ,KAAK,CAACC,MAAM,CAAC;EACpC,IAAA,CAAC,CAAC;MAEF1C,YAAY,CAACwC,EAAE,CAAC,IAAI,CAACc,eAAe,EAAE3J,WAAW,EAAE8I,KAAK,IAAI;EAC1D,MAAA,IAAI,CAAC,IAAI,CAACtE,OAAO,CAAC3B,QAAQ,EAAE;UAC1BiG,KAAK,CAACK,cAAc,EAAE;UACtBL,KAAK,CAACS,eAAe,EAAE;UACvB,IAAI,CAACtC,KAAK,EAAE;EACd,MAAA;EACF,IAAA,CAAC,CAAC;MAEFZ,YAAY,CAACwC,EAAE,CAAC,IAAI,CAAC/D,eAAe,EAAE1E,aAAa,EAAE0I,KAAK,IAAI;EAC5D,MAAA,IAAIA,KAAK,CAACG,GAAG,KAAKvJ,SAAS,EAAE;EAC3B,QAAA,IAAI,CAACgK,eAAe,CAACZ,KAAK,CAACC,MAAM,CAAC;EACpC,MAAA;EAEA,MAAA,IAAI,CAACzJ,YAAY,EAAEC,cAAc,CAAC,CAAC4G,QAAQ,CAAC2C,KAAK,CAACG,GAAG,CAAC,EAAE;UACtDH,KAAK,CAACK,cAAc,EAAE;EACtB,QAAA,IAAI,CAACC,eAAe,CAACN,KAAK,CAAC;EAC7B,MAAA;EACF,IAAA,CAAC,CAAC;EACJ,EAAA;IAEA5D,qBAAqBA,CAAC/B,OAAO,GAAG,IAAI,CAACqB,OAAO,CAACrB,OAAO,EAAE;MACpD,IAAI,CAACA,OAAO,IAAI,CAACsE,KAAK,CAACC,OAAO,CAACvE,OAAO,CAAC,EAAE;EACvC,MAAA,OAAO,EAAE;EACX,IAAA;MAEA,MAAM8B,QAAQ,GAAG,EAAE;EACnB,IAAA,KAAK,MAAMe,MAAM,IAAI7C,OAAO,EAAE;EAAA,MAAA,IAAAyG,aAAA;EAC5B,MAAA,IAAI5D,MAAM,CAAC7C,OAAO,IAAIsE,KAAK,CAACC,OAAO,CAAC1B,MAAM,CAAC7C,OAAO,CAAC,EAAE;EACnD,QAAA,MAAM0G,qBAAqB,GAAG;YAAE,GAAG7D;WAAQ;UAE3C,OAAO6D,qBAAqB,CAAC5D,KAAK;UAClC,OAAO4D,qBAAqB,CAAC1G,OAAO;UAEpC8B,QAAQ,CAAC8C,IAAI,CAAC;EACZ,UAAA,GAAG8B,qBAAqB;YACxB5D,KAAK,EAAED,MAAM,CAACC,KAAK;EACnB9C,UAAAA,OAAO,EAAE,IAAI,CAAC+B,qBAAqB,CAACc,MAAM,CAAC7C,OAAO;EACpD,SAAC,CAAC;EAEF,QAAA;EACF,MAAA;QAEA,MAAM8C,KAAK,GAAG,OAAOD,MAAM,KAAK,QAAQ,GAAGA,MAAM,GAAGA,MAAM,CAACC,KAAK;EAChE,MAAA,MAAMlC,KAAK,GAAA,CAAA6F,aAAA,GAAG5D,MAAM,CAACjC,KAAK,KAAA,IAAA,GAAA6F,aAAA,GAAK,OAAO5D,MAAM,KAAK,QAAQ,GAAGA,MAAM,GAAGA,MAAM,CAACC,KAAM;EAClF,MAAA,MAAM6D,UAAU,GAAG9D,MAAM,CAAC+D,QAAQ,IAAK,IAAI,CAACvF,OAAO,CAACT,KAAK,IAAI,IAAI,CAACS,OAAO,CAACT,KAAK,KAAKA,KAAM;EAE1F,MAAA,MAAMiG,gBAAgB,GAAG,OAAOhE,MAAM,KAAK,QAAQ,GAAG;UAAE,GAAGA;SAAQ,GAAG,EAAE;QAExE,OAAOgE,gBAAgB,CAAC/D,KAAK;QAC7B,OAAO+D,gBAAgB,CAACjG,KAAK;QAC7B,OAAOiG,gBAAgB,CAACD,QAAQ;QAChC,OAAOC,gBAAgB,CAACnH,QAAQ;QAEhCoC,QAAQ,CAAC8C,IAAI,CAAC;EACZ,QAAA,GAAGiC,gBAAgB;UACnB/D,KAAK;EACLlC,QAAAA,KAAK,EAAEkG,MAAM,CAAClG,KAAK,CAAC;EACpB,QAAA,IAAG+F,UAAU,IAAI;EAAEC,UAAAA,QAAQ,EAAE;WAAM,CAAA;UACnC,IAAG/D,MAAM,CAACnD,QAAQ,IAAI;EAAEA,UAAAA,QAAQ,EAAE;WAAM;EAC1C,OAAC,CAAC;EAEF,MAAA,IAAIiH,UAAU,EAAE;EACd,QAAA,IAAI,CAAC9E,SAAS,CAAC+C,IAAI,CAAC;YAClB9B,KAAK,EAAED,MAAM,CAACC,KAAK;YACnBlC,KAAK,EAAEkG,MAAM,CAAClG,KAAK;EACrB,SAAC,CAAC;EACJ,MAAA;EACF,IAAA;EAEA,IAAA,OAAOkB,QAAQ;EACjB,EAAA;EAEAI,EAAAA,mBAAmBA,GAAG;MACpB,IAAI,CAACI,QAAQ,CAACc,SAAS,CAACC,GAAG,CAAC7F,uBAAuB,CAAC;EACpD,IAAA,IAAI,CAAC8E,QAAQ,CAACc,SAAS,CAACb,MAAM,CAAC,YAAY,EAAE,IAAI,CAAClB,OAAO,CAACvB,OAAO,CAAC;EAClE,IAAA,IAAI,CAACwC,QAAQ,CAACc,SAAS,CAACb,MAAM,CAAC,UAAU,EAAE,IAAI,CAAClB,OAAO,CAACV,KAAK,CAAC;EAE9D,IAAA,IAAI,IAAI,CAACU,OAAO,CAAC3B,QAAQ,EAAE;QACzB,IAAI,CAAC4C,QAAQ,CAACc,SAAS,CAACC,GAAG,CAAC1F,mBAAmB,CAAC;EAClD,IAAA;MAEA,KAAK,MAAMoJ,SAAS,IAAI,IAAI,CAAClC,cAAc,EAAE,EAAE;QAC7C,IAAI,CAACvC,QAAQ,CAACc,SAAS,CAACC,GAAG,CAAC0D,SAAS,CAAC;EACxC,IAAA;MAEA,IAAI,CAACC,iBAAiB,EAAE;MACxB,IAAI,CAACC,cAAc,EAAE;MACrB,IAAI,CAACC,uBAAuB,EAAE;MAC9B,IAAI,CAACC,kBAAkB,EAAE;EAC3B,EAAA;EAEAH,EAAAA,iBAAiBA,GAAG;EAAA,IAAA,IAAAI,qBAAA;EAClB,IAAA,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC/CF,IAAAA,SAAS,CAACjE,SAAS,CAACC,GAAG,CAACrF,sBAAsB,CAAC;MAC/C,IAAI,CAAC0D,eAAe,GAAG2F,SAAS;EAEhC,IAAA,IAAI,CAAC,IAAI,CAAChG,OAAO,CAACb,MAAM,IAAI,CAAC,IAAI,CAACa,OAAO,CAAC3B,QAAQ,EAAE;EAClD2H,MAAAA,SAAS,CAACG,QAAQ,GAAG,EAAE;EACzB,IAAA;EAEA,IAAA,IAAI,CAAC,IAAI,CAACnG,OAAO,CAAC3B,QAAQ,IAAI,IAAI,CAAC2B,OAAO,CAACX,SAAS,EAAE;EACpD,MAAA,MAAM+G,WAAW,GAAGH,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;QACnDE,WAAW,CAACrE,SAAS,CAACC,GAAG,CAACvF,gBAAgB,EAAEC,qBAAqB,CAAC;QAClE0J,WAAW,CAACnE,YAAY,CAAC,MAAM,EAAE,CAAC,IAAI,CAACjC,OAAO,CAACtB,IAAI,IAAI,CAAA,EAAG,IAAI,CAACqB,SAAS,OAAO,EAAEsG,QAAQ,EAAE,CAAC;QAC5FD,WAAW,CAACE,YAAY,GAAG,KAAK;QAChCF,WAAW,CAACG,QAAQ,GAAG,IAAI;EAC3BH,MAAAA,WAAW,CAACD,QAAQ,GAAG,EAAE;EACzBC,MAAAA,WAAW,CAACnE,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC;EAE7C+D,MAAAA,SAAS,CAACQ,MAAM,CAACJ,WAAW,CAAC;QAC7B,IAAI,CAAChG,iBAAiB,GAAGgG,WAAW;EACtC,IAAA;EAEA,IAAA,MAAMK,OAAO,GAAGR,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC/CO,IAAAA,OAAO,CAAC1E,SAAS,CAACC,GAAG,CAACvF,gBAAgB,CAAC;EACvCgK,IAAAA,OAAO,CAAClI,EAAE,GAAG,IAAI,CAACwB,SAAS;EAC3B0G,IAAAA,OAAO,CAACxE,YAAY,CAAC,MAAM,EAAE,CAAC,IAAI,CAACjC,OAAO,CAACtB,IAAI,IAAI,IAAI,CAACqB,SAAS,EAAEsG,QAAQ,EAAE,CAAC;MAC9EI,OAAO,CAACH,YAAY,GAAG,KAAK;EAC5BG,IAAAA,OAAO,CAAC1H,WAAW,GAAA,CAAAgH,qBAAA,GAAG,IAAI,CAAC/F,OAAO,CAACjB,WAAW,KAAA,IAAA,GAAAgH,qBAAA,GAAI,EAAE;MACpDU,OAAO,CAACC,IAAI,GAAG,UAAU;EACzBD,IAAAA,OAAO,CAACxE,YAAY,CAAC,mBAAmB,EAAE,MAAM,CAAC;EACjDwE,IAAAA,OAAO,CAACxE,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;EAC9CwE,IAAAA,OAAO,CAACxE,YAAY,CAAC,eAAe,EAAE,SAAS,CAAC;EAEhD,IAAA,IAAI,IAAI,CAACjC,OAAO,CAAC3B,QAAQ,EAAE;EACzBoI,MAAAA,OAAO,CAACxE,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;EACtCwE,MAAAA,OAAO,CAACN,QAAQ,GAAG,EAAE;EACvB,IAAA;EAEA,IAAA,IAAI,IAAI,CAACnG,OAAO,CAAChB,QAAQ,EAAE;EACzByH,MAAAA,OAAO,CAACxE,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;EACxC,IAAA;EAEA+D,IAAAA,SAAS,CAACQ,MAAM,CAACC,OAAO,CAAC;MACzB,IAAI,CAACtG,aAAa,GAAGsG,OAAO;EAE5B,IAAA,IAAI,CAACxF,QAAQ,CAACuF,MAAM,CAACR,SAAS,CAAC;EACjC,EAAA;EAEAJ,EAAAA,cAAcA,GAAG;EACf,IAAA,IAAI,CAAC,IAAI,CAAC5F,OAAO,CAAC9B,OAAO,IAAI,CAAC,IAAI,CAAC8B,OAAO,CAACxB,SAAS,EAAE;EACpD,MAAA;EACF,IAAA;EAEA,IAAA,MAAMmI,OAAO,GAAGV,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC7CS,IAAAA,OAAO,CAAC5E,SAAS,CAACC,GAAG,CAAC5F,kBAAkB,CAAC;EAEzC,IAAA,IAAI,CAAC,IAAI,CAAC4D,OAAO,CAAC3B,QAAQ,IAAI,IAAI,CAAC2B,OAAO,CAAC9B,OAAO,EAAE;EAClD,MAAA,MAAMA,OAAO,GAAG+H,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QAChDhI,OAAO,CAAC0I,IAAI,GAAG,QAAQ;EACvB1I,MAAAA,OAAO,CAAC6D,SAAS,CAACC,GAAG,CAAC3F,kBAAkB,CAAC;EACzC6B,MAAAA,OAAO,CAACgE,KAAK,CAACiC,OAAO,GAAG,MAAM;QAC9BjG,OAAO,CAAC+D,YAAY,CAAC,YAAY,EAAE,IAAI,CAACjC,OAAO,CAAChC,gBAAgB,CAAC;EAEjE2I,MAAAA,OAAO,CAACH,MAAM,CAACtI,OAAO,CAAC;QACvB,IAAI,CAACiH,eAAe,GAAGjH,OAAO;EAChC,IAAA;EAEA,IAAA,IAAI,IAAI,CAAC8B,OAAO,CAACxB,SAAS,EAAE;EAC1B,MAAA,MAAMA,SAAS,GAAGyH,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QAClD1H,SAAS,CAACoI,IAAI,GAAG,QAAQ;EACzBpI,MAAAA,SAAS,CAACuD,SAAS,CAACC,GAAG,CAACxF,oBAAoB,CAAC;QAC7CgC,SAAS,CAACyD,YAAY,CAAC,YAAY,EAAE,IAAI,CAACjC,OAAO,CAAC/B,kBAAkB,CAAC;EAErE,MAAA,IAAI,IAAI,CAAC+B,OAAO,CAAC3B,QAAQ,EAAE;EACzBG,QAAAA,SAAS,CAAC2H,QAAQ,GAAG,EAAE;EACzB,MAAA;EAEAQ,MAAAA,OAAO,CAACH,MAAM,CAAChI,SAAS,CAAC;QACzB,IAAI,CAAC0B,iBAAiB,GAAG1B,SAAS;QAClC,IAAI,CAAC0B,iBAAiB,GAAG1B,SAAS;EACpC,IAAA;EAEA,IAAA,IAAI,CAAC6B,eAAe,CAACmG,MAAM,CAACG,OAAO,CAAC;MACpC,IAAI,CAACvD,cAAc,EAAE;EACvB,EAAA;EAEAf,EAAAA,aAAaA,GAAG;EACd,IAAA,IAAI,OAAOwE,iBAAM,KAAK,WAAW,EAAE;EACjC,MAAA,MAAM,IAAIC,SAAS,CAAC,0EAA0E,CAAC;EACjG,IAAA;EAEA,IAAA,MAAMC,YAAY,GAAG;EACnBC,MAAAA,SAAS,EAAE,CAAC;EACVtI,QAAAA,IAAI,EAAE,iBAAiB;EACvBC,QAAAA,OAAO,EAAE;EACPsI,UAAAA,QAAQ,EAAE;EACZ;EACF,OAAC,EACD;EACEvI,QAAAA,IAAI,EAAE,QAAQ;EACdC,QAAAA,OAAO,EAAE;EACPuI,UAAAA,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;EACf;EACF,OAAC,CAAC;EACFC,MAAAA,SAAS,EAAEC,cAAK,EAAE,GAAG,YAAY,GAAG;OACrC;EAED,IAAA,IAAI,CAACzG,OAAO,GAAGkG,iBAAM,CAACQ,YAAY,CAAC,IAAI,CAAChH,eAAe,EAAE,IAAI,CAACE,KAAK,EAAEwG,YAAY,CAAC;EACpF,EAAA;EAEAlB,EAAAA,uBAAuBA,GAAG;EACxB,IAAA,MAAMyB,WAAW,GAAGrB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACjDoB,IAAAA,WAAW,CAACvF,SAAS,CAACC,GAAG,CAACzF,mBAAmB,CAAC;MAC9C+K,WAAW,CAACZ,IAAI,GAAG,SAAS;MAC5BY,WAAW,CAACrF,YAAY,CAAC,iBAAiB,EAAE,IAAI,CAAClC,SAAS,CAAC;MAC3DuH,WAAW,CAACrF,YAAY,CAAC,IAAI,EAAE,GAAG,IAAI,CAAClC,SAAS,CAAA,QAAA,CAAU,CAAC;EAE3D,IAAA,MAAMwH,UAAU,GAAGtB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAChDqB,IAAAA,UAAU,CAACxF,SAAS,CAACC,GAAG,CAAChF,kBAAkB,CAAC;EAE5C,IAAA,IAAI,IAAI,CAACgD,OAAO,CAACnB,gBAAgB,KAAK,MAAM,EAAE;QAC5C0I,UAAU,CAACrF,KAAK,CAACsF,SAAS,GAAG,CAAA,EAAG,IAAI,CAACxH,OAAO,CAACnB,gBAAgB,CAAA,EAAA,CAAI;EACjE0I,MAAAA,UAAU,CAACrF,KAAK,CAACuF,QAAQ,GAAG,MAAM;EACpC,IAAA;EAEAH,IAAAA,WAAW,CAACd,MAAM,CAACe,UAAU,CAAC;MAE9B,MAAM;EAAEnJ,MAAAA;OAAW,GAAG,IAAI,CAAC4B,OAAO;EAClC,IAAA,IAAI5B,SAAS,EAAE;EACb,MAAA,IAAI,CAAC+B,aAAa,CAAC8B,YAAY,CAAC,WAAW,EAAE,CAAA,EAAG,IAAI,CAAClC,SAAS,CAAA,QAAA,CAAU,CAAC;EACzEuH,MAAAA,WAAW,CAAC/I,EAAE,GAAG,GAAG,IAAI,CAACwB,SAAS,CAAA,QAAA,CAAU;EAC5C3B,MAAAA,SAAS,CAACoI,MAAM,CAACc,WAAW,CAAC;EAC/B,IAAA,CAAC,MAAM;EACL,MAAA,IAAI,CAACrG,QAAQ,CAACuF,MAAM,CAACc,WAAW,CAAC;EACnC,IAAA;MAEA,IAAI,CAACtE,cAAc,CAACuE,UAAU,EAAE,IAAI,CAAC9G,QAAQ,CAAC;MAC9C,IAAI,CAACH,eAAe,GAAGiH,UAAU;MACjC,IAAI,CAAChH,KAAK,GAAG+G,WAAW;EAC1B,EAAA;EAEAtE,EAAAA,cAAcA,CAAC0E,aAAa,EAAE/I,OAAO,EAAE;EACrC,IAAA,KAAK,MAAM6C,MAAM,IAAI7C,OAAO,EAAE;QAC5B,IAAIsE,KAAK,CAACC,OAAO,CAAC1B,MAAM,CAAC7C,OAAO,CAAC,EAAE;EACjC,QAAA,MAAMgJ,QAAQ,GAAG1B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC9CyB,QAAAA,QAAQ,CAAC5F,SAAS,CAACC,GAAG,CAACnF,mBAAmB,CAAC;EAC3C8K,QAAAA,QAAQ,CAAC1F,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC;EAEtC,QAAA,MAAM2F,aAAa,GAAG3B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACnD,QAAA,IAAI,IAAI,CAAClG,OAAO,CAACpB,qBAAqB,IAAI,OAAO,IAAI,CAACoB,OAAO,CAACpB,qBAAqB,KAAK,UAAU,EAAE;EAClGgJ,UAAAA,aAAa,CAAC7E,SAAS,GAAG,IAAI,CAAC/C,OAAO,CAACf,QAAQ,GAC7C4I,yBAAY,CAAC,IAAI,CAAC7H,OAAO,CAACpB,qBAAqB,CAAC4C,MAAM,CAAC,EAAE,IAAI,CAACxB,OAAO,CAACnC,SAAS,EAAE,IAAI,CAACmC,OAAO,CAACd,UAAU,CAAC,GACzG,IAAI,CAACc,OAAO,CAACpB,qBAAqB,CAAC4C,MAAM,CAAC;EAC9C,QAAA,CAAC,MAAM;EACLoG,UAAAA,aAAa,CAACE,WAAW,GAAGtG,MAAM,CAACC,KAAK;EAC1C,QAAA;EAEAmG,QAAAA,aAAa,CAAC7F,SAAS,CAACC,GAAG,CAAClF,yBAAyB,CAAC;EACtD6K,QAAAA,QAAQ,CAACnB,MAAM,CAACoB,aAAa,CAAC;UAE9B,IAAI,CAAC5E,cAAc,CAAC2E,QAAQ,EAAEnG,MAAM,CAAC7C,OAAO,CAAC;EAC7C+I,QAAAA,aAAa,CAAClB,MAAM,CAACmB,QAAQ,CAAC;EAE9B,QAAA;EACF,MAAA;EAEA,MAAA,MAAMI,SAAS,GAAG9B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC/C6B,MAAAA,SAAS,CAAChG,SAAS,CAACC,GAAG,CAACjF,iBAAiB,CAAC;QAE1C,IAAIyE,MAAM,CAACnD,QAAQ,EAAE;EACnB0J,QAAAA,SAAS,CAAChG,SAAS,CAACC,GAAG,CAAC1F,mBAAmB,CAAC;EAC5CyL,QAAAA,SAAS,CAAC9F,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;EACjD,MAAA;EAEA8F,MAAAA,SAAS,CAACC,OAAO,CAACzI,KAAK,GAAGiC,MAAM,CAACjC,KAAK;QACtCwI,SAAS,CAAC5B,QAAQ,GAAG,CAAC;EACtB,MAAA,IAAI,IAAI,CAACvD,iBAAiB,EAAE,IAAI,IAAI,CAAC5C,OAAO,CAAC1B,wBAAwB,IAAI,IAAI,CAACsC,OAAO,EAAE;UACrFmH,SAAS,CAAChF,SAAS,GAAG,IAAI,CAACW,gBAAgB,CAAClC,MAAM,CAACC,KAAK,CAAC;EAC3D,MAAA,CAAC,MAAM,IAAI,IAAI,CAACzB,OAAO,CAAClB,eAAe,IAAI,OAAO,IAAI,CAACkB,OAAO,CAAClB,eAAe,KAAK,UAAU,EAAE;EAC7FiJ,QAAAA,SAAS,CAAChF,SAAS,GAAG,IAAI,CAAC/C,OAAO,CAACf,QAAQ,GACzC4I,yBAAY,CAAC,IAAI,CAAC7H,OAAO,CAAClB,eAAe,CAAC0C,MAAM,CAAC,EAAE,IAAI,CAACxB,OAAO,CAACnC,SAAS,EAAE,IAAI,CAACmC,OAAO,CAACd,UAAU,CAAC,GACnG,IAAI,CAACc,OAAO,CAAClB,eAAe,CAAC0C,MAAM,CAAC;EACxC,MAAA,CAAC,MAAM;EACLuG,QAAAA,SAAS,CAACD,WAAW,GAAGtG,MAAM,CAACC,KAAK;EACtC,MAAA;EAEAiG,MAAAA,aAAa,CAAClB,MAAM,CAACuB,SAAS,CAAC;EACjC,IAAA;EACF,EAAA;IAEA7C,eAAeA,CAACtF,OAAO,EAAE;MACvB,IAAIA,OAAO,CAACmC,SAAS,CAACqC,QAAQ,CAACxH,gBAAgB,CAAC,EAAE;EAChD,MAAA;EACF,IAAA;MAEA,IAAI,CAACgD,OAAO,CAACmC,SAAS,CAACqC,QAAQ,CAACrH,iBAAiB,CAAC,EAAE;EAClD6C,MAAAA,OAAO,GAAGA,OAAO,CAAC4E,OAAO,CAAChH,eAAe,CAAC;QAE1C,IAAI,CAACoC,OAAO,EAAE;EACZ,QAAA;EACF,MAAA;EACF,IAAA;MAEA,MAAM;EAAEL,MAAAA;OAAO,GAAGK,OAAO,CAACoI,OAAO;EACjC,IAAA,MAAMC,WAAW,GAAG,IAAI,CAACC,kBAAkB,CAAC3I,KAAK,CAAC;EAElD,IAAA,IAAI0I,WAAW,EAAE;EACf,MAAA,IAAI,CAACjD,aAAa,CAACiD,WAAW,CAAC;EAC/B,MAAA,IAAI,CAAC9H,aAAa,CAACuE,KAAK,EAAE;EAC5B,IAAA;EACF,EAAA;IAEAwD,kBAAkBA,CAAC3I,KAAK,EAAEZ,OAAO,GAAG,IAAI,CAAC8B,QAAQ,EAAE;EACjD,IAAA,KAAK,MAAMe,MAAM,IAAI7C,OAAO,EAAE;EAC5B,MAAA,IAAI6C,MAAM,CAACjC,KAAK,KAAKA,KAAK,EAAE;EAC1B,QAAA,OAAOiC,MAAM;EACf,MAAA;EAEA,MAAA,IAAIA,MAAM,CAAC7C,OAAO,IAAIsE,KAAK,CAACC,OAAO,CAAC1B,MAAM,CAAC7C,OAAO,CAAC,EAAE;UACnD,MAAMwJ,KAAK,GAAG,IAAI,CAACD,kBAAkB,CAAC3I,KAAK,EAAEiC,MAAM,CAAC7C,OAAO,CAAC;EAC5D,QAAA,IAAIwJ,KAAK,EAAE;EACT,UAAA,OAAOA,KAAK;EACd,QAAA;EACF,MAAA;EACF,IAAA;EAEA,IAAA,OAAO,IAAI;EACb,EAAA;IAEAnD,aAAaA,CAACxD,MAAM,EAAE;MACpB,IAAI,CAACkB,WAAW,EAAE;MAElB,IAAI,IAAI,CAAClC,SAAS,CAACe,MAAM,CAAC6G,cAAc,IAAIA,cAAc,CAAC7I,KAAK,KAAKiC,MAAM,CAACjC,KAAK,CAAC,CAACqC,MAAM,KAAK,CAAC,EAAE;EAC/F,MAAA,IAAI,CAACpB,SAAS,CAAC+C,IAAI,CAAC/B,MAAM,CAAC;EAC7B,IAAA;EAEA,IAAA,MAAMyG,WAAW,GAAGI,cAAc,CAACC,OAAO,CAAC,CAAA,aAAA,EAAgB9G,MAAM,CAACjC,KAAK,CAAA,EAAA,CAAI,EAAE,IAAI,CAACe,eAAe,CAAC;EAClG,IAAA,IAAI2H,WAAW,EAAE;EACfA,MAAAA,WAAW,CAAClG,SAAS,CAACC,GAAG,CAAC9E,mBAAmB,CAAC;EAC9C+K,MAAAA,WAAW,CAAChG,YAAY,CAAC,eAAe,EAAE,IAAI,CAAC;EACjD,IAAA;MAEAJ,YAAY,CAACC,OAAO,CAAC,IAAI,CAACb,QAAQ,EAAE1F,aAAa,EAAE;EACjDgE,MAAAA,KAAK,EAAEiC;EACT,KAAC,CAAC;EAEF,IAAA,IAAI,CAACrB,aAAa,CAACZ,KAAK,GAAGiC,MAAM,CAACC,KAAK;EAEvC,IAAA,IAAI,IAAI,CAACzB,OAAO,CAACX,SAAS,EAAE;EAC1B,MAAA,IAAI,CAACe,iBAAiB,CAACb,KAAK,GAAG,EAAE;EACnC,IAAA;MAEA,IAAI,CAAC6B,IAAI,EAAE;EAEX,IAAA,IAAI,IAAI,CAACpB,OAAO,CAAC7B,mBAAmB,EAAE;EACpC,MAAA,IAAI,CAACgB,MAAM,CAAC,EAAE,CAAC;EACjB,IAAA;MAEA,IAAI,CAACiE,cAAc,EAAE;EACvB,EAAA;IAEAD,eAAeA,CAAC5D,KAAK,EAAE;EACrB,IAAA,IAAI,CAACiB,SAAS,GAAG,IAAI,CAACA,SAAS,CAACe,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACjC,KAAK,KAAKA,KAAK,CAAC;EAExE,IAAA,MAAMiC,MAAM,GAAG6G,cAAc,CAACC,OAAO,CAAC,CAAA,aAAA,EAAgB/I,KAAK,CAAA,EAAA,CAAI,EAAE,IAAI,CAACe,eAAe,CAAC;EACtF,IAAA,IAAIkB,MAAM,EAAE;EACVA,MAAAA,MAAM,CAACO,SAAS,CAACQ,MAAM,CAACrF,mBAAmB,CAAC;EAC5CsE,MAAAA,MAAM,CAACS,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC;EAC7C,IAAA;;EAEA;EACA;EACA;EACF,EAAA;EAEAmB,EAAAA,cAAcA,GAAG;EACf,IAAA,IAAI,CAAC,IAAI,CAACpD,OAAO,CAAC9B,OAAO,IAAI,IAAI,CAACiH,eAAe,KAAK,IAAI,EAAE;EAC1D,MAAA;EACF,IAAA;EAEA,IAAA,IAAI,IAAI,CAAC3E,SAAS,CAACoB,MAAM,GAAG,CAAC,EAAE;QAC7B,IAAI,CAACuD,eAAe,CAACjD,KAAK,CAACqG,cAAc,CAAC,SAAS,CAAC;EACpD,MAAA;EACF,IAAA;EAEA,IAAA,IAAI,CAACpD,eAAe,CAACjD,KAAK,CAACiC,OAAO,GAAG,MAAM;EAC7C,EAAA;EAEA2B,EAAAA,kBAAkBA,CAACnH,OAAO,GAAG,IAAI,CAAC8B,QAAQ,EAAE;EAC1C,IAAA,KAAK,MAAMe,MAAM,IAAI7C,OAAO,EAAE;QAC5B,IAAIsE,KAAK,CAACC,OAAO,CAAC1B,MAAM,CAAC7C,OAAO,CAAC,EAAE;EACjC,QAAA,IAAI,CAACmH,kBAAkB,CAACtE,MAAM,CAAC7C,OAAO,CAAC;EACvC,QAAA;EACF,MAAA;QAEA,IAAI6C,MAAM,CAAC+D,QAAQ,EAAE;EACnB,QAAA,IAAI,CAACP,aAAa,CAACxD,MAAM,CAAC;EAC5B,MAAA;EACF,IAAA;EACF,EAAA;EAEAmB,EAAAA,kBAAkBA,GAAG;MACnB,MAAMhE,OAAO,GAAG0J,cAAc,CAACG,IAAI,CAAChL,eAAe,EAAE,IAAI,CAAC+C,KAAK,CAAC;MAChE,IAAIkI,cAAc,GAAG,CAAC;EAEtB,IAAA,KAAK,MAAMjH,MAAM,IAAI7C,OAAO,EAAE;EAC5B;EACA,MAAA,IAAI6C,MAAM,CAACsG,WAAW,CAACpG,WAAW,EAAE,CAACgH,OAAO,CAAC,IAAI,CAAC9H,OAAO,CAAC,KAAK,EAAE,EAAE;EACjEY,QAAAA,MAAM,CAACU,KAAK,CAACiC,OAAO,GAAG,MAAM;EAC/B,MAAA,CAAC,MAAM;EACL,QAAA,IAAI,IAAI,CAACnE,OAAO,CAAC1B,wBAAwB,IAAI,CAAC,IAAI,CAAC0B,OAAO,CAAClB,eAAe,EAAE;YAC1E0C,MAAM,CAACuB,SAAS,GAAG,IAAI,CAACW,gBAAgB,CAAClC,MAAM,CAACsG,WAAW,CAAC;EAC9D,QAAA;EAEAtG,QAAAA,MAAM,CAACU,KAAK,CAACqG,cAAc,CAAC,SAAS,CAAC;EACtCE,QAAAA,cAAc,EAAE;EAClB,MAAA;EAEA,MAAA,MAAMd,QAAQ,GAAGnG,MAAM,CAACgD,OAAO,CAACjH,iBAAiB,CAAC;EAClD,MAAA,IAAIoK,QAAQ,EAAE;EACZ;UACA,IAAIU,cAAc,CAACM,QAAQ,CAAChB,QAAQ,EAAEnK,eAAe,CAAC,CAAC+D,MAAM,CAAC3B,OAAO,IAAI,IAAI,CAACoE,UAAU,CAACpE,OAAO,CAAC,CAAC,CAACgC,MAAM,GAAG,CAAC,EAAE;EAC7G+F,UAAAA,QAAQ,CAACzF,KAAK,CAACqG,cAAc,CAAC,SAAS,CAAC;EAC1C,QAAA,CAAC,MAAM;EACLZ,UAAAA,QAAQ,CAACzF,KAAK,CAACiC,OAAO,GAAG,MAAM;EACjC,QAAA;EACF,MAAA;EACF,IAAA;MAEA,IAAIsE,cAAc,GAAG,CAAC,EAAE;QACtB,IAAIJ,cAAc,CAACC,OAAO,CAAC5K,sBAAsB,EAAE,IAAI,CAAC6C,KAAK,CAAC,EAAE;EAC9D8H,QAAAA,cAAc,CAACC,OAAO,CAAC5K,sBAAsB,EAAE,IAAI,CAAC6C,KAAK,CAAC,CAACgC,MAAM,EAAE;EACrE,MAAA;EAEA,MAAA;EACF,IAAA;MAEA,IAAIkG,cAAc,KAAK,CAAC,EAAE;EACxB,MAAA,IAAI,IAAI,CAACzI,OAAO,CAACZ,oBAAoB,EAAE;EACrC,QAAA,MAAML,WAAW,GAAGkH,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACjDnH,QAAAA,WAAW,CAACgD,SAAS,CAACC,GAAG,CAAC/E,wBAAwB,CAAC;EACnD8B,QAAAA,WAAW,CAACgE,SAAS,GAAG,IAAI,CAAC/C,OAAO,CAACZ,oBAAoB;UAEzD,IAAI,CAACiJ,cAAc,CAACC,OAAO,CAAC5K,sBAAsB,EAAE,IAAI,CAAC6C,KAAK,CAAC,EAAE;EAC/D8H,UAAAA,cAAc,CAACC,OAAO,CAAC7K,gBAAgB,EAAE,IAAI,CAAC8C,KAAK,CAAC,CAACiG,MAAM,CAACzH,WAAW,CAAC;EAC1E,QAAA;EAEA,QAAA;EACF,MAAA;QAEA,IAAI,CAACqC,IAAI,EAAE;EACb,IAAA;EACF,EAAA;EAEAwD,EAAAA,eAAeA,CAAC;MAAEH,GAAG;EAAEF,IAAAA;EAAO,GAAC,EAAE;MAC/B,MAAMqE,KAAK,GAAGP,cAAc,CAACG,IAAI,CAAC7K,sBAAsB,EAAE,IAAI,CAAC4C,KAAK,CAAC,CAACgB,MAAM,CAAC3B,OAAO,IAAIiJ,kBAAS,CAACjJ,OAAO,CAAC,CAAC;EAE3G,IAAA,IAAI,CAACgJ,KAAK,CAAChH,MAAM,EAAE;EACjB,MAAA;EACF,IAAA;;EAEA;EACA;MACAkH,6BAAoB,CAACF,KAAK,EAAErE,MAAM,EAAEE,GAAG,KAAK1J,cAAc,EAAE,CAAC6N,KAAK,CAACjH,QAAQ,CAAC4C,MAAM,CAAC,CAAC,CAACG,KAAK,EAAE;EAC9F,EAAA;IAEA5B,iBAAiBA,CAACjD,MAAM,EAAE;EACxB,IAAA,IAAIA,MAAM,CAACzB,SAAS,KAAK,IAAI,EAAE;EAC7ByB,MAAAA,MAAM,CAACzB,SAAS,GAAG6H,QAAQ,CAAC8C,IAAI;EAClC,IAAA;EAEA,IAAA,IAAI,OAAOlJ,MAAM,CAACzB,SAAS,KAAK,QAAQ,IAAI,OAAOyB,MAAM,CAACzB,SAAS,KAAK,QAAQ,EAAE;QAChFyB,MAAM,CAACzB,SAAS,GAAG4K,mBAAU,CAACnJ,MAAM,CAACzB,SAAS,CAAC;EACjD,IAAA;EAEA,IAAA,IAAI,OAAOyB,MAAM,CAAClB,OAAO,KAAK,QAAQ,EAAE;EACtCkB,MAAAA,MAAM,CAAClB,OAAO,GAAGkB,MAAM,CAAClB,OAAO,CAAC8E,KAAK,CAAC,MAAM,CAAC,CAACwF,GAAG,CAACxD,MAAM,CAAC;EAC3D,IAAA;EAEA,IAAA,IAAI,OAAO5F,MAAM,CAACV,MAAM,KAAK,QAAQ,EAAE;EACrCU,MAAAA,MAAM,CAACV,MAAM,GAAGU,MAAM,CAACV,MAAM,CAACsE,KAAK,CAAC,MAAM,CAAC,CAACwF,GAAG,CAACxD,MAAM,CAAC;EACzD,IAAA;EAEA,IAAA,OAAO5F,MAAM;EACf,EAAA;;EAEA;;EAEA,EAAA,OAAOqJ,qBAAqBA,CAACtJ,OAAO,EAAEC,MAAM,EAAE;MAC5C,MAAMsJ,IAAI,GAAG1J,YAAY,CAAC2J,mBAAmB,CAACxJ,OAAO,EAAEC,MAAM,CAAC;EAE9D,IAAA,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;EAC9B,MAAA,IAAI,OAAOsJ,IAAI,CAACtJ,MAAM,CAAC,KAAK,WAAW,EAAE;EACvC,QAAA,MAAM,IAAIiH,SAAS,CAAC,CAAA,iBAAA,EAAoBjH,MAAM,GAAG,CAAC;EACpD,MAAA;EAEAsJ,MAAAA,IAAI,CAACtJ,MAAM,CAAC,EAAE;EAChB,IAAA;EACF,EAAA;IAEA,OAAOwJ,eAAeA,CAACxJ,MAAM,EAAE;EAC7B,IAAA,OAAO,IAAI,CAACyJ,IAAI,CAAC,YAAY;EAC3B7J,MAAAA,YAAY,CAACyJ,qBAAqB,CAAC,IAAI,EAAErJ,MAAM,CAAC;EAClD,IAAA,CAAC,CAAC;EACJ,EAAA;IAEA,OAAO0J,UAAUA,CAACjF,KAAK,EAAE;EACvB,IAAA,IAAIA,KAAK,CAACkF,MAAM,KAAKnO,kBAAkB,IAAKiJ,KAAK,CAACsC,IAAI,KAAK,OAAO,IAAItC,KAAK,CAACG,GAAG,KAAKrJ,OAAQ,EAAE;EAC5F,MAAA;EACF,IAAA;EAEA,IAAA,MAAMqO,WAAW,GAAGpB,cAAc,CAACG,IAAI,CAACnL,0BAA0B,CAAC;EAEnE,IAAA,KAAK,MAAM6D,MAAM,IAAIuI,WAAW,EAAE;EAChC,MAAA,MAAMC,OAAO,GAAGjK,YAAY,CAACkK,WAAW,CAACzI,MAAM,CAAC;QAEhD,IAAI,CAACwI,OAAO,EAAE;EACZ,QAAA;EACF,MAAA;EAEA,MAAA,MAAME,YAAY,GAAGtF,KAAK,CAACsF,YAAY,EAAE;QAEzC,IACEA,YAAY,CAACjI,QAAQ,CAAC+H,OAAO,CAACzI,QAAQ,CAAC,EACvC;EACA,QAAA;EACF,MAAA;EAEA,OAAsB;UAAE4I,aAAa,EAAEH,OAAO,CAACzI;;EAE/C,MAAA,IAAIqD,KAAK,CAACsC,IAAI,KAAK,OAAO,EAAE;QAI5B8C,OAAO,CAACtI,IAAI,EAAE;EACdsI,MAAAA,OAAO,CAACvK,MAAM,CAAC,EAAE,CAAC;EAClB,MAAA,IAAIuK,OAAO,CAAC1J,OAAO,CAACjC,uBAAuB,IAAI2L,OAAO,CAAClJ,SAAS,CAACoB,MAAM,KAAK,CAAC,EAAE;EAC7E8H,QAAAA,OAAO,CAACvJ,aAAa,CAACZ,KAAK,GAAG,EAAE;EAClC,MAAA;EACF,IAAA;EACF,EAAA;EACF;;EAEA;EACA;EACA;;EAEAsC,YAAY,CAACwC,EAAE,CAACJ,MAAM,EAAE/H,mBAAmB,EAAE,MAAM;IACjD,KAAK,MAAMoK,YAAY,IAAI+B,cAAc,CAACG,IAAI,CAACpL,oBAAoB,CAAC,EAAE;EACpEqC,IAAAA,YAAY,CAACyJ,qBAAqB,CAAC5C,YAAY,CAAC;EAClD,EAAA;EACF,CAAC,CAAC;EACFzE,YAAY,CAACwC,EAAE,CAAC4B,QAAQ,EAAEjK,oBAAoB,EAAEyD,YAAY,CAAC8J,UAAU,CAAC;EACxE1H,YAAY,CAACwC,EAAE,CAAC4B,QAAQ,EAAEhK,oBAAoB,EAAEwD,YAAY,CAAC8J,UAAU,CAAC;;EAExE;EACA;EACA;;AAEAO,6BAAkB,CAACrK,YAAY,CAAC;;;;;;;;"}