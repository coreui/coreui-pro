{"version":3,"sources":["../../src/dom/polyfill.js"],"names":["getUID","Element","prototype","matches","closest","find","querySelectorAll","findOne","querySelector","createCustomEvent","eventName","params","cEvent","CustomEvent","window","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","workingDefaultPrevented","e","initEvent","preventDefault","defaultPrevented","origPreventDefault","Event","call","Object","defineProperty","get","configurable","defaultPreventedPreservedOnDispatch","element","createElement","addEventListener","dispatchEvent","msMatchesSelector","webkitMatchesSelector","selector","parentElement","parentNode","nodeType","scopeSelectorRegex","supportScopeQuery","error","test","hasId","Boolean","id","nodeList","replace","removeAttribute"],"mappings":"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","sourcesContent":["/* istanbul ignore file */\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): dom/polyfill.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { getUID } from '../util/index'\n\nlet { matches, closest } = Element.prototype\nlet find = Element.prototype.querySelectorAll\nlet findOne = Element.prototype.querySelector\nlet createCustomEvent = (eventName, params) => {\n  const cEvent = new CustomEvent(eventName, params)\n\n  return cEvent\n}\n\nif (typeof window.CustomEvent !== 'function') {\n  createCustomEvent = (eventName, params) => {\n    params = params || { bubbles: false, cancelable: false, detail: null }\n\n    const evt = document.createEvent('CustomEvent')\n\n    evt.initCustomEvent(eventName, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n}\n\nconst workingDefaultPrevented = (() => {\n  const e = document.createEvent('CustomEvent')\n\n  e.initEvent('Bootstrap', true, true)\n  e.preventDefault()\n  return e.defaultPrevented\n})()\n\nif (!workingDefaultPrevented) {\n  const origPreventDefault = Event.prototype.preventDefault\n\n  Event.prototype.preventDefault = function () {\n    if (!this.cancelable) {\n      return\n    }\n\n    origPreventDefault.call(this)\n    Object.defineProperty(this, 'defaultPrevented', {\n      get() {\n        return true\n      },\n      configurable: true\n    })\n  }\n}\n\n// MSEdge resets defaultPrevented flag upon dispatchEvent call if at least one listener is attached\nconst defaultPreventedPreservedOnDispatch = (() => {\n  const e = createCustomEvent('Bootstrap', {\n    cancelable: true\n  })\n\n  const element = document.createElement('div')\n  element.addEventListener('Bootstrap', () => null)\n\n  e.preventDefault()\n  element.dispatchEvent(e)\n  return e.defaultPrevented\n})()\n\nif (!matches) {\n  matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector\n}\n\nif (!closest) {\n  closest = function (selector) {\n    let element = this\n\n    do {\n      if (matches.call(element, selector)) {\n        return element\n      }\n\n      element = element.parentElement || element.parentNode\n    } while (element !== null && element.nodeType === 1)\n\n    return null\n  }\n}\n\nconst scopeSelectorRegex = /:scope\\b/\nconst supportScopeQuery = (() => {\n  const element = document.createElement('div')\n\n  try {\n    element.querySelectorAll(':scope *')\n  } catch (error) {\n    return false\n  }\n\n  return true\n})()\n\nif (!supportScopeQuery) {\n  find = function (selector) {\n    if (!scopeSelectorRegex.test(selector)) {\n      return this.querySelectorAll(selector)\n    }\n\n    const hasId = Boolean(this.id)\n\n    if (!hasId) {\n      this.id = getUID('scope')\n    }\n\n    let nodeList = null\n    try {\n      selector = selector.replace(scopeSelectorRegex, `#${this.id}`)\n      nodeList = this.querySelectorAll(selector)\n    } finally {\n      if (!hasId) {\n        this.removeAttribute('id')\n      }\n    }\n\n    return nodeList\n  }\n\n  findOne = function (selector) {\n    if (!scopeSelectorRegex.test(selector)) {\n      return this.querySelector(selector)\n    }\n\n    const matches = find.call(this, selector)\n\n    if (typeof matches[0] !== 'undefined') {\n      return matches[0]\n    }\n\n    return null\n  }\n}\n\nexport {\n  createCustomEvent,\n  find,\n  findOne,\n  matches,\n  closest,\n  defaultPreventedPreservedOnDispatch\n}\n"],"file":"polyfill.js"}