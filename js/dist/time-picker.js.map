{"version":3,"file":"time-picker.js","sources":["../src/time-picker.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO time-picker.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  defineJQueryPlugin, getElement, getNextActiveElement, isRTL\n} from './util/index.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  convert12hTo24h,\n  convert24hTo12h,\n  getAmPm,\n  getLocalizedTimePartials,\n  isAmPm,\n  isValidTime\n} from './util/time.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'time-picker'\nconst DATA_KEY = 'coreui.time-picker'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst END_KEY = 'End'\nconst ENTER_KEY = 'Enter'\nconst ESCAPE_KEY = 'Escape'\nconst HOME_KEY = 'Home'\nconst SPACE_KEY = 'Space'\nconst TAB_KEY = 'Tab'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst RIGHT_MOUSE_BUTTON = 2\n\nconst EVENT_CLICK = `click${EVENT_KEY}`\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_INPUT = 'input'\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_SUBMIT = 'submit'\nconst EVENT_TIME_CHANGE = `timeChange${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_BODY = 'time-picker-body'\nconst CLASS_NAME_CLEANER = 'time-picker-cleaner'\nconst CLASS_NAME_DISABLED = 'disabled'\nconst CLASS_NAME_DROPDOWN = 'time-picker-dropdown'\nconst CLASS_NAME_FOOTER = 'time-picker-footer'\nconst CLASS_NAME_INDICATOR = 'time-picker-indicator'\nconst CLASS_NAME_INLINE_ICON = 'time-picker-inline-icon'\nconst CLASS_NAME_INLINE_SELECT = 'time-picker-inline-select'\nconst CLASS_NAME_INPUT = 'time-picker-input'\nconst CLASS_NAME_INPUT_GROUP = 'time-picker-input-group'\nconst CLASS_NAME_IS_INVALID = 'is-invalid'\nconst CLASS_NAME_IS_VALID = 'is-valid'\nconst CLASS_NAME_ROLL = 'time-picker-roll'\nconst CLASS_NAME_ROLL_COL = 'time-picker-roll-col'\nconst CLASS_NAME_ROLL_CELL = 'time-picker-roll-cell'\nconst CLASS_NAME_SELECTED = 'selected'\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_TIME_PICKER = 'time-picker'\nconst CLASS_NAME_WAS_VALIDATED = 'was-validated'\n\nconst SELECTOR_DATA_TOGGLE =\n  '[data-coreui-toggle=\"time-picker\"]:not(.disabled):not(:disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE}.${CLASS_NAME_SHOW}`\nconst SELECTOR_ROLL_CELL = '.time-picker-roll-cell'\nconst SELECTOR_ROLL_CELL_FOCUSABLE = '.time-picker-roll-cell[tabindex=\"0\"]'\nconst SELECTOR_ROLL_COL = '.time-picker-roll-col'\nconst SELECTOR_WAS_VALIDATED = 'form.was-validated'\n\nconst Default = {\n  ariaSelectHoursLabel: 'Select hours',\n  ariaSelectMeridiemLabel: 'Select AM/PM',\n  ariaSelectMinutesLabel: 'Select minutes',\n  ariaSelectSecondsLabel: 'Select seconds',\n  cancelButton: 'Cancel',\n  cancelButtonClasses: ['btn', 'btn-sm', 'btn-ghost-primary'],\n  cleaner: true,\n  confirmButton: 'OK',\n  confirmButtonClasses: ['btn', 'btn-sm', 'btn-primary'],\n  container: false,\n  disabled: false,\n  footer: true,\n  hours: null,\n  indicator: true,\n  inputOnChangeDelay: 750,\n  inputReadOnly: false,\n  invalid: false,\n  locale: 'default',\n  minutes: true,\n  name: null,\n  placeholder: 'Select time',\n  required: true,\n  seconds: true,\n  size: null,\n  time: null,\n  type: 'dropdown',\n  valid: false,\n  variant: 'roll'\n}\n\nconst DefaultType = {\n  ariaSelectHoursLabel: 'string',\n  ariaSelectMeridiemLabel: 'string',\n  ariaSelectMinutesLabel: 'string',\n  ariaSelectSecondsLabel: 'string',\n  cancelButton: '(boolean|string)',\n  cancelButtonClasses: '(array|string)',\n  cleaner: 'boolean',\n  confirmButton: '(boolean|string)',\n  confirmButtonClasses: '(array|string)',\n  container: '(string|element|boolean)',\n  disabled: 'boolean',\n  footer: 'boolean',\n  hours: '(array|function|null)',\n  indicator: 'boolean',\n  inputOnChangeDelay: 'number',\n  inputReadOnly: 'boolean',\n  invalid: 'boolean',\n  locale: 'string',\n  minutes: '(array|boolean|function)',\n  name: '(string|null)',\n  placeholder: 'string',\n  required: 'boolean',\n  seconds: '(array|boolean|function)',\n  size: '(string|null)',\n  time: '(date|string|null)',\n  type: 'string',\n  valid: 'boolean',\n  variant: 'string'\n}\n\n/**\n * Class definition\n */\n\nclass TimePicker extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._date = this._convertStringToDate(this._config.time)\n    this._initialDate = null\n    this._ampm = this._date ?\n      getAmPm(new Date(this._date), this._config.locale) :\n      'am'\n    this._popper = null\n\n    this._indicatorElement = null\n    this._input = null\n    this._menu = null\n    this._timePickerBody = null\n    this._inputTimeout = null\n\n    this._localizedTimePartials = getLocalizedTimePartials(\n      this._config.locale,\n      this.ampm,\n      this._config.hours,\n      this._config.minutes,\n      this._config.seconds\n    )\n\n    this._createTimePicker()\n    this._createTimePickerSelection()\n    this._addEventListeners()\n    this._setUpSelects()\n\n    this._focustrap = this._initializeFocusTrap()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (this._config.disabled || this._isShown()) {\n      return\n    }\n\n    this._initialDate = new Date(this._date)\n\n    EventHandler.trigger(this._element, EVENT_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', true)\n\n    if (this._config.container) {\n      this._menu.classList.add(CLASS_NAME_SHOW)\n    }\n\n    this._focustrap.activate()\n    EventHandler.trigger(this._element, EVENT_SHOWN)\n\n    this._createPopper()\n  }\n\n  hide() {\n    EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', 'false')\n\n    if (this._config.container) {\n      this._menu.classList.remove(CLASS_NAME_SHOW)\n    }\n\n    this._focustrap.deactivate()\n    EventHandler.trigger(this._element, EVENT_HIDDEN)\n  }\n\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    if (this._inputTimeout) {\n      clearTimeout(this._inputTimeout)\n    }\n\n    this._focustrap.deactivate()\n\n    super.dispose()\n  }\n\n  cancel() {\n    this._date = this._initialDate\n    this._setInputValue(this._initialDate || '')\n    this._timePickerBody.innerHTML = ''\n    this.hide()\n    this._createTimePickerSelection()\n    this._emitChangeEvent(this._date)\n  }\n\n  clear() {\n    this._date = null\n    this._setInputValue('')\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n    this._emitChangeEvent(this._date)\n  }\n\n  reset() {\n    this._date = this._convertStringToDate(this._config.time)\n    this._setInputValue(this._config.time)\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n    this._emitChangeEvent(this._date)\n  }\n\n  update(config) {\n    this._config = this._getConfig(config)\n    this._date = this._convertStringToDate(this._config.time)\n    this._ampm = this._date ?\n      getAmPm(new Date(this._date), this._config.locale) :\n      'am'\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n    this._setUpSelects()\n  }\n\n  // Private\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      additionalElement: this._config.container ? this._menu : null,\n      trapElement: this._element\n    })\n  }\n\n  _moveFocusToNextColumn(event) {\n    if (!this._timePickerBody) {\n      return\n    }\n\n    const { target } = event\n    const columnElement = target.parentElement\n\n    const columns = SelectorEngine.find(SELECTOR_ROLL_COL, this._timePickerBody)\n    const currentColumnIndex = columns.indexOf(columnElement)\n\n    if (currentColumnIndex < columns.length - 1) {\n      const firstFocusableCell = SelectorEngine.findOne(SELECTOR_ROLL_CELL_FOCUSABLE, columns[currentColumnIndex + 1])\n\n      firstFocusableCell.focus()\n    }\n  }\n\n  _moveFocusToPreviousColumn(event) {\n    if (!this._timePickerBody) {\n      return\n    }\n\n    const { target } = event\n    const columnElement = target.parentElement\n\n    const columns = SelectorEngine.find(SELECTOR_ROLL_COL, this._timePickerBody)\n    const currentColumnIndex = columns.indexOf(columnElement)\n\n    if (currentColumnIndex > 0) {\n      const firstFocusableCell = SelectorEngine.findOne(SELECTOR_ROLL_CELL_FOCUSABLE, columns[currentColumnIndex - 1])\n\n      firstFocusableCell.focus()\n    }\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._indicatorElement, EVENT_CLICK, () => {\n      if (!this._config.disabled) {\n        this.toggle()\n      }\n    })\n\n    EventHandler.on(this._indicatorElement, EVENT_KEYDOWN, event => {\n      if (!this._config.disabled && event.key === ENTER_KEY) {\n        this.toggle()\n      }\n    })\n\n    EventHandler.on(this._togglerElement, EVENT_CLICK, event => {\n      if (!this._config.disabled && event.target !== this._indicatorElement) {\n        this.show()\n\n        if (this._config.variant === 'roll') {\n          this._setUpRolls(true)\n        }\n\n        if (this._config.variant === 'select') {\n          this._setUpSelects()\n        }\n      }\n    })\n\n    if (this._config.variant === 'roll') {\n      EventHandler.on(this._timePickerBody, EVENT_FOCUSOUT, SELECTOR_ROLL_COL, event => {\n        if (!event.delegateTarget.contains(event.relatedTarget)) {\n          this._setUpRolls(false)\n        }\n      })\n\n      EventHandler.on(this._timePickerBody, EVENT_KEYDOWN, SELECTOR_ROLL_CELL, event => {\n        if (event.key === ARROW_DOWN_KEY || event.key === ARROW_UP_KEY) {\n          event.preventDefault()\n          const { key, target } = event\n          const items = SelectorEngine.find(SELECTOR_ROLL_CELL, target.parentElement)\n\n          if (!items.length) {\n            return\n          }\n\n          const nextElement = getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target))\n          if (nextElement) {\n            nextElement.focus()\n          }\n\n          return\n        }\n\n        if (event.key === HOME_KEY || event.key === END_KEY) {\n          event.preventDefault()\n          const { key, target } = event\n          const items = SelectorEngine.find(SELECTOR_ROLL_CELL, target.parentElement)\n\n          if (!items.length) {\n            return\n          }\n\n          const index = key === HOME_KEY ? 0 : items.length - 1\n          items[index].focus()\n          return\n        }\n\n        if (event.key === ARROW_LEFT_KEY || event.key === ARROW_RIGHT_KEY) {\n          event.preventDefault()\n          const { key } = event\n          const isRtl = isRTL()\n          const shouldGoLeft = (key === ARROW_LEFT_KEY && !isRtl) || (key === ARROW_RIGHT_KEY && isRtl)\n          if (shouldGoLeft) {\n            this._moveFocusToPreviousColumn(event)\n          } else {\n            this._moveFocusToNextColumn(event)\n          }\n        }\n      })\n    }\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => {\n      if (event.key === ESCAPE_KEY) {\n        this.hide()\n      }\n    })\n\n    EventHandler.on(this._element, 'timeChange.coreui.time-picker', () => {\n      if (this._config.variant === 'roll') {\n        this._setUpRolls()\n      }\n\n      if (this._config.variant === 'select') {\n        this._setUpSelects()\n      }\n    })\n\n    EventHandler.on(this._element, 'onCancelClick.coreui.picker', () => {\n      this.cancel()\n    })\n\n    EventHandler.on(this._input, EVENT_INPUT, event => {\n      if (this._inputTimeout) {\n        clearTimeout(this._inputTimeout)\n      }\n\n      this._inputTimeout = setTimeout(() => {\n        if (isValidTime(event.target.value)) {\n          this._date = this._convertStringToDate(event.target.value)\n\n          EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n            timeString: this._date ? this._date.toTimeString() : null,\n            localeTimeString: this._date ? this._date.toLocaleTimeString() : null,\n            date: this._date\n          })\n        }\n      }, this._config.inputOnChangeDelay)\n    })\n\n    if (this._config.type === 'dropdown') {\n      EventHandler.on(this._input.form, EVENT_SUBMIT, () => {\n        if (this._input.form.classList.contains(CLASS_NAME_WAS_VALIDATED)) {\n          if (Number.isNaN(Date.parse(`1970-01-01 ${this._input.value}`))) {\n            return this._element.classList.add(CLASS_NAME_IS_INVALID)\n          }\n\n          if (this._date instanceof Date) {\n            return this._element.classList.add(CLASS_NAME_IS_VALID)\n          }\n\n          this._element.classList.add(CLASS_NAME_IS_INVALID)\n        }\n      })\n    }\n  }\n\n  _createTimePicker() {\n    this._element.classList.add(CLASS_NAME_TIME_PICKER)\n\n    Manipulator.setDataAttribute(\n      this._element,\n      'meridiem',\n      CLASS_NAME_TIME_PICKER\n    )\n\n    if (this._config.size) {\n      this._element.classList.add(`time-picker-${this._config.size}`)\n    }\n\n    this._element.classList.toggle(CLASS_NAME_IS_VALID, this._config.valid)\n    if (this._config.disabled) {\n      this._element.classList.add(CLASS_NAME_DISABLED)\n    }\n\n    this._element.classList.toggle(CLASS_NAME_IS_INVALID, this._config.invalid)\n\n    if (this._config.type === 'dropdown') {\n      this._element.append(this._createTimePickerInputGroup())\n\n      const dropdownEl = document.createElement('div')\n      dropdownEl.classList.add(CLASS_NAME_DROPDOWN)\n\n      dropdownEl.append(this._createTimePickerBody())\n      if (this._config.footer || this._config.timepicker) {\n        dropdownEl.append(this._createTimePickerFooter())\n      }\n\n      const { container } = this._config\n      if (container) {\n        container.append(dropdownEl)\n      } else {\n        this._element.append(dropdownEl)\n      }\n\n      this._menu = dropdownEl\n    }\n\n    if (this._config.type === 'inline') {\n      this._element.append(this._createTimePickerBody())\n    }\n  }\n\n  _createTimePickerInputGroup() {\n    const inputGroupEl = document.createElement('div')\n    inputGroupEl.classList.add(CLASS_NAME_INPUT_GROUP)\n\n    const inputEl = document.createElement('input')\n    inputEl.classList.add(CLASS_NAME_INPUT)\n    inputEl.autocomplete = 'off'\n    inputEl.disabled = this._config.disabled\n    inputEl.placeholder = this._config.placeholder\n    inputEl.readOnly = this._config.inputReadOnly\n    inputEl.required = this._config.required\n    inputEl.type = 'text'\n\n    this._setInputValue(this._date || '', inputEl)\n\n    if (this._config.name || this._element.id) {\n      inputEl.name = this._config.name || `time-picker-${this._element.id}`\n    }\n\n    const events = ['change', 'keyup', 'paste']\n\n    for (const event of events) {\n      inputEl.addEventListener(event, ({ target }) => {\n        if (target.closest(SELECTOR_WAS_VALIDATED)) {\n          if (Number.isNaN(Date.parse(`1970-01-01 ${target.value}`))) {\n            this._element.classList.add(CLASS_NAME_IS_INVALID)\n            this._element.classList.remove(CLASS_NAME_IS_VALID)\n            return\n          }\n\n          if (this._date instanceof Date) {\n            this._element.classList.add(CLASS_NAME_IS_VALID)\n            this._element.classList.remove(CLASS_NAME_IS_INVALID)\n            return\n          }\n\n          this._element.classList.add(CLASS_NAME_IS_INVALID)\n          this._element.classList.remove(CLASS_NAME_IS_VALID)\n        }\n      })\n    }\n\n    inputGroupEl.append(inputEl)\n\n    if (this._config.indicator) {\n      const inputGroupIndicatorEl = document.createElement('div')\n      inputGroupIndicatorEl.classList.add(CLASS_NAME_INDICATOR)\n\n      if (!this._config.disabled) {\n        inputGroupIndicatorEl.tabIndex = 0\n      }\n\n      inputGroupEl.append(inputGroupIndicatorEl)\n\n      this._indicatorElement = inputGroupIndicatorEl\n    }\n\n    if (this._config.cleaner) {\n      const inputGroupCleanerEl = document.createElement('div')\n      inputGroupCleanerEl.classList.add(CLASS_NAME_CLEANER)\n      inputGroupCleanerEl.addEventListener('click', event => {\n        event.stopPropagation()\n        this.clear()\n      })\n\n      inputGroupEl.append(inputGroupCleanerEl)\n    }\n\n    this._input = inputEl\n    this._togglerElement = inputGroupEl\n\n    return inputGroupEl\n  }\n\n  _createTimePickerSelection() {\n    if (this._config.variant === 'roll') {\n      this._createTimePickerRoll()\n    }\n\n    if (this._config.variant === 'select') {\n      this._createTimePickerInlineSelects()\n    }\n  }\n\n  _createTimePickerBody() {\n    const timePickerBodyEl = document.createElement('div')\n    timePickerBodyEl.classList.add(CLASS_NAME_BODY)\n\n    if (this._config.variant === 'roll') {\n      timePickerBodyEl.classList.add(CLASS_NAME_ROLL)\n      timePickerBodyEl.setAttribute('role', 'group')\n    }\n\n    this._timePickerBody = timePickerBodyEl\n\n    return timePickerBodyEl\n  }\n\n  _createTimePickerInlineSelect(className, options, ariaLabel) {\n    const selectEl = document.createElement('select')\n    selectEl.classList.add(CLASS_NAME_INLINE_SELECT, className)\n    selectEl.disabled = this._config.disabled\n    selectEl.setAttribute('aria-label', ariaLabel)\n    selectEl.addEventListener('change', event =>\n      this._handleTimeChange(className, event.target.value)\n    )\n\n    for (const option of options) {\n      const optionEl = document.createElement('option')\n      optionEl.value = option.value\n      optionEl.innerHTML = option.label\n\n      selectEl.append(optionEl)\n    }\n\n    return selectEl\n  }\n\n  _createTimePickerInlineSelects() {\n    const timeSeparatorEl = document.createElement('div')\n    timeSeparatorEl.innerHTML = ':'\n\n    this._timePickerBody.innerHTML = `<span class=\"${CLASS_NAME_INLINE_ICON}\"></span>`\n    this._timePickerBody.append(\n      this._createTimePickerInlineSelect(\n        'hours',\n        this._localizedTimePartials.listOfHours,\n        this._config.ariaSelectHoursLabel\n      )\n    )\n\n    if (this._config.minutes) {\n      this._timePickerBody.append(\n        timeSeparatorEl.cloneNode(true),\n        this._createTimePickerInlineSelect(\n          'minutes',\n          this._localizedTimePartials.listOfMinutes,\n          this._config.ariaSelectMinutesLabel\n        )\n      )\n    }\n\n    if (this._config.seconds) {\n      this._timePickerBody.append(\n        timeSeparatorEl,\n        this._createTimePickerInlineSelect(\n          'seconds',\n          this._localizedTimePartials.listOfSeconds,\n          this._config.ariaSelectSecondsLabel\n        )\n      )\n    }\n\n    if (this._localizedTimePartials.hour12) {\n      this._timePickerBody.append(\n        this._createTimePickerInlineSelect(\n          'meridiem',\n          [\n            { value: 'am', label: 'AM' },\n            { value: 'pm', label: 'PM' }\n          ],\n          this._config.ariaSelectMeridiemLabel\n        )\n      )\n    }\n  }\n\n  _createTimePickerRoll() {\n    this._timePickerBody.append(\n      this._createTimePickerRollCol(\n        this._localizedTimePartials.listOfHours,\n        'hours',\n        this._config.ariaSelectHoursLabel\n      )\n    )\n\n    if (this._config.minutes) {\n      this._timePickerBody.append(\n        this._createTimePickerRollCol(\n          this._localizedTimePartials.listOfMinutes,\n          'minutes',\n          this._config.ariaSelectMinutesLabel\n        )\n      )\n    }\n\n    if (this._config.seconds) {\n      this._timePickerBody.append(\n        this._createTimePickerRollCol(\n          this._localizedTimePartials.listOfSeconds,\n          'seconds',\n          this._config.ariaSelectSecondsLabel\n        )\n      )\n    }\n\n    if (this._localizedTimePartials.hour12) {\n      this._timePickerBody.append(\n        this._createTimePickerRollCol(\n          [\n            { value: 'am', label: 'AM' },\n            { value: 'pm', label: 'PM' }\n          ],\n          'meridiem',\n          this._config.ariaSelectMeridiemLabel\n        )\n      )\n    }\n  }\n\n  _createTimePickerRollCol(options, part, ariaLabel) {\n    const timePickerRollColEl = document.createElement('div')\n    timePickerRollColEl.classList.add(CLASS_NAME_ROLL_COL)\n    timePickerRollColEl.setAttribute('role', 'listbox')\n    timePickerRollColEl.setAttribute('aria-label', ariaLabel)\n\n    for (const [index, option] of options.entries()) {\n      const timePickerRollCellEl = document.createElement('div')\n      timePickerRollCellEl.classList.add(CLASS_NAME_ROLL_CELL)\n\n      timePickerRollCellEl.setAttribute('role', 'option')\n      timePickerRollCellEl.tabIndex = index === 0 ? 0 : -1\n      timePickerRollCellEl.setAttribute('aria-label', option.label.toString())\n      timePickerRollCellEl.setAttribute('aria-selected', 'false')\n\n      timePickerRollCellEl.innerHTML = option.label\n      timePickerRollCellEl.addEventListener('click', () => {\n        this._handleTimeChange(part, option.value)\n      })\n      timePickerRollCellEl.addEventListener('keydown', event => {\n        if (event.code === SPACE_KEY || event.key === ENTER_KEY) {\n          event.preventDefault()\n          this._handleTimeChange(part, option.value)\n          this._moveFocusToNextColumn(event)\n        }\n      })\n\n      Manipulator.setDataAttribute(timePickerRollCellEl, part, option.value)\n\n      timePickerRollColEl.append(timePickerRollCellEl)\n    }\n\n    return timePickerRollColEl\n  }\n\n  _createTimePickerFooter() {\n    const footerEl = document.createElement('div')\n    footerEl.classList.add(CLASS_NAME_FOOTER)\n\n    if (this._config.cancelButton) {\n      const cancelButtonEl = document.createElement('button')\n      cancelButtonEl.classList.add(\n        ...this._getButtonClasses(this._config.cancelButtonClasses)\n      )\n      cancelButtonEl.type = 'button'\n      cancelButtonEl.innerHTML = this._config.cancelButton\n      cancelButtonEl.addEventListener('click', () => {\n        this.cancel()\n      })\n\n      footerEl.append(cancelButtonEl)\n    }\n\n    if (this._config.confirmButton) {\n      const confirmButtonEl = document.createElement('button')\n      confirmButtonEl.classList.add(\n        ...this._getButtonClasses(this._config.confirmButtonClasses)\n      )\n      confirmButtonEl.type = 'button'\n      confirmButtonEl.innerHTML = this._config.confirmButton\n      confirmButtonEl.addEventListener('click', () => {\n        this.hide()\n      })\n\n      footerEl.append(confirmButtonEl)\n    }\n\n    return footerEl\n  }\n\n  _emitChangeEvent(date) {\n    this._input.dispatchEvent(new Event('change'))\n    EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n      timeString: date === null ? null : date.toTimeString(),\n      localeTimeString: date === null ? null : date.toLocaleTimeString(),\n      date\n    })\n  }\n\n  _setUpRolls(initial = false) {\n    const parts = ['hours', 'minutes', 'seconds', 'meridiem']\n\n    for (const part of parts) {\n      const partValue = this._getPartOfTime(part)\n      if (partValue === null) {\n        continue\n      }\n\n      const elements = SelectorEngine.find(`[data-coreui-${part}]`, this._element)\n      const selectedElement = elements.find(element =>\n        partValue === Manipulator.getDataAttribute(element, part)\n      )\n\n      if (selectedElement) {\n        this._selectRollElement(selectedElement, initial)\n      }\n    }\n  }\n\n  _selectRollElement(element, initial = false) {\n    const { parentElement } = element\n\n    const currentSelected = SelectorEngine.findOne(SELECTOR_ROLL_CELL_FOCUSABLE, parentElement)\n    if (currentSelected && currentSelected !== element) {\n      currentSelected.classList.remove(CLASS_NAME_SELECTED)\n      currentSelected.tabIndex = -1\n      currentSelected.setAttribute('aria-selected', 'false')\n    }\n\n    element.classList.add(CLASS_NAME_SELECTED)\n    element.tabIndex = 0\n    element.setAttribute('aria-selected', 'true')\n    this._scrollTo(parentElement, element, initial)\n  }\n\n  _setInputValue(date, input = this._input) {\n    input.value = date instanceof Date ?\n      date.toLocaleTimeString(this._config.locale, {\n        hour12: this._localizedTimePartials.hour12,\n        hour: 'numeric',\n        ...(this._config.minutes && { minute: 'numeric' }),\n        ...(this._config.seconds && { second: 'numeric' })\n      }) :\n      date\n  }\n\n  _setUpSelects() {\n    for (const part of Array.from(['hours', 'minutes', 'seconds', 'meridiem'])) {\n      for (const element of SelectorEngine.find(\n        `select.${part}`,\n        this._element\n      )) {\n        if (this._getPartOfTime(part)) {\n          element.value = this._getPartOfTime(part)\n        }\n      }\n    }\n  }\n\n  _updateTimePicker() {\n    this._element.innerHTML = ''\n    this._createTimePicker()\n  }\n\n  _convertStringToDate(date) {\n    return date ?\n      (date instanceof Date ?\n        date :\n        new Date(`1970-01-01 ${date}`)) :\n      null\n  }\n\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError(\n        'CoreUI\\'s time picker require Popper (https://popper.js.org)'\n      )\n    }\n\n    const popperConfig = {\n      modifiers: [\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: 'clippingParents'\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: [0, 2]\n          }\n        }\n      ],\n      placement: isRTL() ? 'bottom-end' : 'bottom-start'\n    }\n\n    this._popper = Popper.createPopper(\n      this._togglerElement,\n      this._menu,\n      popperConfig\n    )\n  }\n\n  _getButtonClasses(classes) {\n    if (typeof classes === 'string') {\n      return classes.split(' ')\n    }\n\n    return classes\n  }\n\n  _getPartOfTime(part) {\n    if (this._date === null) {\n      return null\n    }\n\n    if (part === 'hours') {\n      return isAmPm(this._config.locale) ?\n        convert24hTo12h(this._date.getHours()) :\n        this._date.getHours()\n    }\n\n    if (part === 'minutes') {\n      return this._date.getMinutes()\n    }\n\n    if (part === 'seconds') {\n      return this._date.getSeconds()\n    }\n\n    if (part === 'meridiem') {\n      return getAmPm(new Date(this._date), this._config.locale)\n    }\n  }\n\n  _handleTimeChange = (set, value) => {\n    const _date = this._date || new Date('1970-01-01')\n\n    if (set === 'meridiem') {\n      const currentHours = _date.getHours()\n\n      if (value === 'am') {\n        this._ampm = 'am'\n        // Convert PM hours (12-23) to AM hours (0-11)\n        if (currentHours >= 12) {\n          _date.setHours(currentHours - 12)\n        }\n      }\n\n      if (value === 'pm') {\n        this._ampm = 'pm'\n        // Convert AM hours (0-11) to PM hours (12-23)\n        if (currentHours < 12) {\n          _date.setHours(currentHours + 12)\n        }\n      }\n    }\n\n    if (set === 'hours') {\n      if (isAmPm(this._config.locale)) {\n        _date.setHours(convert12hTo24h(this._ampm, Number.parseInt(value, 10)))\n      } else {\n        _date.setHours(Number.parseInt(value, 10))\n      }\n    }\n\n    if (set === 'minutes') {\n      _date.setMinutes(Number.parseInt(value, 10))\n    }\n\n    if (set === 'seconds') {\n      _date.setSeconds(Number.parseInt(value, 10))\n    }\n\n    this._date = new Date(_date)\n\n    if (this._input) {\n      this._setInputValue(_date)\n      this._input.dispatchEvent(new Event('change'))\n    }\n\n    EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n      timeString: _date.toTimeString(),\n      localeTimeString: _date.toLocaleTimeString(),\n      date: _date\n    })\n  }\n\n  _isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _scrollTo(parent, children, initial = false) {\n    parent.scrollTo({\n      top: children.offsetTop,\n      behavior: initial ? 'instant' : 'smooth'\n    })\n  }\n\n  _configAfterMerge(config) {\n    if (config.container === 'dropdown' || config.container === 'inline') {\n      config.type = config.container\n    }\n\n    if (config.container === true) {\n      config.container = document.body\n    }\n\n    if (\n      typeof config.container === 'object' ||\n      (typeof config.container === 'string' &&\n        config.container === 'dropdown' &&\n        config.container === 'inline')\n    ) {\n      config.container = getElement(config.container)\n    }\n\n    return config\n  }\n\n  // Static\n  static timePickerInterface(element, config) {\n    const data = TimePicker.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = TimePicker.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (\n        data[config] === undefined ||\n        config.startsWith('_') ||\n        config === 'constructor'\n      ) {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n\n  static clearMenus(event) {\n    if (\n      event.button === RIGHT_MOUSE_BUTTON ||\n      (event.type === 'keyup' && event.key !== TAB_KEY)\n    ) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = TimePicker.getInstance(toggle)\n\n      if (!context) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n\n      if (composedPath.includes(context._element)) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context.hide()\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const timePickers = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = timePickers.length; i < len; i++) {\n    TimePicker.timePickerInterface(timePickers[i])\n  }\n})\nEventHandler.on(document, EVENT_CLICK_DATA_API, TimePicker.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, TimePicker.clearMenus)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(TimePicker)\n\nexport default TimePicker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","END_KEY","ENTER_KEY","ESCAPE_KEY","HOME_KEY","SPACE_KEY","TAB_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","RIGHT_MOUSE_BUTTON","EVENT_CLICK","EVENT_FOCUSOUT","EVENT_HIDE","EVENT_HIDDEN","EVENT_INPUT","EVENT_KEYDOWN","EVENT_SHOW","EVENT_SHOWN","EVENT_SUBMIT","EVENT_TIME_CHANGE","EVENT_CLICK_DATA_API","EVENT_KEYUP_DATA_API","EVENT_LOAD_DATA_API","CLASS_NAME_BODY","CLASS_NAME_CLEANER","CLASS_NAME_DISABLED","CLASS_NAME_DROPDOWN","CLASS_NAME_FOOTER","CLASS_NAME_INDICATOR","CLASS_NAME_INLINE_ICON","CLASS_NAME_INLINE_SELECT","CLASS_NAME_INPUT","CLASS_NAME_INPUT_GROUP","CLASS_NAME_IS_INVALID","CLASS_NAME_IS_VALID","CLASS_NAME_ROLL","CLASS_NAME_ROLL_COL","CLASS_NAME_ROLL_CELL","CLASS_NAME_SELECTED","CLASS_NAME_SHOW","CLASS_NAME_TIME_PICKER","CLASS_NAME_WAS_VALIDATED","SELECTOR_DATA_TOGGLE","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_ROLL_CELL","SELECTOR_ROLL_CELL_FOCUSABLE","SELECTOR_ROLL_COL","SELECTOR_WAS_VALIDATED","Default","ariaSelectHoursLabel","ariaSelectMeridiemLabel","ariaSelectMinutesLabel","ariaSelectSecondsLabel","cancelButton","cancelButtonClasses","cleaner","confirmButton","confirmButtonClasses","container","disabled","footer","hours","indicator","inputOnChangeDelay","inputReadOnly","invalid","locale","minutes","name","placeholder","required","seconds","size","time","type","valid","variant","DefaultType","TimePicker","BaseComponent","constructor","element","config","_handleTimeChange","set","value","_date","Date","currentHours","getHours","_ampm","setHours","isAmPm","_config","convert12hTo24h","Number","parseInt","setMinutes","setSeconds","_input","_setInputValue","dispatchEvent","Event","EventHandler","trigger","_element","timeString","toTimeString","localeTimeString","toLocaleTimeString","date","_getConfig","_convertStringToDate","_initialDate","getAmPm","_popper","_indicatorElement","_menu","_timePickerBody","_inputTimeout","_localizedTimePartials","getLocalizedTimePartials","ampm","_createTimePicker","_createTimePickerSelection","_addEventListeners","_setUpSelects","_focustrap","_initializeFocusTrap","toggle","_isShown","hide","show","classList","add","setAttribute","activate","_createPopper","destroy","remove","deactivate","dispose","clearTimeout","cancel","innerHTML","_emitChangeEvent","clear","reset","update","FocusTrap","additionalElement","trapElement","_moveFocusToNextColumn","event","target","columnElement","parentElement","columns","SelectorEngine","find","currentColumnIndex","indexOf","length","firstFocusableCell","findOne","focus","_moveFocusToPreviousColumn","on","key","_togglerElement","_setUpRolls","delegateTarget","contains","relatedTarget","preventDefault","items","nextElement","getNextActiveElement","includes","index","isRtl","isRTL","shouldGoLeft","setTimeout","isValidTime","form","isNaN","parse","Manipulator","setDataAttribute","append","_createTimePickerInputGroup","dropdownEl","document","createElement","_createTimePickerBody","timepicker","_createTimePickerFooter","inputGroupEl","inputEl","autocomplete","readOnly","id","events","addEventListener","closest","inputGroupIndicatorEl","tabIndex","inputGroupCleanerEl","stopPropagation","_createTimePickerRoll","_createTimePickerInlineSelects","timePickerBodyEl","_createTimePickerInlineSelect","className","options","ariaLabel","selectEl","option","optionEl","label","timeSeparatorEl","listOfHours","cloneNode","listOfMinutes","listOfSeconds","hour12","_createTimePickerRollCol","part","timePickerRollColEl","entries","timePickerRollCellEl","toString","code","footerEl","cancelButtonEl","_getButtonClasses","confirmButtonEl","initial","parts","partValue","_getPartOfTime","elements","selectedElement","getDataAttribute","_selectRollElement","currentSelected","_scrollTo","input","hour","minute","second","Array","from","_updateTimePicker","Popper","TypeError","popperConfig","modifiers","boundary","offset","placement","createPopper","classes","split","convert24hTo12h","getMinutes","getSeconds","parent","children","scrollTo","top","offsetTop","behavior","_configAfterMerge","body","getElement","timePickerInterface","data","getOrCreateInstance","jQueryInterface","each","undefined","startsWith","clearMenus","button","openToggles","context","getInstance","composedPath","window","timePickers","i","len","defineJQueryPlugin"],"mappings":"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"}