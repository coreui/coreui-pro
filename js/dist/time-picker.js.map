{"version":3,"file":"time-picker.js","sources":["../src/time-picker.js"],"sourcesContent":["\n/* eslint-disable indent */\n/**\n * --------------------------------------------------------------------------\n * CoreUI PRO time-picker.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport Picker from './picker.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin } from './util/index.js'\nimport {\n  convert12hTo24h,\n  convert24hTo12h,\n  getAmPm,\n  getListOfHours,\n  getListOfMinutes,\n  getListOfSeconds,\n  isAmPm,\n  isValidTime\n} from './util/time.js'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'time-picker'\nconst DATA_KEY = 'coreui.time-picker'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_TIME_CHANGE = `timeChange${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"time-picker\"]'\n\nconst Default = {\n  ...Picker.Default,\n  cleaner: true,\n  container: 'dropdown',\n  disabled: false,\n  footer: true,\n  indicator: true,\n  invalid: false,\n  inputReadOnly: false,\n  locale: 'default',\n  placeholder: 'Select time',\n  size: null,\n  time: null,\n  valid: false,\n  variant: 'roll'\n}\n\nconst DefaultType = {\n  ...Picker.DefaultType,\n  cleaner: 'boolean',\n  indicator: 'boolean',\n  inputReadOnly: 'boolean',\n  invalid: 'boolean',\n  locale: 'string',\n  placeholder: 'string',\n  size: '(string|null)',\n  time: '(date|string|null)',\n  valid: 'boolean',\n  variant: 'string'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass TimePicker extends Picker {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._date = this._convertStringToDate(this._config.time)\n    this._initialDate = null\n    this._ampm = this._date ? getAmPm(new Date(this._date), this._config.locale) : 'am'\n\n    // subcomponents\n    this._input = null\n    this._timePickerBody = null\n\n    this._createTimePicker()\n    this._createTimePickerSelection()\n    this._addEventListeners()\n\n    this._setUpSelects()\n  }\n\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  cancel() {\n    this._date = this._initialDate\n    this._input.value = this._initialDate ? this._convertStringToDate(this._initialDate).toLocaleTimeString(this._config.locale) : ''\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n  }\n\n  clear() {\n    this._date = null\n    this._input.value = ''\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n  }\n\n  reset() {\n    this._date = this._convertStringToDate(this._config.time)\n    this._input.value = this._convertStringToDate(this._config.time).toLocaleTimeString(this._config.locale)\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n  }\n\n  update(config) {\n    this._config = this._getConfig(config)\n    this._date = this._convertStringToDate(this._config.time)\n    this._ampm = this._date ? getAmPm(new Date(this._date), this._config.locale) : 'am'\n\n    this._dropdownToggleEl.innerHTML = ''\n    this._dropdownMenuEl.innerHTML = ''\n\n    this._createTimePicker()\n    this._createTimePickerSelection()\n  }\n\n  _getPartOfTime(part) {\n    if (this._date === null) {\n      return null\n    }\n\n    if (part === 'hours') {\n      return isAmPm(this._config.locale) ? convert24hTo12h(this._date.getHours()) : this._date.getHours()\n    }\n\n    if (part === 'minutes') {\n      return this._date.getMinutes()\n    }\n\n    if (part === 'seconds') {\n      return this._date.getSeconds()\n    }\n\n    if (part === 'toggle') {\n      return getAmPm(new Date(this._date), this._config.locale)\n    }\n  }\n\n  _setUpRolls(initial = false) {\n    for (const part of Array.from(['hours', 'minutes', 'seconds', 'toggle'])) {\n      for (const element of SelectorEngine.find(`[data-coreui-${part}]`, this._element)) {\n        if (this._getPartOfTime(part) === Manipulator.getDataAttribute(element, part)) {\n          element.classList.add('selected')\n          this._scrollTo(element.parentElement, element, initial)\n\n          for (const sibling of element.parentElement.children) {\n            // eslint-disable-next-line max-depth\n            if (sibling !== element) {\n              sibling.classList.remove('selected')\n            }\n          }\n        }\n      }\n    }\n  }\n\n  _setUpSelects() {\n    for (const part of Array.from(['hours', 'minutes', 'seconds', 'toggle'])) {\n      for (const element of SelectorEngine.find(`select.${part}`, this._element)) {\n        if (this._getPartOfTime(part)) {\n          element.value = this._getPartOfTime(part)\n        }\n      }\n    }\n  }\n\n  // Private\n  _addEventListeners() {\n    EventHandler.on(this._element, 'shown.coreui.dropdown', () => {\n      this._initialDate = new Date(this._date)\n\n      if (this._config.variant === 'roll') {\n        this._setUpRolls(true)\n      }\n\n      if (this._config.variant === 'select') {\n        this._setUpSelects()\n      }\n    })\n\n    EventHandler.on(this._element, 'timeChange.coreui.time-picker', () => {\n      if (this._config.variant === 'roll') {\n        this._setUpRolls()\n      }\n\n      if (this._config.variant === 'select') {\n        this._setUpSelects()\n      }\n    })\n\n    EventHandler.on(this._element, 'click', '.picker-input-group-cleaner', event => {\n      event.stopPropagation()\n      this.clear()\n    })\n\n    EventHandler.on(this._element, 'onCancelClick.coreui.picker', () => {\n      this.cancel()\n    })\n\n    EventHandler.on(this._input, 'input', event => {\n      if (isValidTime(event.target.value)) {\n        this._date = this._convertStringToDate(event.target.value)\n\n        EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n          timeString: this._date.toTimeString(),\n          localeTimeString: this._date.toLocaleTimeString(),\n          date: this._date\n        })\n      }\n    })\n  }\n\n  _convertStringToDate(date) {\n    return date ? (date instanceof Date ? date : new Date(`1970-01-01 ${date}`)) : null\n  }\n\n  _createInputGroup() {\n    const inputGroupEl = document.createElement('div')\n    inputGroupEl.classList.add('input-group', 'picker-input-group')\n\n    if (this._config.size) {\n      inputGroupEl.classList.add(`input-group-${this._config.size}`)\n    }\n\n    const inputEl = document.createElement('input')\n    inputEl.classList.add('form-control')\n    inputEl.disabled = this._config.disabled\n    inputEl.placeholder = this._config.placeholder\n    inputEl.readOnly = this._config.inputReadOnly\n    inputEl.type = 'text'\n    inputEl.value = this._date ? this._date.toLocaleTimeString(this._config.locale) : ''\n\n    if (this._element.id) {\n      inputEl.name = `time-picker-${this._element.id}`\n    }\n\n    inputGroupEl.append(inputEl)\n\n    const inputGroupTextEl = document.createElement('span')\n    inputGroupTextEl.classList.add('input-group-text')\n    if (this._config.indicator) {\n      inputGroupTextEl.innerHTML = `\n        <span class=\"picker-input-group-indicator\">\n          <span class=\"picker-input-group-icon time-picker-input-icon\"></span>\n        </span>`\n    }\n\n    if (this._config.cleaner) {\n      inputGroupTextEl.innerHTML += `\n        <span class=\"picker-input-group-cleaner\" role=\"button\">\n          <span class=\"picker-input-group-icon time-picker-cleaner-icon\"></span>\n        </span>`\n    }\n\n    if (this._config.indicator || this._config.cleaner) {\n      inputGroupEl.append(inputGroupTextEl)\n    }\n\n    this._input = inputEl\n\n    return inputGroupEl\n  }\n\n  _createTimePicker() {\n    this._element.classList.add('time-picker')\n    this._element.classList.toggle('is-invalid', this._config.invalid)\n    this._element.classList.toggle('is-valid', this._config.valid)\n\n    if (this._config.container === 'dropdown') {\n      this._dropdownToggleEl.append(this._createInputGroup())\n      this._dropdownMenuEl.prepend(this._createTimePickerBody())\n    }\n\n    if (this._config.container === 'inline') {\n      this._element.append(this._createTimePickerBody())\n    }\n  }\n\n  _createTimePickerBody() {\n    const timePickerBodyEl = document.createElement('div')\n    timePickerBodyEl.classList.add('time-picker-body')\n\n    if (this._config.variant === 'roll') {\n      timePickerBodyEl.classList.add('time-picker-roll')\n    }\n\n    this._timePickerBody = timePickerBodyEl\n\n    return timePickerBodyEl\n  }\n\n  _createTimePickerSelection() {\n    const selectedHour = this._date ?\n    (isAmPm(this._config.locale) ?\n      convert24hTo12h(this._date.getHours()) :\n      this._date.getHours()) :\n    null\n    const selectedMinute = this._date ? this._date.getMinutes() : null\n    const selectedSecond = this._date ? this._date.getSeconds() : null\n\n    if (this._config.variant === 'roll') {\n      this._createTimePickerRoll(selectedHour, selectedMinute, selectedSecond)\n    }\n\n    if (this._config.variant === 'select') {\n      this._createTimePickerSelect(selectedHour, selectedMinute, selectedSecond)\n    }\n  }\n\n  _createSelect(className, options) {\n    const selectEl = document.createElement('select')\n    selectEl.classList.add('form-select', 'form-select-sm', className)\n    selectEl.disabled = this._config.disabled\n    selectEl.addEventListener('change', event => this._handleTimeChange(className, event.target.value))\n\n    for (const option of options) {\n      const optionEl = document.createElement('option')\n      optionEl.value = option.value\n      optionEl.innerHTML = option.label\n\n      selectEl.append(optionEl)\n    }\n\n    return selectEl\n  }\n\n  _createTimePickerSelect() {\n    const timeSeparatorEl = document.createElement('div')\n    timeSeparatorEl.classList.add('time-separator')\n    timeSeparatorEl.innerHTML = ':'\n\n    this._timePickerBody.innerHTML = '<span class=\"time-picker-inline-icon\"></span>'\n    this._timePickerBody.append(\n      this._createSelect('hours', getListOfHours(this._config.locale)),\n      timeSeparatorEl.cloneNode(true),\n      this._createSelect('minutes', getListOfMinutes(this._config.locale, true)),\n      timeSeparatorEl,\n      this._createSelect('seconds', getListOfSeconds(this._config.locale, true))\n    )\n\n    if (isAmPm(this._config.locale)) {\n      this._timePickerBody.append(\n        this._createSelect('toggle', [{ value: 'am', label: 'AM' }, { value: 'pm', label: 'PM' }], '_selectAmPm', this._ampm)\n      )\n    }\n  }\n\n  _createTimePickerRoll() {\n    this._timePickerBody.append(\n      this._createTimePickerRollCol(getListOfHours(this._config.locale), 'hours'),\n      this._createTimePickerRollCol(getListOfMinutes(this._config.locale), 'minutes'),\n      this._createTimePickerRollCol(getListOfSeconds(this._config.locale), 'seconds')\n    )\n\n    if (isAmPm(this._config.locale)) {\n      this._timePickerBody.append(\n        this._createTimePickerRollCol([{ value: 'am', label: 'AM' }, { value: 'pm', label: 'PM' }], 'toggle', this._ampm)\n      )\n    }\n  }\n\n  _createTimePickerRollCol(options, part) {\n    const timePickerRollColEl = document.createElement('div')\n    timePickerRollColEl.classList.add('time-picker-roll-col')\n\n    for (const option of options) {\n      const timePickerRollCellEl = document.createElement('div')\n      timePickerRollCellEl.classList.add('time-picker-roll-cell')\n      timePickerRollCellEl.setAttribute('role', 'button')\n      timePickerRollCellEl.innerHTML = option.label\n      timePickerRollCellEl.addEventListener('click', () => {\n        this._handleTimeChange(part, option.value)\n      })\n\n      Manipulator.setDataAttribute(timePickerRollCellEl, part, option.value)\n\n      timePickerRollColEl.append(timePickerRollCellEl)\n    }\n\n    return timePickerRollColEl\n  }\n\n  _getConfig(config) {\n    config = {\n      ...this.constructor.Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...(typeof config === 'object' ? config : {})\n    }\n\n    return config\n  }\n\n  _handleTimeChange = (set, value) => {\n    const _date = this._date || new Date('1970-01-01')\n\n    if (set === 'toggle') {\n      if (value === 'am') {\n        this._ampm = 'am'\n        _date.setHours(_date.getHours() - 12)\n      }\n\n      if (value === 'pm') {\n        this._ampm = 'pm'\n        _date.setHours(_date.getHours() + 12)\n      }\n    }\n\n    if (set === 'hours') {\n      if (isAmPm(this._config.locale)) {\n        _date.setHours(convert12hTo24h(this._ampm, Number.parseInt(value, 10)))\n      } else {\n        _date.setHours(Number.parseInt(value, 10))\n      }\n    }\n\n    if (set === 'minutes') {\n      _date.setMinutes(Number.parseInt(value, 10))\n    }\n\n    if (set === 'seconds') {\n      _date.setSeconds(Number.parseInt(value, 10))\n    }\n\n    if (this._input) {\n      this._input.value = _date.toLocaleTimeString(this._config.locale)\n    }\n\n    this._date = new Date(_date)\n\n    EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n      timeString: _date.toTimeString(),\n      localeTimeString: _date.toLocaleTimeString(),\n      date: _date\n    })\n  }\n\n  _scrollTo(parent, children, initial = false) {\n    parent.scrollTo({ top: children.offsetTop, behavior: initial ? 'instant' : 'smooth' })\n  }\n\n  _updateTimePicker() {\n    this._element.innerHTML = ''\n    this._createTimePicker()\n  }\n\n  // Static\n\n  static timePickerInterface(element, config) {\n    const data = TimePicker.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = TimePicker.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const timePickers = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = timePickers.length; i < len; i++) {\n    TimePicker.timePickerInterface(timePickers[i])\n  }\n})\n\n/**\n* ------------------------------------------------------------------------\n* jQuery\n* ------------------------------------------------------------------------\n* add .TimePicker to jQuery only if jQuery is present\n*/\n\ndefineJQueryPlugin(TimePicker)\n\nexport default TimePicker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_TIME_CHANGE","EVENT_LOAD_DATA_API","SELECTOR_DATA_TOGGLE","Default","Picker","cleaner","container","disabled","footer","indicator","invalid","inputReadOnly","locale","placeholder","size","time","valid","variant","DefaultType","TimePicker","constructor","element","config","_handleTimeChange","set","value","_date","Date","_ampm","setHours","getHours","isAmPm","_config","convert12hTo24h","Number","parseInt","setMinutes","setSeconds","_input","toLocaleTimeString","EventHandler","trigger","_element","timeString","toTimeString","localeTimeString","date","_getConfig","_convertStringToDate","_initialDate","getAmPm","_timePickerBody","_createTimePicker","_createTimePickerSelection","_addEventListeners","_setUpSelects","cancel","innerHTML","clear","reset","update","_dropdownToggleEl","_dropdownMenuEl","_getPartOfTime","part","convert24hTo12h","getMinutes","getSeconds","_setUpRolls","initial","Array","from","SelectorEngine","find","Manipulator","getDataAttribute","classList","add","_scrollTo","parentElement","sibling","children","remove","on","event","stopPropagation","isValidTime","target","_createInputGroup","inputGroupEl","document","createElement","inputEl","readOnly","type","id","name","append","inputGroupTextEl","toggle","prepend","_createTimePickerBody","timePickerBodyEl","selectedHour","selectedMinute","selectedSecond","_createTimePickerRoll","_createTimePickerSelect","_createSelect","className","options","selectEl","addEventListener","option","optionEl","label","timeSeparatorEl","getListOfHours","cloneNode","getListOfMinutes","getListOfSeconds","_createTimePickerRollCol","timePickerRollColEl","timePickerRollCellEl","setAttribute","setDataAttribute","getDataAttributes","parent","scrollTo","top","offsetTop","behavior","_updateTimePicker","timePickerInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","undefined","startsWith","window","timePickers","i","len","length","defineJQueryPlugin"],"mappings":"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"}