{"version":3,"sources":["../src/popover.js"],"names":["jQuery","$","Data","SelectorEngine","Tooltip","NAME","VERSION","DATA_KEY","EVENT_KEY","CLASS_PREFIX","BSCLS_PREFIX_REGEX","RegExp","Default","placement","trigger","content","template","DefaultType","ClassName","FADE","SHOW","Selector","TITLE","CONTENT","Event","HIDE","HIDDEN","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","Popover","isWithContent","getTitle","_getContent","addAttachmentClass","attachment","getTipElement","classList","add","setContent","tip","setElementContent","findOne","call","element","remove","getAttribute","config","_cleanTipClass","tabClass","match","length","map","token","trim","forEach","tClass","_jQueryInterface","each","data","getData","_config","test","setData","TypeError","_getInstance","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":"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","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI (v3.0.0-beta.3): popover.js\n * Licensed under MIT (https://coreui.io/license)\n *\n * This component is a modified version of the Bootstrap's popover.js\n * Bootstrap (v4.3.1): popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport { jQuery as $ } from './util/index'\nimport Data from './dom/data'\nimport SelectorEngine from './dom/selector-engine'\nimport Tooltip from './tooltip'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'popover'\nconst VERSION = '3.0.0-beta.3'\nconst DATA_KEY = 'coreui.popover'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst CLASS_PREFIX = 'bs-popover'\nconst BSCLS_PREFIX_REGEX = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\n\nconst Default = {\n  ...Tooltip.Default,\n  placement: 'right',\n  trigger: 'click',\n  content: '',\n  template: `<div class=\"popover\" role=\"tooltip\">\n               <div class=\"popover-arrow\"></div>\n               <h3 class=\"popover-header\"></h3>\n               <div class=\"popover-body\"></div>\n             </div>`\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content: '(string|element|function)'\n}\n\nconst ClassName = {\n  FADE: 'fade',\n  SHOW: 'show'\n}\n\nconst Selector = {\n  TITLE: '.popover-header',\n  CONTENT: '.popover-body'\n}\n\nconst Event = {\n  HIDE: `hide${EVENT_KEY}`,\n  HIDDEN: `hidden${EVENT_KEY}`,\n  SHOW: `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  INSERTED: `inserted${EVENT_KEY}`,\n  CLICK: `click${EVENT_KEY}`,\n  FOCUSIN: `focusin${EVENT_KEY}`,\n  FOCUSOUT: `focusout${EVENT_KEY}`,\n  MOUSEENTER: `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE: `mouseleave${EVENT_KEY}`\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Popover extends Tooltip {\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Overrides\n\n  isWithContent() {\n    return this.getTitle() || this._getContent()\n  }\n\n  addAttachmentClass(attachment) {\n    this.getTipElement().classList.add(`${CLASS_PREFIX}-${attachment}`)\n  }\n\n  setContent() {\n    const tip = this.getTipElement()\n\n    // we use append for html objects to maintain js events\n    this.setElementContent(SelectorEngine.findOne(Selector.TITLE, tip), this.getTitle())\n    let content = this._getContent()\n    if (typeof content === 'function') {\n      content = content.call(this.element)\n    }\n\n    this.setElementContent(SelectorEngine.findOne(Selector.CONTENT, tip), content)\n\n    tip.classList.remove(ClassName.FADE)\n    tip.classList.remove(ClassName.SHOW)\n  }\n\n  // Private\n\n  _getContent() {\n    return this.element.getAttribute('data-content') ||\n      this.config.content\n  }\n\n  _cleanTipClass() {\n    const tip = this.getTipElement()\n    const tabClass = tip.getAttribute('class').match(BSCLS_PREFIX_REGEX)\n\n    if (tabClass !== null && tabClass.length > 0) {\n      tabClass.map(token => token.trim())\n        .forEach(tClass => tip.classList.remove(tClass))\n    }\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = Data.getData(this, DATA_KEY)\n      const _config = typeof config === 'object' ? config : null\n\n      if (!data && /dispose|hide/.test(config)) {\n        return\n      }\n\n      if (!data) {\n        data = new Popover(this, _config)\n        Data.setData(this, DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n\n  static _getInstance(element) {\n    return Data.getData(element, DATA_KEY)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\nif (typeof $ !== 'undefined') {\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  $.fn[NAME] = Popover._jQueryInterface\n  $.fn[NAME].Constructor = Popover\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Popover._jQueryInterface\n  }\n}\n\nexport default Popover\n"],"file":"popover.js"}