{"version":3,"sources":["../src/tab.js"],"names":["jQuery","$","TRANSITION_END","emulateTransitionEnd","getSelectorFromElement","getTransitionDurationFromElement","makeArray","reflow","Data","EventHandler","SelectorEngine","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","Event","HIDE","HIDDEN","SHOW","SHOWN","CLICK_DATA_API","ClassName","DROPDOWN_MENU","ACTIVE","DISABLED","FADE","Selector","DROPDOWN","NAV_LIST_GROUP","ACTIVE_UL","DATA_TOGGLE","DROPDOWN_TOGGLE","DROPDOWN_ACTIVE_CHILD","Tab","element","_element","setData","show","parentNode","nodeType","Node","ELEMENT_NODE","classList","contains","target","previous","listElement","closest","selector","itemSelector","nodeName","find","length","hideEvent","trigger","relatedTarget","showEvent","defaultPrevented","findOne","_activate","complete","dispose","removeData","container","callback","activeElements","children","active","isTransitioning","_transitionComplete","transitionDuration","remove","one","dropdownChild","getAttribute","setAttribute","add","dropdownElement","forEach","dropdown","_jQueryInterface","config","each","data","getData","TypeError","_getInstance","on","document","event","preventDefault","JQUERY_NO_CONFLICT","fn","Constructor","noConflict"],"mappings":"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","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI (v3.0.0-beta.2): tab.js\n * Licensed under MIT (https://coreui.io/license)\n *\n * This component is a modified version of the Bootstrap's tab.js\n * Bootstrap (v4.3.1): tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  jQuery as $,\n  TRANSITION_END,\n  emulateTransitionEnd,\n  getSelectorFromElement,\n  getTransitionDurationFromElement,\n  makeArray,\n  reflow\n} from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport SelectorEngine from './dom/selector-engine'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME = 'tab'\nconst VERSION = '3.0.0-beta.2'\nconst DATA_KEY = 'coreui.tab'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst Event = {\n  HIDE: `hide${EVENT_KEY}`,\n  HIDDEN: `hidden${EVENT_KEY}`,\n  SHOW: `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst ClassName = {\n  DROPDOWN_MENU: 'dropdown-menu',\n  ACTIVE: 'active',\n  DISABLED: 'disabled',\n  FADE: 'fade',\n  SHOW: 'show'\n}\n\nconst Selector = {\n  DROPDOWN: '.dropdown',\n  NAV_LIST_GROUP: '.nav, .list-group',\n  ACTIVE: '.active',\n  ACTIVE_UL: ':scope > li > .active',\n  DATA_TOGGLE: '[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]',\n  DROPDOWN_TOGGLE: '.dropdown-toggle',\n  DROPDOWN_ACTIVE_CHILD: ':scope > .dropdown-menu .active'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Tab {\n  constructor(element) {\n    this._element = element\n\n    Data.setData(this._element, DATA_KEY, this)\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  // Public\n\n  show() {\n    if (this._element.parentNode &&\n      this._element.parentNode.nodeType === Node.ELEMENT_NODE &&\n      this._element.classList.contains(ClassName.ACTIVE) ||\n      this._element.classList.contains(ClassName.DISABLED)) {\n      return\n    }\n\n    let target\n    let previous\n    const listElement = SelectorEngine.closest(this._element, Selector.NAV_LIST_GROUP)\n    const selector = getSelectorFromElement(this._element)\n\n    if (listElement) {\n      const itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? Selector.ACTIVE_UL : Selector.ACTIVE\n      previous = makeArray(SelectorEngine.find(itemSelector, listElement))\n      previous = previous[previous.length - 1]\n    }\n\n    let hideEvent = null\n\n    if (previous) {\n      hideEvent = EventHandler.trigger(previous, Event.HIDE, {\n        relatedTarget: this._element\n      })\n    }\n\n    const showEvent = EventHandler.trigger(this._element, Event.SHOW, {\n      relatedTarget: previous\n    })\n\n    if (showEvent.defaultPrevented ||\n      hideEvent !== null && hideEvent.defaultPrevented) {\n      return\n    }\n\n    if (selector) {\n      target = SelectorEngine.findOne(selector)\n    }\n\n    this._activate(\n      this._element,\n      listElement\n    )\n\n    const complete = () => {\n      EventHandler.trigger(previous, Event.HIDDEN, {\n        relatedTarget: this._element\n      })\n      EventHandler.trigger(this._element, Event.SHOWN, {\n        relatedTarget: previous\n      })\n    }\n\n    if (target) {\n      this._activate(target, target.parentNode, complete)\n    } else {\n      complete()\n    }\n  }\n\n  dispose() {\n    Data.removeData(this._element, DATA_KEY)\n    this._element = null\n  }\n\n  // Private\n\n  _activate(element, container, callback) {\n    const activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ?\n      SelectorEngine.find(Selector.ACTIVE_UL, container) :\n      SelectorEngine.children(container, Selector.ACTIVE)\n\n    const active = activeElements[0]\n    const isTransitioning = callback &&\n      (active && active.classList.contains(ClassName.FADE))\n\n    const complete = () => this._transitionComplete(\n      element,\n      active,\n      callback\n    )\n\n    if (active && isTransitioning) {\n      const transitionDuration = getTransitionDurationFromElement(active)\n      active.classList.remove(ClassName.SHOW)\n\n      EventHandler.one(active, TRANSITION_END, complete)\n      emulateTransitionEnd(active, transitionDuration)\n    } else {\n      complete()\n    }\n  }\n\n  _transitionComplete(element, active, callback) {\n    if (active) {\n      active.classList.remove(ClassName.ACTIVE)\n\n      const dropdownChild = SelectorEngine.findOne(Selector.DROPDOWN_ACTIVE_CHILD, active.parentNode)\n\n      if (dropdownChild) {\n        dropdownChild.classList.remove(ClassName.ACTIVE)\n      }\n\n      if (active.getAttribute('role') === 'tab') {\n        active.setAttribute('aria-selected', false)\n      }\n    }\n\n    element.classList.add(ClassName.ACTIVE)\n    if (element.getAttribute('role') === 'tab') {\n      element.setAttribute('aria-selected', true)\n    }\n\n    reflow(element)\n\n    if (element.classList.contains(ClassName.FADE)) {\n      element.classList.add(ClassName.SHOW)\n    }\n\n    if (element.parentNode && element.parentNode.classList.contains(ClassName.DROPDOWN_MENU)) {\n      const dropdownElement = SelectorEngine.closest(element, Selector.DROPDOWN)\n\n      if (dropdownElement) {\n        makeArray(SelectorEngine.find(Selector.DROPDOWN_TOGGLE))\n          .forEach(dropdown => dropdown.classList.add(ClassName.ACTIVE))\n      }\n\n      element.setAttribute('aria-expanded', true)\n    }\n\n    if (callback) {\n      callback()\n    }\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      const data = Data.getData(this, DATA_KEY) || new Tab(this)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n\n  static _getInstance(element) {\n    return Data.getData(element, DATA_KEY)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(document, Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n  event.preventDefault()\n\n  const data = Data.getData(this, DATA_KEY) || new Tab(this)\n  data.show()\n})\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n * add .tab to jQuery only if jQuery is present\n */\n\nif (typeof $ !== 'undefined') {\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\n  $.fn[NAME] = Tab._jQueryInterface\n  $.fn[NAME].Constructor = Tab\n  $.fn[NAME].noConflict = () => {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return Tab._jQueryInterface\n  }\n}\n\nexport default Tab\n"],"file":"tab.js"}