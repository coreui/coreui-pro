{"version":3,"file":"date-picker.js","sources":["../src/date-picker.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO date-picker.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport DateRangePicker from './date-range-picker.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin } from './util/index.js'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'date-picker'\nconst DATA_KEY = 'coreui.date-picker'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_DATE_CHANGE = `dateChange${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"date-picker\"]'\n\nconst Default = {\n  ...DateRangePicker.Default,\n  calendars: 1,\n  placeholder: ['Select date'],\n  range: false,\n  separator: false\n}\n\nconst DefaultType = {\n  ...DateRangePicker.DefaultType,\n  date: '(date|string|null)'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass DatePicker extends DateRangePicker {\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Overrides\n\n  _addCalendarEventListeners() {\n    super._addCalendarEventListeners()\n    for (const calendar of SelectorEngine.find('.calendar', this._element)) {\n      EventHandler.on(calendar, 'startDateChange.coreui.calendar', event => {\n        this._startDate = event.date\n        this._selectEndDate = event.selectEndDate\n        this._startInput.value = this._setInputValue(event.date)\n        this._updateCalendars()\n\n        EventHandler.trigger(this._element, EVENT_DATE_CHANGE, {\n          date: event.date,\n          formatedDate: event.date ? this._formatDate(event.date) : undefined\n        })\n      })\n    }\n  }\n\n  // Static\n\n  static datePickerInterface(element, config) {\n    const data = DatePicker.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = DatePicker.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const datePickers = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = datePickers.length; i < len; i++) {\n    DatePicker.datePickerInterface(datePickers[i])\n  }\n})\n\n/**\n* ------------------------------------------------------------------------\n* jQuery\n* ------------------------------------------------------------------------\n* add .DatePicker to jQuery only if jQuery is present\n*/\n\ndefineJQueryPlugin(DatePicker)\n\nexport default DatePicker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_DATE_CHANGE","EVENT_LOAD_DATA_API","SELECTOR_DATA_TOGGLE","Default","DateRangePicker","calendars","placeholder","range","separator","DefaultType","date","DatePicker","_addCalendarEventListeners","calendar","SelectorEngine","find","_element","EventHandler","on","event","_startDate","_selectEndDate","selectEndDate","_startInput","value","_setInputValue","_updateCalendars","trigger","formatedDate","_formatDate","undefined","datePickerInterface","element","config","data","getOrCreateInstance","TypeError","jQueryInterface","each","startsWith","window","datePickers","i","len","length","defineJQueryPlugin"],"mappings":"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"}