{"version":3,"file":"calendar.js","sources":["../src/calendar.js"],"sourcesContent":["/* eslint-disable indent, multiline-ternary */\n/**\n * --------------------------------------------------------------------------\n * CoreUI PRO calendar.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport { defineJQueryPlugin } from './util/index.js'\nimport {\n  createGroupsInArray,\n  getMonthDetails,\n  getMonthsNames,\n  getYears,\n  isDateDisabled,\n  isDateInRange,\n  isDateSelected,\n  isLastDayOfMonth,\n  isToday,\n  isStartDate,\n  isEndDate } from './util/calendar.js'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'calendar'\nconst DATA_KEY = 'coreui.calendar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_CALENDAR_DATE_CHANGE = `calendarDateChange${EVENT_KEY}`\nconst EVENT_CALENDAR_MOUSE_LEAVE = `calendarMouseleave${EVENT_KEY}`\nconst EVENT_CELL_HOVER = `cellHover${EVENT_KEY}`\nconst EVENT_END_DATE_CHANGE = `endDateChange${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_START_DATE_CHANGE = `startDateChange${EVENT_KEY}`\n\nconst CLASS_NAME_CALENDAR = 'calendar'\n\nconst SELECTOR_CALENDAR = '.calendar'\nconst SELECTOR_CALENDAR_CELL_INNER = '.calendar-cell-inner'\n\nconst Default = {\n  calendarDate: new Date(),\n  calendars: 1,\n  disabledDates: null,\n  endDate: null,\n  firstDayOfWeek: 1,\n  locale: 'default',\n  maxDate: null,\n  minDate: null,\n  range: true,\n  selectAdjacementDays: false,\n  selectEndDate: false,\n  showAdjacementDays: true,\n  startDate: null,\n  weekdayFormat: 2\n}\n\nconst DefaultType = {\n  calendarDate: '(date|string|null)',\n  calendars: 'number',\n  disabledDates: '(array|null)',\n  endDate: '(date|string|null)',\n  firstDayOfWeek: 'number',\n  locale: 'string',\n  maxDate: '(date|string|null)',\n  minDate: '(date|string|null)',\n  range: 'boolean',\n  selectAdjacementDays: 'boolean',\n  selectEndDate: 'boolean',\n  showAdjacementDays: 'boolean',\n  startDate: '(date|string|null)',\n  weekdayFormat: '(number|string)'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass Calendar extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._calendarDate = this._config.calendarDate\n    this._startDate = this._config.startDate\n    this._endDate = this._config.endDate\n    this._hoverDate = null\n    this._selectEndDate = this._config.selectEndDate\n    this._view = 'days'\n\n    this._createCalendar()\n    this._addEventListeners()\n  }\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Private\n  _addEventListeners() {\n    EventHandler.on(this._element, 'click', SELECTOR_CALENDAR_CELL_INNER, event => {\n      event.preventDefault()\n      if (event.target.parentElement.classList.contains('disabled')) {\n        return\n      }\n\n      if ((event.target.parentElement.classList.contains('next') || event.target.parentElement.classList.contains('previous')) && !this._config.selectAdjacementDays) {\n        return\n      }\n\n      if (event.target.classList.contains('day')) {\n        const date = new Date(Manipulator.getDataAttribute(event.target, 'date'))\n        const calendarIndex = Manipulator.getDataAttribute(event.target.closest('.calendar-panel'), 'calendar-index')\n        if (calendarIndex) {\n          this._setCalendarDate(new Date(date.setMonth(date.getMonth() - calendarIndex)))\n        } else {\n          this._setCalendarDate(date)\n        }\n\n        this._selectDate(Manipulator.getDataAttribute(event.target, 'date'))\n      }\n\n      if (event.target.classList.contains('month')) {\n        this._setCalendarDate(new Date(this._calendarDate.getFullYear(), Manipulator.getDataAttribute(event.target, 'month'), 1))\n        this._view = 'days'\n      }\n\n      if (event.target.classList.contains('year')) {\n        this._calendarDate = new Date(Manipulator.getDataAttribute(event.target, 'year'), this._calendarDate.getMonth(), 1)\n        this._view = 'months'\n      }\n\n      this._updateCalendar()\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEENTER, SELECTOR_CALENDAR_CELL_INNER, event => {\n      event.preventDefault()\n      if (event.target.parentElement.classList.contains('disabled')) {\n        return\n      }\n\n      if ((event.target.parentElement.classList.contains('next') || event.target.parentElement.classList.contains('previous')) && !this._config.selectAdjacementDays) {\n        return\n      }\n\n      this._hoverDate = new Date(Manipulator.getDataAttribute(event.target, 'date'))\n\n      EventHandler.trigger(this._element, EVENT_CELL_HOVER, {\n        date: new Date(Manipulator.getDataAttribute(event.target, 'date'))\n      })\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSELEAVE, SELECTOR_CALENDAR_CELL_INNER, event => {\n      event.preventDefault()\n\n      this._hoverDate = null\n\n      EventHandler.trigger(this._element, EVENT_CELL_HOVER, {\n        date: null\n      })\n    })\n\n    // Navigation\n    EventHandler.on(this._element, 'click', '.btn-prev', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(0, -1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-double-prev', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(this._view === 'years' ? -10 : -1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-next', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(0, 1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-double-next', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(this._view === 'years' ? 10 : 1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-month', event => {\n      event.preventDefault()\n      this._view = 'months'\n      this._updateCalendar()\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-year', event => {\n      event.preventDefault()\n      this._view = 'years'\n      this._updateCalendar()\n    })\n\n    EventHandler.on(this._element, 'mouseleave', 'table', () => {\n      EventHandler.trigger(this._element, EVENT_CALENDAR_MOUSE_LEAVE)\n    })\n  }\n\n  _setCalendarDate(date) {\n    this._calendarDate = date\n\n    EventHandler.trigger(this._element, EVENT_CALENDAR_DATE_CHANGE, {\n      date\n    })\n  }\n\n  _modifyCalendarDate(years, months = 0) {\n    const year = this._calendarDate.getFullYear()\n    const month = this._calendarDate.getMonth()\n    const d = new Date(year, month, 1)\n\n    if (years) {\n      d.setFullYear(d.getFullYear() + years)\n    }\n\n    if (months) {\n      d.setMonth(d.getMonth() + months)\n    }\n\n    this._calendarDate = d\n\n    if (this._view === 'days') {\n      EventHandler.trigger(this._element, EVENT_CALENDAR_DATE_CHANGE, {\n        date: d\n      })\n    }\n\n    this._updateCalendar()\n  }\n\n  _setEndDate(date, selectEndDate = false) {\n    this._endDate = new Date(date)\n    EventHandler.trigger(this._element, EVENT_END_DATE_CHANGE, {\n      date: this._endDate,\n      selectEndDate\n    })\n  }\n\n  _setStartDate(date, selectEndDate = true) {\n    this._startDate = new Date(date)\n    EventHandler.trigger(this._element, EVENT_START_DATE_CHANGE, {\n      date: this._startDate,\n      selectEndDate\n    })\n  }\n\n  _selectDate(date) {\n    if (isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates)) {\n      return\n    }\n\n    if (this._config.range) {\n      if (this._selectEndDate) {\n        if (this._startDate && this._startDate > new Date(date)) {\n          this._setEndDate(this._startDate)\n          this._setStartDate(date)\n        } else {\n          this._setEndDate(date)\n        }\n      } else {\n        this._setStartDate(date, true)\n      }\n    } else {\n      this._setStartDate(date)\n    }\n  }\n\n  _createCalendarPanel(addMonths) {\n    let date = this._calendarDate\n\n    if (addMonths !== 0) {\n      date = new Date(this._calendarDate.getFullYear(), this._calendarDate.getMonth() + addMonths, 1)\n    }\n\n    const year = date.getFullYear()\n    const month = date.getMonth()\n\n    const calendarPanelEl = document.createElement('div')\n    calendarPanelEl.classList.add('calendar-panel')\n\n    Manipulator.setDataAttribute(calendarPanelEl, 'calendar-index', addMonths)\n\n    // Create navigation\n    const navigationElement = document.createElement('div')\n    navigationElement.classList.add('calendar-nav')\n    navigationElement.innerHTML = `\n      <div class=\"calendar-nav-prev\">\n        <button class=\"btn btn-transparent btn-sm btn-double-prev\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-double-prev\"></span>\n        </button>\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-prev\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-prev\"></span>\n        </button>` : ''}\n      </div>\n      <div class=\"calendar-nav-date\">\n        <button class=\"btn btn-transparent btn-sm btn-month\">\n          ${date.toLocaleDateString(this._config.locale, { month: 'long' })}\n        </button>\n        <button class=\"btn btn-transparent btn-sm btn-year\">\n          ${date.toLocaleDateString(this._config.locale, { year: 'numeric' })}\n        </button>\n      </div>\n      <div class=\"calendar-nav-next\">\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-next\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-next\"></span>\n        </button>` : ''}\n        <button class=\"btn btn-transparent btn-sm btn-double-next\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-double-next\"></span>\n        </button>\n      </div>\n    `\n\n    const monthDetails = getMonthDetails(year, month, this._config.firstDayOfWeek)\n    const listOfMonths = createGroupsInArray(getMonthsNames(this._config.locale), 4)\n    const listOfYears = createGroupsInArray(getYears(date.getFullYear()), 4)\n    const weekDays = monthDetails[0]\n\n    const calendarTable = document.createElement('table')\n    calendarTable.innerHTML = `\n    ${this._view === 'days' ? `\n      <thead>\n        <tr>\n          ${weekDays.map(({ date }) => (\n            `<th class=\"calendar-cell\">\n              <div class=\"calendar-header-cell-inner\">\n              ${typeof this._config.weekdayFormat === 'string' ?\n              date.toLocaleDateString(this._config.locale, { weekday: this._config.weekdayFormat }) :\n              date\n                  .toLocaleDateString(this._config.locale, { weekday: 'long' })\n                  .slice(0, this._config.weekdayFormat)}\n              </div>\n            </th>`\n          )).join('')}\n        </tr>\n      </thead>` : ''}\n      <tbody>\n        ${this._view === 'days' ? monthDetails.map(week => (\n          `<tr>${week.map(({ date, month }) => (\n            month === 'current' || this._config.showAdjacementDays ?\n              `<td class=\"calendar-cell ${this._dayClassNames(date, month)}\">\n                <div class=\"calendar-cell-inner day\" data-coreui-date=\"${date}\">\n                  ${date.toLocaleDateString(this._config.locale, { day: 'numeric' })}\n                </div>\n              </td>` :\n              '<td></td>'\n          )).join('')}</tr>`\n        )).join('') : ''}\n        ${this._view === 'months' ? listOfMonths.map((row, index) => (\n          `<tr>${row.map((month, idx) => (\n            `<td class=\"calendar-cell\">\n              <div class=\"calendar-cell-inner month\" data-coreui-month=\"${(index * 3) + idx - addMonths}\">\n                ${month}\n              </div>\n            </td>`\n          )).join('')}</tr>`\n        )).join('') : ''}\n        ${this._view === 'years' ? listOfYears.map(row => (\n          `<tr>${row.map(year => (\n            `<td class=\"calendar-cell\">\n              <div class=\"calendar-cell-inner year\" data-coreui-year=\"${year}\">\n                ${year}\n              </div>\n            </td>`\n          )).join('')}</tr>`\n        )).join('') : ''}\n      </tbody>\n    `\n    calendarPanelEl.append(navigationElement, calendarTable)\n\n    return calendarPanelEl\n  }\n\n  _createCalendar() {\n    const calendarsEl = document.createElement('div')\n    calendarsEl.classList.add('calendars')\n    // eslint-disable-next-line no-unused-vars\n    for (const [index, _] of Array.from({ length: this._config.calendars }).entries()) {\n(\n      calendarsEl.append(this._createCalendarPanel(index))\n    )\n}\n\n    this._element.classList.add(CLASS_NAME_CALENDAR)\n    this._element.append(calendarsEl)\n  }\n\n  _updateCalendar() {\n    this._element.innerHTML = ''\n    this._createCalendar()\n  }\n\n  _dayClassNames(date, month) {\n    const classNames = {\n      today: isToday(date),\n      disabled: isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates),\n      [month]: true,\n      clickable: month !== 'current' && this._config.selectAdjacementDays,\n      last: isLastDayOfMonth(date),\n      range: month === 'current' && isDateInRange(date, this._startDate, this._endDate),\n      'range-hover': month === 'current' && (this._hoverDate && this._selectEndDate ?\n        isDateInRange(date, this._startDate, this._hoverDate) :\n        isDateInRange(date, this._hoverDate, this._endDate)),\n      selected: isDateSelected(date, this._startDate, this._endDate),\n      start: isStartDate(date, this._startDate, this._endDate),\n      end: isEndDate(date, this._startDate, this._endDate)\n    }\n\n    // eslint-disable-next-line unicorn/no-array-reduce\n    const result = Object.keys(classNames).reduce((o, key) => {\n      // eslint-disable-next-line no-unused-expressions\n      classNames[key] === true && (o[key] = classNames[key])\n      return o\n    }, {})\n\n    return Object.keys(result).join(' ')\n  }\n\n  _getConfig(config) {\n    config = {\n      ...this.constructor.Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...config\n    }\n\n    return config\n  }\n\n  // Static\n\n  static calendarInterface(element, config) {\n    const data = Calendar.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Calendar.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of Array.from(document.querySelectorAll(SELECTOR_CALENDAR))) {\n    Calendar.calendarInterface(element)\n  }\n})\n\n/**\n* ------------------------------------------------------------------------\n* jQuery\n* ------------------------------------------------------------------------\n* add .Calendar to jQuery only if jQuery is present\n*/\n\ndefineJQueryPlugin(Calendar)\n\nexport default Calendar\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_CALENDAR_DATE_CHANGE","EVENT_CALENDAR_MOUSE_LEAVE","EVENT_CELL_HOVER","EVENT_END_DATE_CHANGE","EVENT_LOAD_DATA_API","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_START_DATE_CHANGE","CLASS_NAME_CALENDAR","SELECTOR_CALENDAR","SELECTOR_CALENDAR_CELL_INNER","Default","calendarDate","Date","calendars","disabledDates","endDate","firstDayOfWeek","locale","maxDate","minDate","range","selectAdjacementDays","selectEndDate","showAdjacementDays","startDate","weekdayFormat","DefaultType","Calendar","BaseComponent","constructor","element","config","_config","_getConfig","_calendarDate","_startDate","_endDate","_hoverDate","_selectEndDate","_view","_createCalendar","_addEventListeners","EventHandler","on","_element","event","preventDefault","target","parentElement","classList","contains","date","Manipulator","getDataAttribute","calendarIndex","closest","_setCalendarDate","setMonth","getMonth","_selectDate","getFullYear","_updateCalendar","trigger","_modifyCalendarDate","years","months","year","month","d","setFullYear","_setEndDate","_setStartDate","isDateDisabled","_createCalendarPanel","addMonths","calendarPanelEl","document","createElement","add","setDataAttribute","navigationElement","innerHTML","toLocaleDateString","monthDetails","getMonthDetails","listOfMonths","createGroupsInArray","getMonthsNames","listOfYears","getYears","weekDays","calendarTable","map","weekday","slice","join","week","_dayClassNames","day","row","index","idx","append","calendarsEl","_","Array","from","length","entries","classNames","today","isToday","disabled","clickable","last","isLastDayOfMonth","isDateInRange","selected","isDateSelected","start","isStartDate","end","isEndDate","result","Object","keys","reduce","o","key","getDataAttributes","calendarInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","undefined","startsWith","window","querySelectorAll","defineJQueryPlugin"],"mappings":"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"}