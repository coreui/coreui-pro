{"version":3,"file":"calendar.js","sources":["../src/calendar.js"],"sourcesContent":["/* eslint-disable complexity, indent, multiline-ternary */\n/**\n * --------------------------------------------------------------------------\n * CoreUI PRO calendar.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport { defineJQueryPlugin } from './util/index.js'\nimport {\n  convertToDateObject,\n  createGroupsInArray,\n  getCalendarDate,\n  getDateBySelectionType,\n  getMonthDetails,\n  getMonthsNames,\n  getYears,\n  isDateDisabled,\n  isDateInRange,\n  isDateSelected,\n  isDisableDateInRange,\n  isToday\n} from './util/calendar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'calendar'\nconst DATA_KEY = 'coreui.calendar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ENTER_KEY = 'Enter'\nconst SPACE_KEY = 'Space'\n\nconst EVENT_BLUR = `blur${EVENT_KEY}`\nconst EVENT_CALENDAR_DATE_CHANGE = `calendarDateChange${EVENT_KEY}`\nconst EVENT_CALENDAR_MOUSE_LEAVE = `calendarMouseleave${EVENT_KEY}`\nconst EVENT_CELL_HOVER = `cellHover${EVENT_KEY}`\nconst EVENT_END_DATE_CHANGE = `endDateChange${EVENT_KEY}`\nconst EVENT_FOCUS = `focus${EVENT_KEY}`\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`\nconst EVENT_SELECT_END_CHANGE = `selectEndChange${EVENT_KEY}`\nconst EVENT_START_DATE_CHANGE = `startDateChange${EVENT_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_CALENDAR = 'calendar'\nconst CLASS_NAME_CALENDAR_CELL = 'calendar-cell'\nconst CLASS_NAME_CALENDAR_CELL_INNER = 'calendar-cell-inner'\nconst CLASS_NAME_CALENDAR_ROW = 'calendar-row'\n\nconst SELECTOR_BTN_DOUBLE_NEXT = '.btn-double-next'\nconst SELECTOR_BTN_DOUBLE_PREV = '.btn-double-prev'\nconst SELECTOR_BTN_MONTH = '.btn-month'\nconst SELECTOR_BTN_NEXT = '.btn-next'\nconst SELECTOR_BTN_PREV = '.btn-prev'\nconst SELECTOR_BTN_YEAR = '.btn-year'\nconst SELECTOR_CALENDAR = '.calendar'\nconst SELECTOR_CALENDAR_CELL = '.calendar-cell'\nconst SELECTOR_CALENDAR_PANEL = '.calendar-panel'\nconst SELECTOR_CALENDAR_ROW = '.calendar-row'\n\nconst Default = {\n  calendarDate: null,\n  calendars: 1,\n  disabledDates: null,\n  endDate: null,\n  firstDayOfWeek: 1,\n  locale: 'default',\n  maxDate: null,\n  minDate: null,\n  range: true,\n  selectAdjacementDays: false,\n  selectEndDate: false,\n  selectionType: 'day',\n  showAdjacementDays: true,\n  showWeekNumber: false,\n  startDate: null,\n  weekdayFormat: 2,\n  weekNumbersLabel: null\n}\n\nconst DefaultType = {\n  calendarDate: '(date|number|string|null)',\n  calendars: 'number',\n  disabledDates: '(array|null)',\n  endDate: '(date|number|string|null)',\n  firstDayOfWeek: 'number',\n  locale: 'string',\n  maxDate: '(date|number|string|null)',\n  minDate: '(date|number|string|null)',\n  range: 'boolean',\n  selectAdjacementDays: 'boolean',\n  selectEndDate: 'boolean',\n  selectionType: 'string',\n  showAdjacementDays: 'boolean',\n  showWeekNumber: 'boolean',\n  startDate: '(date|number|string|null)',\n  weekdayFormat: '(number|string)',\n  weekNumbersLabel: '(string|null)'\n}\n\n/**\n * Class definition\n */\n\nclass Calendar extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._calendarDate = convertToDateObject(\n      this._config.calendarDate || this._config.startDate || this._config.endDate || new Date(), this._config.selectionType\n    )\n    this._startDate = convertToDateObject(this._config.startDate, this._config.selectionType)\n    this._endDate = convertToDateObject(this._config.endDate, this._config.selectionType)\n    this._hoverDate = null\n    this._selectEndDate = this._config.selectEndDate\n\n    if (this._config.selectionType === 'day' || this._config.selectionType === 'week') {\n      this._view = 'days'\n    }\n\n    if (this._config.selectionType === 'month') {\n      this._view = 'months'\n    }\n\n    if (this._config.selectionType === 'year') {\n      this._view = 'years'\n    }\n\n    this._createCalendar()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  update(config) {\n    this._config = this._getConfig(config)\n    this._calendarDate = convertToDateObject(\n      this._config.calendarDate || this._config.startDate || this._config.endDate || new Date(), this._config.selectionType\n    )\n    this._startDate = convertToDateObject(this._config.startDate, this._config.selectionType)\n    this._endDate = convertToDateObject(this._config.endDate, this._config.selectionType)\n    this._hoverDate = null\n    this._selectEndDate = this._config.selectEndDate\n\n    if (this._config.selectionType === 'day' || this._config.selectionType === 'week') {\n      this._view = 'days'\n    }\n\n    if (this._config.selectionType === 'month') {\n      this._view = 'months'\n    }\n\n    if (this._config.selectionType === 'year') {\n      this._view = 'years'\n    }\n\n    this._element.innerHTML = ''\n    this._createCalendar()\n  }\n\n  // Private\n  _getDate(target) {\n    if (this._config.selectionType === 'week') {\n      const firstCell = SelectorEngine.findOne(SELECTOR_CALENDAR_CELL, target.closest(SELECTOR_CALENDAR_ROW))\n      return new Date(Manipulator.getDataAttribute(firstCell, 'date'))\n    }\n\n    return new Date(Manipulator.getDataAttribute(target, 'date'))\n  }\n\n  _handleCalendarClick(event) {\n    const target = event.target.classList.contains(CLASS_NAME_CALENDAR_CELL_INNER) ? event.target.parentElement : event.target\n    const date = this._getDate(target)\n    const cloneDate = new Date(date)\n    const index = Manipulator.getDataAttribute(target.closest(SELECTOR_CALENDAR_PANEL), 'calendar-index')\n\n    if (isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates)) {\n      return\n    }\n\n    if (this._view === 'days') {\n      this._setCalendarDate(index ? new Date(cloneDate.setMonth(cloneDate.getMonth() - index)) : date)\n    }\n\n    if (this._view === 'months' && this._config.selectionType !== 'month') {\n      this._setCalendarDate(index ? new Date(cloneDate.setMonth(cloneDate.getMonth() - index)) : date)\n      this._view = 'days'\n      this._updateCalendar()\n      return\n    }\n\n    if (this._view === 'years' && this._config.selectionType !== 'year') {\n      this._setCalendarDate(index ? new Date(cloneDate.setFullYear(cloneDate.getFullYear() - index)) : date)\n      this._view = 'months'\n      this._updateCalendar()\n      return\n    }\n\n    this._hoverDate = null\n    this._selectDate(date)\n    this._updateClassNames()\n  }\n\n  _handleCalendarKeydown(event) {\n    const date = this._getDate(event.target)\n\n    if (event.code === SPACE_KEY || event.key === ENTER_KEY) {\n      event.preventDefault()\n      this._handleCalendarClick(event)\n    }\n\n    if (\n      event.key === ARROW_RIGHT_KEY ||\n      event.key === ARROW_LEFT_KEY ||\n      event.key === ARROW_UP_KEY ||\n      event.key === ARROW_DOWN_KEY\n    ) {\n      event.preventDefault()\n\n      if (\n        this._config.maxDate &&\n        date >= convertToDateObject(this._config.maxDate, this._config.selectionType) &&\n        (event.key === ARROW_RIGHT_KEY || event.key === ARROW_DOWN_KEY)\n      ) {\n        return\n      }\n\n      if (\n        this._config.minDate &&\n        date <= convertToDateObject(this._config.minDate, this._config.selectionType) &&\n        (event.key === ARROW_LEFT_KEY || event.key === ARROW_UP_KEY)\n      ) {\n        return\n      }\n\n      let element = event.target\n\n      if (this._config.selectionType === 'week' && element.tabIndex === -1) {\n        element = element.closest('tr[tabindex=\"0\"]')\n      }\n\n      const list = SelectorEngine.find(\n        this._config.selectionType === 'week' ? 'tr[tabindex=\"0\"]' : 'td[tabindex=\"0\"]',\n        this._element\n      )\n\n      const index = list.indexOf(element)\n      const first = index === 0\n      const last = index === list.length - 1\n\n      const toBoundary = {\n        start: index,\n        end: list.length - (index + 1)\n      }\n\n      const gap = {\n        ArrowRight: 1,\n        ArrowLeft: -1,\n        ArrowUp: this._config.selectionType === 'week' && this._view === 'days' ? -1 : (this._view === 'days' ? -7 : -3),\n        ArrowDown: this._config.selectionType === 'week' && this._view === 'days' ? 1 : (this._view === 'days' ? 7 : 3)\n      }\n\n      if (\n        (event.key === ARROW_RIGHT_KEY && last) ||\n        (event.key === ARROW_DOWN_KEY && toBoundary.end < gap.ArrowDown) ||\n        (event.key === ARROW_LEFT_KEY && first) ||\n        (event.key === ARROW_UP_KEY && toBoundary.start < Math.abs(gap.ArrowUp))\n      ) {\n        const callback = key => {\n          setTimeout(() => {\n            const _list = SelectorEngine.find(\n              'td[tabindex=\"0\"], tr[tabindex=\"0\"]',\n              SelectorEngine.find('.calendar-panel', this._element).pop()\n            )\n\n            if (_list.length && key === ARROW_RIGHT_KEY) {\n              _list[0].focus()\n            }\n\n            if (_list.length && key === ARROW_LEFT_KEY) {\n              _list[_list.length - 1].focus()\n            }\n\n            if (_list.length && key === ARROW_DOWN_KEY) {\n              _list[gap.ArrowDown - (list.length - index)].focus()\n            }\n\n            if (_list.length && key === ARROW_UP_KEY) {\n              _list[_list.length - (Math.abs(gap.ArrowUp) + 1 - (index + 1))].focus()\n            }\n          }, 0)\n        }\n\n        if (this._view === 'days') {\n          this._modifyCalendarDate(0, event.key === ARROW_RIGHT_KEY || event.key === ARROW_DOWN_KEY ? 1 : -1, callback(event.key))\n        }\n\n        if (this._view === 'months') {\n          this._modifyCalendarDate(event.key === ARROW_RIGHT_KEY || event.key === ARROW_DOWN_KEY ? 1 : -1, callback(event.key))\n        }\n\n        if (this._view === 'years') {\n          this._modifyCalendarDate(event.key === ARROW_RIGHT_KEY || event.key === ARROW_DOWN_KEY ? 10 : -10, callback(event.key))\n        }\n\n        return\n      }\n\n      if (list[index + gap[event.key]].tabIndex === 0) {\n        list[index + gap[event.key]].focus()\n        return\n      }\n\n      for (let i = index; i < list.length; event.key === ARROW_RIGHT_KEY || event.key === ARROW_DOWN_KEY ? i++ : i--) {\n        if (list[i + gap[event.key]].tabIndex === 0) {\n          list[i + gap[event.key]].focus()\n          break\n        }\n      }\n    }\n  }\n\n  _handleCalendarMouseEnter(event) {\n    const target = event.target.classList.contains(CLASS_NAME_CALENDAR_CELL_INNER) ? event.target.parentElement : event.target\n    const date = this._getDate(target)\n\n    if (isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates)) {\n      return\n    }\n\n    this._hoverDate = date\n\n    EventHandler.trigger(this._element, EVENT_CELL_HOVER, {\n      date: getDateBySelectionType(date, this._config.selectionType)\n    })\n\n    this._updateClassNames()\n  }\n\n  _handleCalendarMouseLeave() {\n    this._hoverDate = null\n\n    EventHandler.trigger(this._element, EVENT_CELL_HOVER, {\n      date: null\n    })\n\n    this._updateClassNames()\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, `${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, event => {\n      this._handleCalendarClick(event)\n    })\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, `${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, event => {\n      this._handleCalendarKeydown(event)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEENTER, `${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, event => {\n      this._handleCalendarMouseEnter(event)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSELEAVE, `${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, () => {\n      this._handleCalendarMouseLeave()\n    })\n\n    EventHandler.on(this._element, EVENT_FOCUS, `${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, event => {\n      this._handleCalendarMouseEnter(event)\n    })\n\n    EventHandler.on(this._element, EVENT_BLUR, `${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, () => {\n      this._handleCalendarMouseLeave()\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, `${SELECTOR_CALENDAR_ROW}[tabindex=\"0\"]`, event => {\n      this._handleCalendarClick(event)\n    })\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, `${SELECTOR_CALENDAR_ROW}[tabindex=\"0\"]`, event => {\n      this._handleCalendarKeydown(event)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEENTER, `${SELECTOR_CALENDAR_ROW}[tabindex=\"0\"]`, event => {\n      this._handleCalendarMouseEnter(event)\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSELEAVE, `${SELECTOR_CALENDAR_ROW}[tabindex=\"0\"]`, () => {\n      this._handleCalendarMouseLeave()\n    })\n\n    EventHandler.on(this._element, EVENT_FOCUS, `${SELECTOR_CALENDAR_ROW}[tabindex=\"0\"]`, event => {\n      this._handleCalendarMouseEnter(event)\n    })\n\n    EventHandler.on(this._element, EVENT_BLUR, `${SELECTOR_CALENDAR_ROW}[tabindex=\"0\"]`, () => {\n      this._handleCalendarMouseLeave()\n    })\n\n    // Navigation\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_BTN_PREV, event => {\n      event.preventDefault()\n      this._modifyCalendarDate(0, -1)\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_BTN_DOUBLE_PREV, event => {\n      event.preventDefault()\n      this._modifyCalendarDate(this._view === 'years' ? -10 : -1)\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_BTN_NEXT, event => {\n      event.preventDefault()\n      this._modifyCalendarDate(0, 1)\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_BTN_DOUBLE_NEXT, event => {\n      event.preventDefault()\n      this._modifyCalendarDate(this._view === 'years' ? 10 : 1)\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_BTN_MONTH, event => {\n      event.preventDefault()\n      this._view = 'months'\n      this._updateCalendar()\n    })\n\n    EventHandler.on(this._element, EVENT_CLICK_DATA_API, SELECTOR_BTN_YEAR, event => {\n      event.preventDefault()\n      this._view = 'years'\n      this._updateCalendar()\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSELEAVE, 'table', () => {\n      EventHandler.trigger(this._element, EVENT_CALENDAR_MOUSE_LEAVE)\n    })\n  }\n\n  _setCalendarDate(date) {\n    this._calendarDate = date\n\n    EventHandler.trigger(this._element, EVENT_CALENDAR_DATE_CHANGE, {\n      date\n    })\n  }\n\n  _modifyCalendarDate(years, months = 0, callback) {\n    const year = this._calendarDate.getFullYear()\n    const month = this._calendarDate.getMonth()\n    const d = new Date(year, month, 1)\n\n    if (years) {\n      d.setFullYear(d.getFullYear() + years)\n    }\n\n    if (months) {\n      d.setMonth(d.getMonth() + months)\n    }\n\n    this._calendarDate = d\n\n    if (this._view === 'days') {\n      EventHandler.trigger(this._element, EVENT_CALENDAR_DATE_CHANGE, {\n        date: d\n      })\n    }\n\n    this._updateCalendar(callback)\n  }\n\n  _setEndDate(date) {\n    this._endDate = date\n    EventHandler.trigger(this._element, EVENT_END_DATE_CHANGE, {\n      date: getDateBySelectionType(this._endDate, this._config.selectionType)\n    })\n  }\n\n  _setStartDate(date) {\n    this._startDate = date\n    EventHandler.trigger(this._element, EVENT_START_DATE_CHANGE, {\n      date: getDateBySelectionType(this._startDate, this._config.selectionType)\n    })\n  }\n\n  _setSelectEndDate(value) {\n    this._selectEndDate = value\n    EventHandler.trigger(this._element, EVENT_SELECT_END_CHANGE, {\n      value\n    })\n  }\n\n  _selectDate(date) {\n    if (isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates)) {\n      return\n    }\n\n    if (this._config.range) {\n      if (this._selectEndDate) {\n        this._setSelectEndDate(false)\n\n        if (this._startDate && this._startDate > date) {\n          this._setStartDate(null)\n          this._setEndDate(null)\n          return\n        }\n\n        if (isDisableDateInRange(this._startDate, date, this._config.disabledDates)) {\n          this._setStartDate(null)\n          this._setEndDate(null)\n          return\n        }\n\n        this._setEndDate(date)\n        return\n      }\n\n      if (this._endDate && this._endDate < date) {\n        this._setStartDate(null)\n        this._setEndDate(null)\n        return\n      }\n\n      if (isDisableDateInRange(date, this._endDate, this._config.disabledDates)) {\n        this._setStartDate(null)\n        this._setEndDate(null)\n        return\n      }\n\n      this._setSelectEndDate(true)\n      this._setStartDate(date)\n      return\n    }\n\n    this._setStartDate(date)\n  }\n\n  _createCalendarPanel(order) {\n    const calendarDate = getCalendarDate(this._calendarDate, order, this._view)\n    const year = calendarDate.getFullYear()\n    const month = calendarDate.getMonth()\n\n    const calendarPanelEl = document.createElement('div')\n    calendarPanelEl.classList.add('calendar-panel')\n\n    Manipulator.setDataAttribute(calendarPanelEl, 'calendar-index', order)\n\n    // Create navigation\n    const navigationElement = document.createElement('div')\n    navigationElement.classList.add('calendar-nav')\n    navigationElement.innerHTML = `\n      <div class=\"calendar-nav-prev\">\n        <button class=\"btn btn-transparent btn-sm btn-double-prev\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-double-prev\"></span>\n        </button>\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-prev\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-prev\"></span>\n        </button>` : ''}\n      </div>\n      <div class=\"calendar-nav-date\">\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-month\">\n          ${calendarDate.toLocaleDateString(this._config.locale, { month: 'long' })}\n        </button>` : ''}\n        <button class=\"btn btn-transparent btn-sm btn-year\">\n          ${calendarDate.toLocaleDateString(this._config.locale, { year: 'numeric' })}\n        </button>\n      </div>\n      <div class=\"calendar-nav-next\">\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-next\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-next\"></span>\n        </button>` : ''}\n        <button class=\"btn btn-transparent btn-sm btn-double-next\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-double-next\"></span>\n        </button>\n      </div>\n    `\n\n    const monthDetails = getMonthDetails(year, month, this._config.firstDayOfWeek)\n    const listOfMonths = createGroupsInArray(getMonthsNames(this._config.locale), 4)\n    const listOfYears = createGroupsInArray(getYears(calendarDate.getFullYear()), 4)\n    const weekDays = monthDetails[0].days\n\n    const calendarTable = document.createElement('table')\n    calendarTable.innerHTML = `\n    ${this._view === 'days' ? `\n      <thead>\n        <tr>\n          ${this._config.showWeekNumber ?\n            `<th class=\"calendar-cell\">\n              <div class=\"calendar-header-cell-inner\">\n               ${this._config.weekNumbersLabel ?? ''}\n              </div>\n            </th>` : ''\n          }\n          ${weekDays.map(({ date }) => (\n            `<th class=\"calendar-cell\">\n              <div class=\"calendar-header-cell-inner\">\n              ${typeof this._config.weekdayFormat === 'string' ?\n                date.toLocaleDateString(this._config.locale, { weekday: this._config.weekdayFormat }) :\n                date\n                  .toLocaleDateString(this._config.locale, { weekday: 'long' })\n                  .slice(0, this._config.weekdayFormat)}\n              </div>\n            </th>`\n          )).join('')}\n        </tr>\n      </thead>` : ''}\n      <tbody>\n        ${this._view === 'days' ? monthDetails.map(week => {\n          const date = convertToDateObject(\n            week.weekNumber === 0 ?\n              `${calendarDate.getFullYear()}W53` :\n              `${calendarDate.getFullYear()}W${week.weekNumber}`,\n            this._config.selectionType\n          )\n          return (\n            `<tr \n              class=\"calendar-row ${this._config.selectionType === 'week' && this._sharedClassNames(date)}\"\n              tabindex=\"${\n                this._config.selectionType === 'week' &&\n                week.days.some(day => day.month === 'current') &&\n                !isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates) ? 0 : -1\n              }\"\n            >\n              ${this._config.showWeekNumber ?\n                `<th class=\"calendar-cell-week-number\">${week.weekNumber === 0 ? 53 : week.weekNumber}</td>` : ''\n              }\n              ${week.days.map(({ date, month }) => (\n              month === 'current' || this._config.showAdjacementDays ?\n                `<td \n                  class=\"calendar-cell ${this._dayClassNames(date, month)}\"\n                  tabindex=\"${\n                    this._config.selectionType === 'day' &&\n                    (month === 'current' || this._config.selectAdjacementDays) &&\n                    !isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates) ? 0 : -1\n                  }\"\n                  data-coreui-date=\"${date}\"\n                >\n                  <div class=\"calendar-cell-inner day\">\n                    ${date.toLocaleDateString(this._config.locale, { day: 'numeric' })}\n                  </div>\n                </td>` :\n                '<td></td>'\n            )).join('')}</tr>`\n          )\n        }).join('') : ''}\n        ${this._view === 'months' ? listOfMonths.map((row, index) => (\n          `<tr>\n            ${row.map((month, idx) => {\n              const date = new Date(calendarDate.getFullYear(), (index * 3) + idx, 1)\n              return (\n                `<td\n                  class=\"calendar-cell ${this._sharedClassNames(date)}\"\n                  data-coreui-date=\"${date.toDateString()}\"\n                  tabindex=\"${isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates) ? -1 : 0}\"\n                >\n                  <div class=\"calendar-cell-inner month\">\n                    ${month}\n                  </div>\n                </td>`\n              )\n            }).join('')}\n          </tr>`\n        )).join('') : ''}\n        ${this._view === 'years' ? listOfYears.map(row => (\n          `<tr>\n            ${row.map(year => {\n              const date = new Date(year, 0, 1)\n              return (\n                `<td\n                  class=\"calendar-cell ${this._sharedClassNames(date)}\"\n                  data-coreui-date=\"${date.toDateString()}\"\n                  tabindex=\"${isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates) ? -1 : 0}\"\n                >\n                  <div class=\"calendar-cell-inner year\">\n                    ${year}\n                  </div>\n                </td>`\n              )\n            }).join('')}\n          </tr>`\n        )).join('') : ''}\n      </tbody>\n    `\n    calendarPanelEl.append(navigationElement, calendarTable)\n\n    return calendarPanelEl\n  }\n\n  _createCalendar() {\n    const calendarsEl = document.createElement('div')\n    calendarsEl.classList.add('calendars')\n\n    if (this._config.selectionType && this._view === 'days') {\n      calendarsEl.classList.add(`select-${this._config.selectionType}`)\n    }\n\n    if (this._config.showWeekNumber) {\n      calendarsEl.classList.add('show-week-numbers')\n    }\n\n    for (const [index, _] of Array.from({ length: this._config.calendars }).entries()) {\n      calendarsEl.append(this._createCalendarPanel(index))\n    }\n\n    this._element.classList.add(CLASS_NAME_CALENDAR)\n    this._element.append(calendarsEl)\n  }\n\n  _updateCalendar(callback) {\n    this._element.innerHTML = ''\n    this._createCalendar()\n\n    if (callback) {\n      callback()\n    }\n  }\n\n  _updateClassNames() {\n    if (this._config.selectionType === 'week') {\n      const rows = SelectorEngine.find(SELECTOR_CALENDAR_ROW, this._element)\n\n      for (const row of rows) {\n        const firstCell = SelectorEngine.findOne(SELECTOR_CALENDAR_CELL, row)\n        const date = new Date(Manipulator.getDataAttribute(firstCell, 'date'))\n        const classNames = this._sharedClassNames(date)\n\n        row.className = `${CLASS_NAME_CALENDAR_ROW} ${classNames}`\n      }\n\n      return\n    }\n\n    const cells = SelectorEngine.find(`${SELECTOR_CALENDAR_CELL}[tabindex=\"0\"]`, this._element)\n\n    for (const cell of cells) {\n      const date = new Date(Manipulator.getDataAttribute(cell, 'date'))\n      const classNames = this._config.selectionType === 'day' ? this._dayClassNames(date, 'current') : this._sharedClassNames(date)\n\n      cell.className = `${CLASS_NAME_CALENDAR_CELL} ${classNames}`\n    }\n  }\n\n  _dayClassNames(date, month) {\n    const classNames = {\n      ...(this._config.selectionType === 'day' && this._view === 'days' && {\n        clickable: month !== 'current' && this._config.selectAdjacementDays,\n        disabled: isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates),\n        range: month === 'current' && isDateInRange(date, this._startDate, this._endDate),\n        'range-hover': month === 'current' &&\n          (this._hoverDate && this._selectEndDate ?\n            isDateInRange(date, this._startDate, this._hoverDate) :\n            isDateInRange(date, this._hoverDate, this._endDate)),\n        selected: isDateSelected(date, this._startDate, this._endDate)\n      }),\n      today: isToday(date),\n      [month]: true\n    }\n\n    // eslint-disable-next-line unicorn/no-array-reduce\n    const result = Object.keys(classNames).reduce((o, key) => {\n      // eslint-disable-next-line no-unused-expressions\n      classNames[key] === true && (o[key] = classNames[key])\n      return o\n    }, {})\n\n    return Object.keys(result).join(' ')\n  }\n\n  _sharedClassNames(date) {\n    const classNames = {\n      disabled: isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates),\n      range: isDateInRange(date, this._startDate, this._endDate),\n      'range-hover': (\n          (this._config.selectionType === 'week' && this._view === 'days') ||\n          (this._config.selectionType === 'month' && this._view === 'months') ||\n          (this._config.selectionType === 'year' && this._view === 'years')\n        ) && (this._hoverDate && this._selectEndDate ?\n          isDateInRange(date, this._startDate, this._hoverDate) :\n          isDateInRange(date, this._hoverDate, this._endDate)),\n      selected: isDateSelected(date, this._startDate, this._endDate)\n    }\n\n    // eslint-disable-next-line unicorn/no-array-reduce\n    const result = Object.keys(classNames).reduce((o, key) => {\n      // eslint-disable-next-line no-unused-expressions\n      classNames[key] === true && (o[key] = classNames[key])\n      return o\n    }, {})\n\n    return Object.keys(result).join(' ')\n  }\n\n  // Static\n\n  static calendarInterface(element, config) {\n    const data = Calendar.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Calendar.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of Array.from(document.querySelectorAll(SELECTOR_CALENDAR))) {\n    Calendar.calendarInterface(element)\n  }\n})\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Calendar)\n\nexport default Calendar\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","ARROW_UP_KEY","ARROW_RIGHT_KEY","ARROW_DOWN_KEY","ARROW_LEFT_KEY","ENTER_KEY","SPACE_KEY","EVENT_BLUR","EVENT_CALENDAR_DATE_CHANGE","EVENT_CALENDAR_MOUSE_LEAVE","EVENT_CELL_HOVER","EVENT_END_DATE_CHANGE","EVENT_FOCUS","EVENT_KEYDOWN","EVENT_SELECT_END_CHANGE","EVENT_START_DATE_CHANGE","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_LOAD_DATA_API","EVENT_CLICK_DATA_API","CLASS_NAME_CALENDAR","CLASS_NAME_CALENDAR_CELL","CLASS_NAME_CALENDAR_CELL_INNER","CLASS_NAME_CALENDAR_ROW","SELECTOR_BTN_DOUBLE_NEXT","SELECTOR_BTN_DOUBLE_PREV","SELECTOR_BTN_MONTH","SELECTOR_BTN_NEXT","SELECTOR_BTN_PREV","SELECTOR_BTN_YEAR","SELECTOR_CALENDAR","SELECTOR_CALENDAR_CELL","SELECTOR_CALENDAR_PANEL","SELECTOR_CALENDAR_ROW","Default","calendarDate","calendars","disabledDates","endDate","firstDayOfWeek","locale","maxDate","minDate","range","selectAdjacementDays","selectEndDate","selectionType","showAdjacementDays","showWeekNumber","startDate","weekdayFormat","weekNumbersLabel","DefaultType","Calendar","BaseComponent","constructor","element","config","_config","_getConfig","_calendarDate","convertToDateObject","Date","_startDate","_endDate","_hoverDate","_selectEndDate","_view","_createCalendar","_addEventListeners","update","_element","innerHTML","_getDate","target","firstCell","SelectorEngine","findOne","closest","Manipulator","getDataAttribute","_handleCalendarClick","event","classList","contains","parentElement","date","cloneDate","index","isDateDisabled","_setCalendarDate","setMonth","getMonth","_updateCalendar","setFullYear","getFullYear","_selectDate","_updateClassNames","_handleCalendarKeydown","code","key","preventDefault","tabIndex","list","find","indexOf","first","last","length","toBoundary","start","end","gap","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Math","abs","callback","setTimeout","_list","pop","focus","_modifyCalendarDate","i","_handleCalendarMouseEnter","EventHandler","trigger","getDateBySelectionType","_handleCalendarMouseLeave","on","years","months","year","month","d","_setEndDate","_setStartDate","_setSelectEndDate","value","isDisableDateInRange","_createCalendarPanel","order","_this$_config$weekNum","getCalendarDate","calendarPanelEl","document","createElement","add","setDataAttribute","navigationElement","toLocaleDateString","monthDetails","getMonthDetails","listOfMonths","createGroupsInArray","getMonthsNames","listOfYears","getYears","weekDays","days","calendarTable","map","weekday","slice","join","week","weekNumber","_sharedClassNames","some","day","_dayClassNames","row","idx","toDateString","append","calendarsEl","_","Array","from","entries","rows","classNames","className","cells","cell","clickable","disabled","isDateInRange","selected","isDateSelected","today","isToday","result","Object","keys","reduce","o","calendarInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","undefined","startsWith","window","querySelectorAll","defineJQueryPlugin"],"mappings":"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"}