{"version":3,"file":"picker.js","sources":["../src/picker.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO picker.js\n * License (https://coreui.io/pro/license/)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport Dropdown from './dropdown.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'picker'\nconst DATA_KEY = 'coreui.picker'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_CANCEL = `onCancelClick${EVENT_KEY}`\n\nconst Default = {\n  cancelButton: 'Cancel',\n  cancelButtonClasses: ['btn', 'btn-sm', 'btn-ghost-primary'],\n  confirmButton: 'OK',\n  confirmButtonClasses: ['btn', 'btn-sm', 'btn-primary'],\n  container: 'dropdown',\n  disabled: false,\n  footer: false\n}\n\nconst DefaultType = {\n  cancelButton: '(boolean|string)',\n  cancelButtonClasses: '(array|string)',\n  confirmButton: '(boolean|string)',\n  confirmButtonClasses: '(array|string)',\n  container: 'string',\n  disabled: 'boolean',\n  footer: 'boolean'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass Picker extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._dropdown = null\n\n    //\n    this._dropdownEl = null\n    this._dropdownMenuEl = null\n    this._dropdownToggleEl = null\n\n    this._createPicker()\n  }\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  _getButtonClasses(classes) {\n    if (typeof classes === 'string') {\n      return classes.split(' ')\n    }\n\n    return classes\n  }\n\n  // Private\n  _createDropdown() {\n    const dropdownEl = document.createElement('div')\n    dropdownEl.classList.add('picker')\n    this._dropdownEl = dropdownEl\n\n    const dropdownToggleEl = document.createElement('div')\n    this._dropdownToggleEl = dropdownToggleEl\n\n    if (!this._config.disabled) {\n      Manipulator.setDataAttribute(dropdownToggleEl, 'toggle', 'dropdown')\n    }\n\n    const dropdownMenuEl = document.createElement('div')\n    dropdownMenuEl.classList.add('dropdown-menu')\n    this._dropdownMenuEl = dropdownMenuEl\n\n    dropdownEl.append(dropdownToggleEl, dropdownMenuEl)\n\n    this._element.append(dropdownEl)\n\n    this._dropdown = new Dropdown(dropdownToggleEl, {\n      autoClose: 'outside'\n    })\n  }\n\n  _createFooter() {\n    const footerEl = document.createElement('div')\n    footerEl.classList.add('picker-footer')\n\n    footerEl.append(this._createFooterContent())\n\n    if (this._config.cancelButton) {\n      const cancelButtonEl = document.createElement('button')\n      cancelButtonEl.classList.add(...this._getButtonClasses(this._config.cancelButtonClasses))\n      cancelButtonEl.type = 'button'\n      cancelButtonEl.innerHTML = this._config.cancelButton\n      cancelButtonEl.addEventListener('click', () => {\n        this._dropdown.hide()\n        EventHandler.trigger(this._element, EVENT_CANCEL)\n      })\n\n      footerEl.append(cancelButtonEl)\n    }\n\n    if (this._config.confirmButton) {\n      const confirmButtonEl = document.createElement('button')\n      confirmButtonEl.classList.add(...this._getButtonClasses(this._config.confirmButtonClasses))\n      confirmButtonEl.type = 'button'\n      confirmButtonEl.innerHTML = this._config.confirmButton\n      confirmButtonEl.addEventListener('click', () => {\n        this._dropdown.hide()\n      })\n\n      footerEl.append(confirmButtonEl)\n    }\n\n    this._dropdownMenuEl.append(footerEl)\n  }\n\n  _createFooterContent() {\n    return ''\n  }\n\n  _createPicker() {\n    if (this._config.container === 'dropdown') {\n      this._createDropdown()\n    }\n\n    if (this._config.footer || this._config.timepicker) {\n      this._createFooter()\n    }\n  }\n\n  _getConfig(config) {\n    config = {\n      ...this.constructor.Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...(typeof config === 'object' ? config : {})\n    }\n\n    return config\n  }\n}\n\nexport default Picker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","EVENT_CANCEL","Default","cancelButton","cancelButtonClasses","confirmButton","confirmButtonClasses","container","disabled","footer","DefaultType","Picker","BaseComponent","constructor","element","config","_config","_getConfig","_dropdown","_dropdownEl","_dropdownMenuEl","_dropdownToggleEl","_createPicker","_getButtonClasses","classes","split","_createDropdown","dropdownEl","document","createElement","classList","add","dropdownToggleEl","Manipulator","setDataAttribute","dropdownMenuEl","append","_element","Dropdown","autoClose","_createFooter","footerEl","_createFooterContent","cancelButtonEl","type","innerHTML","addEventListener","hide","EventHandler","trigger","confirmButtonEl","timepicker","getDataAttributes"],"mappings":"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"}